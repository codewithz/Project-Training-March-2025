(self.webpackChunktrello_client=self.webpackChunktrello_client||[]).push([[70128],{"./node_modules/@atlaskit/feature-gate-js-client/dist/esm/client/FeatureGates.js":(e,t,r)=>{"use strict";r.d(t,{Ay:()=>K});var n=r("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),i=r("./node_modules/@babel/runtime/helpers/esm/createClass.js"),s=r("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=r("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),a=r("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),l=r("./node_modules/@babel/runtime/regenerator/index.js"),u=r.n(l),c=r("./node_modules/statsig-js-lite/dist/index.js"),d=r.n(c),h=r("./node_modules/eventemitter2/lib/eventemitter2.js");function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){(0,s.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var m="@all-features",g=(0,i.A)(function e(){(0,n.A)(this,e),(0,s.A)(this,"eventToValue",new Map),this.emitter=new h.EventEmitter2},[{key:"onGateUpdated",value:function(e,t,r,n){var i=this,s=r(e,f(f({},n),{},{fireGateExposure:!1}));void 0===this.eventToValue.get(t)&&this.eventToValue.set(t,s);var o=function(){var s=r(e,f(f({},n),{},{fireGateExposure:!1}));i.eventToValue.get(t)!==s&&(i.eventToValue.set(t,s),t(s))};return this.emitter.on(e,o),function(){i.emitter.off(e,o)}}},{key:"onExperimentValueUpdated",value:function(e,t,r,n,i,s){var o=this,a="".concat(e,".").concat(t),l=i(e,t,r,f(f({},s),{},{fireExperimentExposure:!1}));void 0===this.eventToValue.get(n)&&this.eventToValue.set(n,l);var u=function(){var a=i(e,t,r,f(f({},s),{},{fireExperimentExposure:!1}));o.eventToValue.get(n)!==a&&(o.eventToValue.set(n,a),n(a))};return this.emitter.on(a,u),function(){o.emitter.off(a,u)}}},{key:"onAnyUpdated",value:function(e){var t=this;return this.emitter.on(m,e),function(){t.emitter.off(m,e)}}},{key:"anyUpdated",value:function(){var e=this;this.emitter.emit(m),this.emitter.eventNames().filter(function(e){return e!==m}).forEach(function(t){e.emitter.emit(t)})}}]),y=r("./node_modules/@atlaskit/feature-gate-js-client/dist/esm/client/types.js"),v=r("./node_modules/@atlaskit/feature-gate-js-client/dist/esm/client/version.js"),b=r("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),_=r("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),w=r("./node_modules/@babel/runtime/helpers/esm/inherits.js");function C(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(C=function(){return!!e})()}var E=function(e){function t(e){var r,i;return(0,n.A)(this,t),r=t,i=[e],r=(0,_.A)(r),(0,b.A)(this,C()?Reflect.construct(r,i||[],(0,_.A)(this).constructor):r.apply(this,i))}return(0,w.A)(t,e),(0,i.A)(t)}((0,r("./node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js").A)(Error));function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var O=function(){var e,t,r,o,l;function c(){(0,n.A)(this,c)}return(0,i.A)(c,null,[{key:"fetchClientSdk",value:(e=(0,a.A)(u().mark(function e(t){var r,n;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.targetApp,n="/api/v2/frontend/clientSdkKey/".concat(r),e.prev=2,e.next=5,this.fetchRequest(n,"GET",t);case 5:return e.abrupt("return",e.sent);case 8:if(e.prev=8,e.t0=e.catch(2),!(e.t0 instanceof Error)){e.next=12;break}throw e.t0;case 12:throw Error("Failed to retrieve client sdk key");case 13:case"end":return e.stop()}},e,this,[[2,8]])})),function(t){return e.apply(this,arguments)})},{key:"fetchExperimentValues",value:(t=(0,a.A)(u().mark(function e(t,r,n){var i;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i={identifiers:r,customAttributes:n,targetApp:t.targetApp},e.prev=1,e.next=4,this.fetchRequest("/api/v2/frontend/experimentValues","POST",t,i);case 4:return e.abrupt("return",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),!(e.t0 instanceof Error)){e.next=11;break}throw e.t0;case 11:throw Error("Failed to retrieve experiment values");case 12:case"end":return e.stop()}},e,this,[[1,7]])})),function(e,r,n){return t.apply(this,arguments)})},{key:"handleResponseError",value:(r=(0,a.A)(u().mark(function e(t){var r;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=5;break}return e.next=3,t.text();case 3:throw r=e.sent,new E("Non 2xx response status received, status: ".concat(t.status,", body: ").concat(JSON.stringify(r)));case 5:if(204!==t.status){e.next=7;break}throw new E("Unexpected 204 response");case 7:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)})},{key:"extractResponseBody",value:(o=(0,a.A)(u().mark(function e(t){var r;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:return r=e.sent,e.abrupt("return",JSON.parse(r));case 4:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)})},{key:"getBaseUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0;if(t)return"/gateway/api/flags";if(r===y.cd.FEDRAMP_MODERATE)switch(e){case y.jQ.Production:return"https://api.atlassian-us-gov-mod.com/flags";case y.jQ.Staging:return"https://api.stg.atlassian-us-gov-mod.com/flags";default:throw Error('Invalid environment "'.concat(e,'" for "').concat(r,'" perimeter'))}else if(r===y.cd.COMMERCIAL)switch(e){case y.jQ.Development:return"https://api.dev.atlassian.com/flags";case y.jQ.Staging:return"https://api.stg.atlassian.com/flags";default:return"https://api.atlassian.com/flags"}else throw Error('Invalid perimeter "'.concat(r,'"'))}},{key:"fetchRequest",value:(l=(0,a.A)(u().mark(function e(t,r,n,i){var o,a,l,d,h;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.getBaseUrl(n.environment,n.useGatewayURL,n.perimeter),a=n.fetchTimeoutMs||5e3,AbortSignal.timeout?l=AbortSignal.timeout(a):AbortController&&(l=(d=new AbortController).signal,setTimeout(function(){return d.abort()},a)),e.next=5,fetch("".concat(o).concat(t),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach(function(t){(0,s.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({method:r,headers:{"Content-Type":"application/json","X-Client-Name":"feature-gate-js-client","X-Client-Version":v.f,"X-API-KEY":n.apiKey},signal:l},i&&{body:JSON.stringify(i)}));case 5:return h=e.sent,e.next=8,this.handleResponseError(h);case 8:return e.next=10,this.extractResponseBody(h);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return l.apply(this,arguments)})}])}(),k=r("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),S=["sdkKey","updateUserCompletionCallback","perimeter"];function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach(function(t){(0,s.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var x=function(e){return j({perimeter:!function(){var e,t=globalThis,r=t.MICROS_PERIMETER||t.UNSAFE_ATL_CONTEXT_BOUNDARY;if(r)return"fedramp-moderate"===r;var n=null===(e=t.location)||void 0===e||null===(e=e.hostname)||void 0===e?void 0:e.match(/atlassian-us-gov-mod\.(com|net)|atlassian-us-gov\.(com|net)|atlassian-fex\.(com|net)|atlassian-stg-fedm\.(com|net)/);return!!n&&n.length>0}()?y.cd.COMMERCIAL:y.cd.FEDRAMP_MODERATE},e)},T=function(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;var r=Object.entries(e),n=Object.entries(t);if(r.length!==n.length)return!1;var i=function(e,t){var r=(0,o.A)(e,1)[0],n=(0,o.A)(t,1)[0];return r.localeCompare(n)};r.sort(i),n.sort(i);for(var s=0;s<r.length;s++)if((0,o.A)(r[s],2)[1]!==(0,o.A)(n[s],2)[1])return!1;return!0},P=function(e,t){var r={customIDs:e,custom:t};return e.atlassianAccountId&&(r.userID=e.atlassianAccountId),r},D=function(e){return function(t,r,n){e(r,n)}};function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach(function(t){(0,s.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var R="client-default-key",M=function(){var e,t,r,l,h,p,f,m,b,_,w;return(0,i.A)(function e(){(0,n.A)(this,e),(0,s.A)(this,"initPromise",null),(0,s.A)(this,"initCompleted",!1),(0,s.A)(this,"initWithDefaults",!1),(0,s.A)(this,"hasCheckGateErrorOccurred",!1),(0,s.A)(this,"hasGetExperimentErrorOccurred",!1),(0,s.A)(this,"hasGetExperimentValueErrorOccurred",!1),(0,s.A)(this,"hasGetLayerErrorOccurred",!1),(0,s.A)(this,"hasGetLayerValueErrorOccurred",!1),(0,s.A)(this,"subscriptions",new g)},[{key:"initialize",value:(e=(0,a.A)(u().mark(function e(t,r,n){var i,s,o=this;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=x(t),!this.initPromise){e.next=4;break}return T(i,this.initOptions)||console.warn("Feature Gates client already initialized with different options. New options were not applied."),e.abrupt("return",this.initPromise);case 4:return s=performance.now(),this.initOptions=i,this.initPromise=this.init(i,r,n).then(function(){o.initCompleted=!0,o.initWithDefaults=!0}).finally(function(){var e=performance.now()-s;o.fireClientEvent(s,e,"initialize",o.initCompleted,i.apiKey)}),e.abrupt("return",this.initPromise);case 8:case"end":return e.stop()}},e,this)})),function(t,r,n){return e.apply(this,arguments)})},{key:"initializeWithProvider",value:(t=(0,a.A)(u().mark(function e(t,r,n,i){var s,o,a=this;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=x(t),!this.initPromise){e.next=4;break}return T(s,this.initOptions)||console.warn("Feature Gates client already initialized with different options. New options were not applied."),e.abrupt("return",this.initPromise);case 4:return o=performance.now(),this.initOptions=s,this.provider=r,this.provider.setClientVersion(v.f),this.provider.setApplyUpdateCallback&&this.provider.setApplyUpdateCallback(this.applyUpdateCallback),this.initPromise=this.initWithProvider(s,r,n,i).then(function(){a.initCompleted=!0,a.initWithDefaults=!0}).finally(function(){var e=performance.now()-o;a.fireClientEvent(o,e,"initializeWithProvider",a.initCompleted,r.getApiKey?r.getApiKey():void 0)}),e.abrupt("return",this.initPromise);case 11:case"end":return e.stop()}},e,this)})),function(e,r,n,i){return t.apply(this,arguments)})},{key:"applyUpdateCallback",value:function(e){try{(this.initCompleted||this.initWithDefaults)&&(d().setInitializeValues(e.experimentValues),this.subscriptions.anyUpdated())}catch(e){console.warn("Error when attempting to apply update",e)}}},{key:"fireClientEvent",value:function(e,t,r,n){var i,s=this,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;null===(i=this.initOptions.analyticsWebClient)||void 0===i||i.then(function(i){var a=N({targetApp:s.initOptions.targetApp,clientVersion:v.f,success:n,startTime:e,totalTime:t},o&&{apiKey:o});i.sendOperationalEvent({action:r,actionSubject:"featureGatesClient",attributes:a,tags:["measurement"],source:"@atlaskit/feature-gate-js-client"})}).catch(function(e){s.initOptions.environment!==y.jQ.Production&&console.error("Analytics web client promise did not resolve",e)})}},{key:"initializeFromValues",value:(r=(0,a.A)(u().mark(function e(t,r,n){var i,s,o,a=this,l=arguments;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=l.length>3&&void 0!==l[3]?l[3]:{},s=x(t),!this.initPromise){e.next=5;break}return T(s,this.initOptions)||console.warn("Feature Gates client already initialized with different options. New options were not applied."),e.abrupt("return",this.initPromise);case 5:return o=performance.now(),this.initOptions=s,this.initPromise=this.initFromValues(s,r,n,i).then(function(){a.initCompleted=!0,a.initWithDefaults=!0}).finally(function(){var e=performance.now()-o;a.fireClientEvent(o,e,"initializeFromValues",a.initCompleted)}),e.abrupt("return",this.initPromise);case 9:case"end":return e.stop()}},e,this)})),function(e,t,n){return r.apply(this,arguments)})},{key:"updateUser",value:(l=(0,a.A)(u().mark(function e(t,r,n){var i,s;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=x(t),s=function(){return O.fetchExperimentValues(i,r,n).then(function(e){return{experimentValues:e.experimentValues,customAttributesFromFetch:e.customAttributes}})},e.next=4,this.updateUserUsingInitializeValuesProducer(s,r,n);case 4:case"end":return e.stop()}},e,this)})),function(e,t,r){return l.apply(this,arguments)})},{key:"updateUserWithProvider",value:(h=(0,a.A)(u().mark(function e(t,r){var n=this;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.provider){e.next=2;break}throw Error("Cannot update user using provider as the client was not initialised with a provider");case 2:return e.next=4,this.provider.setProfile(this.initOptions,t,r);case 4:return e.next=6,this.updateUserUsingInitializeValuesProducer(function(){return n.provider.getExperimentValues()},t,r);case 6:case"end":return e.stop()}},e,this)})),function(e,t){return h.apply(this,arguments)})},{key:"updateUserWithValues",value:(p=(0,a.A)(u().mark(function e(t,r){var n,i,s=arguments;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:{},i=function(){return Promise.resolve({experimentValues:n,customAttributesFromFetch:r})},e.next=4,this.updateUserUsingInitializeValuesProducer(i,t,r);case 4:case"end":return e.stop()}},e,this)})),function(e,t){return p.apply(this,arguments)})},{key:"initializeCalled",value:function(){return null!=this.initPromise}},{key:"initializeCompleted",value:function(){return this.initCompleted}},{key:"checkGate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var r=t.fireGateExposure;return(void 0===r||r?d().checkGate.bind(d()):d().checkGateWithExposureLoggingDisabled.bind(d()))(e)}catch(t){return this.hasCheckGateErrorOccurred||(console.warn({msg:"An error has occurred checking the feature gate. Only the first occurrence of this error is logged.",gateName:e,error:t}),this.hasCheckGateErrorOccurred=!0),!1}}},{key:"isGateExist",value:function(e){try{return d()._getClientX()._getGateFromStore(e).evaluationDetails.reason!==c.EvaluationReason.Unrecognized}catch(e){return console.error("Error occurred when trying to check FeatureGate: ".concat(e)),!0}}},{key:"isExperimentExist",value:function(e){try{return d().getExperimentWithExposureLoggingDisabled(e)._evaluationDetails.reason!==c.EvaluationReason.Unrecognized}catch(e){return console.error("Error occurred when trying to check Experiment: ".concat(e)),!0}}},{key:"manuallyLogGateExposure",value:function(e){d().manuallyLogGateExposure(e)}},{key:"getExperiment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var r=t.fireExperimentExposure;return(void 0===r||r?d().getExperiment.bind(d()):d().getExperimentWithExposureLoggingDisabled.bind(d()))(e)}catch(t){return this.hasGetExperimentErrorOccurred||(console.warn({msg:"An error has occurred getting the experiment. Only the first occurrence of this error is logged.",experimentName:e,error:t}),this.hasGetExperimentErrorOccurred=!0),new c.DynamicConfig(e,{},"",{time:Date.now(),reason:c.EvaluationReason.Error})}}},{key:"getExperimentValue",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=this.getExperiment(e,n);try{var s=n.typeGuard;return i.get(t,r,s)}catch(t){return this.hasGetExperimentValueErrorOccurred||(console.warn({msg:"An error has occurred getting the experiment value. Only the first occurrence of this error is logged.",experimentName:e,defaultValue:r,options:n,error:t}),this.hasGetExperimentValueErrorOccurred=!0),r}}},{key:"manuallyLogExperimentExposure",value:function(e){d().manuallyLogExperimentExposure(e)}},{key:"manuallyLogLayerExposure",value:function(e,t){d().manuallyLogLayerParameterExposure(e,t)}},{key:"shutdownStatsig",value:function(){d().shutdown()}},{key:"overrideGate",value:function(e,t){d().overrideGate(e,t),this.subscriptions.anyUpdated()}},{key:"clearGateOverride",value:function(e){d().overrideGate(e,null),this.subscriptions.anyUpdated()}},{key:"overrideConfig",value:function(e,t){d().overrideConfig(e,t),this.subscriptions.anyUpdated()}},{key:"clearConfigOverride",value:function(e){d().overrideConfig(e,null),this.subscriptions.anyUpdated()}},{key:"setOverrides",value:function(e){d().setOverrides(N({gates:{},configs:{},layers:{}},e)),this.subscriptions.anyUpdated()}},{key:"getOverrides",value:function(){return d().getOverrides()}},{key:"clearAllOverrides",value:function(){d().setOverrides(null),this.subscriptions.anyUpdated()}},{key:"isCurrentUser",value:function(e,t){return T(this.currentIdentifiers,e)&&T(this.currentAttributes,t)}},{key:"onGateUpdated",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.subscriptions.onGateUpdated(e,function(i){var s=n.fireGateExposure;(void 0===s||s)&&r.manuallyLogGateExposure(e);try{t(i)}catch(t){console.warn("Error calling callback for gate ".concat(e," with value ").concat(i),t)}},this.checkGate.bind(this),n)}},{key:"onExperimentValueUpdated",value:function(e,t,r,n){var i=this,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return this.subscriptions.onExperimentValueUpdated(e,t,r,function(t){var r=s.fireExperimentExposure;(void 0===r||r)&&i.manuallyLogExperimentExposure(e);try{n(t)}catch(r){console.warn("Error calling callback for experiment ".concat(e," with value ").concat(t),r)}},this.getExperimentValue,s)}},{key:"onAnyUpdated",value:function(e){return this.subscriptions.onAnyUpdated(e)}},{key:"init",value:(f=(0,a.A)(u().mark(function e(t,r,n){var i,s,a,l,c,d,h;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=N({},t),e.prev=1,l=O.fetchClientSdk(t).then(function(e){return i.sdkKey=e.clientSdkKey}),c=O.fetchExperimentValues(t,r,n),e.next=6,Promise.all([l,c]);case 6:d=e.sent,s=(h=(0,o.A)(d,2)[1]).experimentValues,a=h.customAttributes,e.next=20;break;case 13:return e.prev=13,e.t0=e.catch(1),e.t0 instanceof Error&&console.error("Error occurred when trying to fetch the Feature Gates client values, error: ".concat(null===e.t0||void 0===e.t0?void 0:e.t0.message)),console.warn("Initialising Statsig client without values"),e.next=19,this.initFromValues(i,r,n);case 19:throw e.t0;case 20:return e.abrupt("return",this.initFromValues(i,r,a,s));case 21:case"end":return e.stop()}},e,this,[[1,13]])})),function(e,t,r){return f.apply(this,arguments)})},{key:"initWithProvider",value:(m=(0,a.A)(u().mark(function e(t,r,n,i){var s,a,l,c,d,h,p;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=N(N({},t),{},{disableCurrentPageLogging:!0}),e.prev=1,e.next=4,r.setProfile(t,n,i);case 4:return c=r.getClientSdkKey().then(function(e){return s.sdkKey=e}),d=r.getExperimentValues(),e.next=8,Promise.all([c,d]);case 8:h=e.sent,a=(p=(0,o.A)(h,2)[1]).experimentValues,l=p.customAttributesFromFetch,e.next=22;break;case 15:return e.prev=15,e.t0=e.catch(1),e.t0 instanceof Error&&console.error("Error occurred when trying to fetch the Feature Gates client values, error: ".concat(null===e.t0||void 0===e.t0?void 0:e.t0.message)),console.warn("Initialising Statsig client without values"),e.next=21,this.initFromValues(s,n,i);case 21:throw e.t0;case 22:return e.abrupt("return",this.initFromValues(s,n,l,a));case 23:case"end":return e.stop()}},e,this,[[1,15]])})),function(e,t,r,n){return m.apply(this,arguments)})},{key:"initFromValues",value:(b=(0,a.A)(u().mark(function e(t,r,n){var i,s,o,a,l=arguments;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=l.length>3&&void 0!==l[3]?l[3]:{},s=P(r,n),this.currentIdentifiers=r,this.currentAttributes=n,t.sdkKey||(t.sdkKey=R),t.eventLoggingApi||(t.eventLoggingApi="https://xp.atlassian.com/v1/"),t.perimeter===y.cd.FEDRAMP_MODERATE&&(t.disableAllLogging=!0),o=t.sdkKey,t.sdkKey,t.updateUserCompletionCallback,t.perimeter,a=j(j({},(0,k.A)(t,S)),{},{initializeValues:i,environment:{tier:t.environment},disableCurrentPageLogging:!0},t.updateUserCompletionCallback&&{updateUserCompletionCallback:D(t.updateUserCompletionCallback)}),e.prev=9,e.next=12,d().initialize(o,s,a);case 12:e.next=22;break;case 14:return e.prev=14,e.t0=e.catch(9),e.t0 instanceof Error&&console.error("Error occurred when trying to initialise the Statsig client, error: ".concat(null===e.t0||void 0===e.t0?void 0:e.t0.message)),console.warn("Initialising Statsig client with default sdk key and without values"),e.next=20,d().initialize(R,s,N(N({},a),{},{initializeValues:{}}));case 20:throw this.initWithDefaults=!0,e.t0;case 22:case"end":return e.stop()}},e,this,[[9,14]])})),function(e,t,r){return b.apply(this,arguments)})},{key:"updateUserUsingInitializeValuesProducer",value:(_=(0,a.A)(u().mark(function e(t,r,n){var i,s,o,l=this;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.initPromise){e.next=2;break}throw Error("The client must be initialized before you can update the user.");case 2:if(!this.isCurrentUser(r,n)){e.next=4;break}return e.abrupt("return",this.initPromise);case 4:return i=this.initPromise,e.prev=5,e.next=8,this.initPromise;case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(5);case 12:return s=t(),o=this.updateStatsigClientUser(s,r,n),this.initPromise=o.catch((0,a.A)(u().mark(function e(){return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l.initPromise=i,!l.provider){e.next=4;break}return e.next=4,l.provider.setProfile(l.initOptions,l.currentIdentifiers,l.currentAttributes);case 4:case"end":return e.stop()}},e)}))),e.abrupt("return",o);case 16:case"end":return e.stop()}},e,this,[[5,10]])})),function(e,t,r){return _.apply(this,arguments)})},{key:"updateStatsigClientUser",value:(w=(0,a.A)(u().mark(function e(t,r,n){var i,s,o,a,l;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:s=P(r,(i=e.sent).customAttributesFromFetch),e.next=12;break;case 7:throw e.prev=7,e.t0=e.catch(0),l=e.t0 instanceof Error?e.t0.message:JSON.stringify(e.t0),null===(o=(a=this.initOptions).updateUserCompletionCallback)||void 0===o||o.call(a,!1,l),e.t0;case 12:if(!d().updateUserWithValues(s,i.experimentValues)){e.next=19;break}this.currentIdentifiers=r,this.currentAttributes=n,this.subscriptions.anyUpdated(),e.next=20;break;case 19:throw Error("Failed to update user. An unexpected error occured.");case 20:case"end":return e.stop()}},e,this,[[0,7]])})),function(e,t,r){return w.apply(this,arguments)})},{key:"getPackageVersion",value:function(){return v.f}},{key:"getLayer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var r=t.fireLayerExposure;return(void 0===r||r?d().getLayer.bind(d()):d().getLayerWithExposureLoggingDisabled.bind(d()))(e)}catch(t){return this.hasGetLayerErrorOccurred||(console.warn({msg:"An error has occurred getting the layer. Only the first occurrence of this error is logged.",layerName:e,error:t}),this.hasGetLayerErrorOccurred=!0),c.Layer._create(e,{},"",{time:Date.now(),reason:c.EvaluationReason.Error})}}},{key:"getLayerValue",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=this.getLayer(e,n);try{var s=n.typeGuard;return i.get(t,r,s)}catch(t){return this.hasGetLayerValueErrorOccurred||(console.warn({msg:"An error has occurred getting the layer value. Only the first occurrence of this error is logged.",layerName:e,defaultValue:r,options:n,error:t}),this.hasGetLayerValueErrorOccurred=!0),r}}}])}(),U=(0,i.A)(function e(){(0,n.A)(this,e)},null,[{key:"isGateExists",value:function(e){return this.client.isGateExist(e)}},{key:"isExperimentExists",value:function(e){return this.client.isExperimentExist(e)}}]);(0,s.A)(U,"client",new M),(0,s.A)(U,"hasCheckGateErrorOccurred",!1),(0,s.A)(U,"hasGetExperimentValueErrorOccurred",!1),(0,s.A)(U,"checkGate",function(e,t){try{if(window&&window.__CRITERION__&&"function"==typeof window.__CRITERION__.getFeatureFlagOverride){var r=window.__CRITERION__.getFeatureFlagOverride(e);if(void 0!==r)return r}}catch(t){U.hasCheckGateErrorOccurred||(console.warn({msg:"An error has occurred checking the feature gate from criterion override. Only the first occurrence of this error is logged.",gateName:e,error:t}),U.hasCheckGateErrorOccurred=!0)}return U.client.checkGate(e,t)}),(0,s.A)(U,"getExperimentValue",function(e,t,r,n){try{if("undefined"!=typeof window&&window.__CRITERION__&&"function"==typeof window.__CRITERION__.getExperimentValueOverride){var i=window.__CRITERION__.getExperimentValueOverride(e,t);if(null!=i)return i}}catch(t){if(!U.hasCheckGateErrorOccurred)return U.hasGetExperimentValueErrorOccurred||(console.warn({msg:"An error has occurred getting the experiment value from criterion override. Only the first occurrence of this error is logged.",experimentName:e,defaultValue:r,options:n,error:t}),U.hasGetExperimentValueErrorOccurred=!0),r}return U.client.getExperimentValue(e,t,r,n)}),(0,s.A)(U,"initializeCalled",U.client.initializeCalled.bind(U.client)),(0,s.A)(U,"initializeCompleted",U.client.initializeCompleted.bind(U.client)),(0,s.A)(U,"initialize",U.client.initialize.bind(U.client)),(0,s.A)(U,"initializeWithProvider",U.client.initializeWithProvider.bind(U.client)),(0,s.A)(U,"initializeFromValues",U.client.initializeFromValues.bind(U.client)),(0,s.A)(U,"manuallyLogGateExposure",U.client.manuallyLogGateExposure.bind(U.client)),(0,s.A)(U,"getExperiment",U.client.getExperiment.bind(U.client)),(0,s.A)(U,"manuallyLogExperimentExposure",U.client.manuallyLogExperimentExposure.bind(U.client)),(0,s.A)(U,"manuallyLogLayerExposure",U.client.manuallyLogLayerExposure.bind(U.client)),(0,s.A)(U,"shutdownStatsig",U.client.shutdownStatsig.bind(U.client)),(0,s.A)(U,"overrideGate",U.client.overrideGate.bind(U.client)),(0,s.A)(U,"clearGateOverride",U.client.clearGateOverride.bind(U.client)),(0,s.A)(U,"overrideConfig",U.client.overrideConfig.bind(U.client)),(0,s.A)(U,"clearConfigOverride",U.client.clearConfigOverride.bind(U.client)),(0,s.A)(U,"setOverrides",U.client.setOverrides.bind(U.client)),(0,s.A)(U,"getOverrides",U.client.getOverrides.bind(U.client)),(0,s.A)(U,"clearAllOverrides",U.client.clearAllOverrides.bind(U.client)),(0,s.A)(U,"isCurrentUser",U.client.isCurrentUser.bind(U.client)),(0,s.A)(U,"onGateUpdated",U.client.onGateUpdated.bind(U.client)),(0,s.A)(U,"onExperimentValueUpdated",U.client.onExperimentValueUpdated.bind(U.client)),(0,s.A)(U,"onAnyUpdated",U.client.onAnyUpdated.bind(U.client)),(0,s.A)(U,"updateUser",U.client.updateUser.bind(U.client)),(0,s.A)(U,"updateUserWithProvider",U.client.updateUserWithProvider.bind(U.client)),(0,s.A)(U,"updateUserWithValues",U.client.updateUserWithValues.bind(U.client)),(0,s.A)(U,"getPackageVersion",U.client.getPackageVersion.bind(U.client)),(0,s.A)(U,"getLayer",U.client.getLayer.bind(U.client)),(0,s.A)(U,"getLayerValue",U.client.getLayerValue.bind(U.client));var F=U;if("undefined"!=typeof window){if(void 0===window.__FEATUREGATES_JS__)window.__FEATUREGATES_JS__=U;else{var V,B,G=(null===(V=F=window.__FEATUREGATES_JS__)||void 0===V||null===(B=V.getPackageVersion)||void 0===B?void 0:B.call(V))||"4.10.0 or earlier";G!==v.f&&console.warn("Multiple versions of FeatureGateClients found on the current page.\n      The currently bound version is ".concat(G," when module version ").concat(v.f," was loading."))}}let K=F},"./node_modules/@atlaskit/feature-gate-js-client/dist/esm/client/types.js":(e,t,r)=>{"use strict";r.d(t,{cd:()=>i,jQ:()=>n});var n=function(e){return e.Development="development",e.Staging="staging",e.Production="production",e}({}),i=function(e){return e.COMMERCIAL="commercial",e.FEDRAMP_MODERATE="fedramp-moderate",e}({})},"./node_modules/@atlaskit/feature-gate-js-client/dist/esm/client/version.js":(e,t,r)=>{"use strict";r.d(t,{f:()=>n});var n="4.23.4"},"./node_modules/@atlaskit/platform-feature-flags/dist/esm/index.js":(e,t,r)=>{"use strict";r.d(t,{fg:()=>g});var n,i,s=r("./node_modules/@atlaskit/feature-gate-js-client/dist/esm/client/FeatureGates.js"),o=!((null==globalThis||null===(n=globalThis.process)||void 0===n||null===(n=n.env)||void 0===n?void 0:n.JEST_WORKER_ID)!==void 0)&&(null==globalThis||null===(i=globalThis.process)||void 0===i||null===(i=i.env)||void 0===i?void 0:i.NODE_ENV)!=="production",a=function(){var e;o&&(e=console).debug.apply(e,arguments)},l=r("./node_modules/process/browser.js"),u="__PLATFORM_FEATURE_FLAGS__",c=void 0!==l&&void 0!==l.env,d=!!c&&"true"===l.env.ENABLE_PLATFORM_FF,h=!!c&&"true"===l.env.STORYBOOK_ENABLE_PLATFORM_FF,p=d||h,f={earlyResolvedFlags:new Map,booleanResolver:function(e){return!1}},m="undefined"!=typeof window?window:globalThis;function g(e){return function(e){if(p)return a('[%s]: The feature flags were enabled while running tests. The flag "%s" will be always enabled.',"@atlaskit/platform-feature-flags",e),!0;try{if((null===(t=m[u])||void 0===t?void 0:t.booleanResolver)===void 0||(null===(r=m[u])||void 0===r?void 0:r.booleanResolver)===null)return s.Ay.checkGate(e);var t,r,n,i=null===(n=m[u])||void 0===n?void 0:n.booleanResolver(e);if("boolean"!=typeof i)return console.warn("".concat(e," resolved to a non-boolean value, returning false for safety")),!1;return i}catch(e){return!1}}(e)}m[u]=m[u]||f},"./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/analytics-client/index.js":(e,t,r)=>{"use strict";r.d(t,{IC:()=>T,vr:()=>P,ff:()=>L,oG:()=>N,rY:()=>D});var n,i,s=r("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=r("./node_modules/@atlassiansox/analytics-web-client/dist/esm/analyticsWebTypes.js"),a=r("./node_modules/@atlassiansox/analytics-web-client/dist/esm/analyticsWebClient.js"),l=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/bsc-global-state/index.js"),u=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/logger/index.js"),c=r("./node_modules/process/browser.js"),d=null!==(n=null==c?void 0:c.env._PACKAGE_NAME_)&&void 0!==n?n:"",h=null!==(i=null==c?void 0:c.env._PACKAGE_VERSION_)&&void 0!==i?i:"",p=r("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),f=r("./node_modules/@babel/runtime/regenerator/index.js"),m=r.n(f),g=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/types.js"),y=r("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),v=new((0,r("./node_modules/@babel/runtime/helpers/esm/createClass.js").A)(function e(){(0,y.A)(this,e)},[{key:"cachedSamplingConfig",get:function(){return this.cache},set:function(e){this.cache=e}}])),b=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/is-ssr/index.js"),_={usedGetCookie:1e5,usedGetCookieError:1,usedSetCookie:1e3,usedSetCookieError:1,usedSetStrictlyNecessaryCookie:1e4,usedSetStrictlyNecessaryCookieError:1,usedDeleteCookie:10,usedDeleteCookieError:1,usedCheckThirdParty:1e5,checkThirdPartyError:1,usedDocumentCookie:100,usedDocumentCookieError:1,initializeControlsError:1,loadStorageControlsError:1,updatePreferencesError:1,fetchConsentPreferencesError:1,saveConsentPreferencesError:1,usedAtlBrowserStorageGetItem:100,usedAtlBrowserStorageGetItemError:1,usedAtlBrowserStorageSetItem:100,usedAtlBrowserStorageSetItemError:1,usedAtlBrowserStorageSetStrictlyNecessaryItem:100,usedAtlBrowserStorageSetStrictlyNecessaryItemError:1,usedCheckIfSetByPackageError:1,renderConsentBannerError:1,bannerAppearanceAfterDismissal:1},w=["loadStorageControlsError"];function C(){return(C=(0,p.A)(m().mark(function e(){var t,r,n;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.cachedSamplingConfig){e.next=2;break}return e.abrupt("return",v.cachedSamplingConfig);case 2:if(!(0,b.f)()){e.next=4;break}return e.abrupt("return",void 0);case 4:return t=(0,l.re)().loadCache,e.next=7,t(g.kU.Cookies);case 7:return n=null==(r=e.sent)?void 0:r.analyticsSamplingRatio,v.cachedSamplingConfig=n,e.abrupt("return",n);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function E(){return(E=(0,p.A)(m().mark(function e(t){var r,n,i;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!w.includes(t)){e.next=2;break}return e.abrupt("return",_[t]);case 2:return e.next=4,function(){return C.apply(this,arguments)}();case 4:return i=(null==(n=null!=(r=e.sent)?r:_)?void 0:n[t])!==void 0?n[t]:_[t],e.abrupt("return",i);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function A(){return(A=(0,p.A)(m().mark(function e(t,r){return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(e){return E.apply(this,arguments)}(t);case 2:Math.floor(Math.random()*e.sent)||r();case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach(function(t){(0,s.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var S=function(){var e=window.location.hostname;return e.includes(".dev.")||e.includes(".stg.")?o.sR.STAGING:e.includes("localhost")||e.includes("ngrok")||e.includes("atlastunnel")?o.sR.DEV:o.sR.PROD},I=function(e){var t="";if(!e)return t;var r=function(t){return new RegExp("^".concat(t,"(/|$)")).test(String(e))};return r("/wiki")&&(t="/wiki"),r("/jira")&&(t="/jira"),r("/compass")&&(t="/compass"),r("/canvas")&&(t="/canvas"),(r("/servicedesk")||r("/jira/servicedesk"))&&(t="/servicedesk"),t},j=function(){var e=window.location,t=e.origin,r=I(e.pathname),n="".concat(t).concat(r),i=("https://trello.com"===n?"trello":null)||r.slice(1);return{domain:n,product:i}},x=function(e){var t,r,n=j(),i=n.domain,s=n.product;return k({packageName:d,packageVersion:h,domain:i,product:null!==(t=null===(r=(0,l.re)().product)||void 0===r?void 0:r.toLowerCase())&&void 0!==t?t:s},e&&e)},T=function(){var e;return function(){try{!e&&(0,l.re)().analyticsEnabled&&(e=new a.Ay({env:S(),product:"atlassianCookies"},{useLegacyUrl:!1,disableCookiePersistence:!0}))}catch(e){u.V.error("Failed to initialize AnalyticsWebClient. ".concat(e))}if((0,l.re)().analyticsEnabled)return e}}();function P(e){!function(e,t){A.apply(this,arguments)}(e.action,function(){var t;return null===(t=T())||void 0===t?void 0:t.sendOperationalEvent({source:"package",actionSubject:"package",action:e.action,attributes:x(e.attributes)})})}function D(e){var t;null===(t=T())||void 0===t||t.sendUIEvent(k(k({},e),{},{attributes:x(e.attributes)}))}function L(e){var t;null===(t=T())||void 0===t||t.sendScreenEvent(k(k({},e),{},{attributes:x(e.attributes)}))}function N(e){var t;null===(t=T())||void 0===t||t.sendTrackEvent(k(k({},e),{},{attributes:x(e.attributes)}))}},"./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/bsc-global-state/index.js":(e,t,r)=>{"use strict";r.d(t,{re:()=>O,B_:()=>k});var n,i,s,o,a,l,u,c,d,h=r("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),p=r("./node_modules/@babel/runtime/regenerator/index.js"),f=r.n(p),m=r("./node_modules/js-cookie/src/js.cookie.js"),g=r.n(m),y=r("./node_modules/@atlaskit/platform-feature-flags/dist/esm/index.js"),v=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/types.js"),b=r("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),_=r("./node_modules/@babel/runtime/helpers/esm/createClass.js"),w=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/logger/index.js"),C=function(){var e,t;return(0,_.A)(function e(t){switch((0,b.A)(this,e),t){case v.kU.Cookies:this.cacheUrl="https://atlassian-cookies--categories.us-east-1.prod.public.atl-paas.net/categories_COOKIE.json";break;case v.kU.LocalStorage:this.cacheUrl="https://atlassian-cookies--categories.us-east-1.prod.public.atl-paas.net/categories_LOCAL_STORAGE.json";break;case v.kU.SessionStorage:this.cacheUrl="https://atlassian-cookies--categories.us-east-1.prod.public.atl-paas.net/categories_SESSION_STORAGE.json";break;default:this.cacheUrl="https://atlassian-cookies--categories.us-east-1.prod.public.atl-paas.net/categories.json"}},[{key:"clearStorageControlsDataCache",value:function(){this.localResponseCache=void 0,this.localResponsePromiseCache=void 0,this.localResponseJsonPromiseCache=void 0}},{key:"handleCategoriesResponse",value:(e=(0,h.A)(f().mark(function e(t){var r;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw Error("Failed to fetch Cookies Cache! Cached promise was undefined");case 2:return e.next=4,t;case 4:if((r=e.sent).ok){e.next=7;break}throw Error("Failed to fetch Cookies Cache! status: ".concat(r.status));case 7:return this.localResponseJsonPromiseCache=this.localResponseJsonPromiseCache||(null==r?void 0:r.json()),e.abrupt("return",this.localResponseJsonPromiseCache);case 9:case"end":return e.stop()}},e,this)})),function(t){return e.apply(this,arguments)})},{key:"loadStorageControlsData",value:(t=(0,h.A)(f().mark(function e(){return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.localResponseCache){e.next=4;break}return e.abrupt("return",this.localResponseCache);case 4:return e.prev=4,this.localResponsePromiseCache||(w.V.debug("Loading cache ".concat(this.cacheUrl)),this.localResponsePromiseCache=fetch(this.cacheUrl)),e.next=8,this.handleCategoriesResponse(this.localResponsePromiseCache);case 8:return this.localResponseCache=e.sent,e.abrupt("return",this.localResponseCache);case 12:e.prev=12,e.t0=e.catch(4),w.V.errorWithOperationalEvent({action:"loadStorageControlsError",message:e.t0.message||""}),this.clearStorageControlsDataCache();case 16:case"end":return e.stop()}},e,this,[[4,12]])})),function(){return t.apply(this,arguments)})}])}(),E=!1,A=function(){var e=(0,h.A)(f().mark(function e(t){var r,n,i;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next=e.t0===v.kU.Cookies?3:e.t0===v.kU.LocalStorage?6:e.t0===v.kU.SessionStorage?9:12;break;case 3:return e.next=5,null===(r=u)||void 0===r?void 0:r.loadStorageControlsData();case 5:case 8:case 11:return e.abrupt("return",e.sent);case 6:return e.next=8,null===(n=c)||void 0===n?void 0:n.loadStorageControlsData();case 9:return e.next=11,null===(i=d)||void 0===i?void 0:i.loadStorageControlsData();case 12:return e.abrupt("return",void 0);case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),O=function(){var e,t,r,h;return{analyticsEnabled:null===(e=n)||void 0===e||e,product:i,webStorageEnabled:null!==(t=s)&&void 0!==t&&t,localConsentMode:null!==(r=o)&&void 0!==r&&r,packageDebugMode:a,allowUncategorizedCookiesInOverrides:null!==(h=l)&&void 0!==h&&h,cookiesCacheLoader:u,localStorageCacheLoader:c,sessionStorageCacheLoader:d,loadCache:A,hasInitialized:E}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.webStorageEnabled,r=e.allowUncategorizedCookiesInOverrides,h=e.localConsentMode,p=e.product,f=void 0===p?"all":p,m=e.analyticsEnabled;w.V.debug("Initialize global state invoked"),(!i||null==i||"all"===i)&&f&&(i=f),void 0!==t&&void 0===s&&(s=t&&!(0,y.fg)("platform_moonjelly_bsc_master_killswitch")&&!(0,y.fg)("platform_moonjelly_bsc_web_storage_killswitch")),void 0!==r&&void 0===l&&(l=r),E||(o=void 0!==h&&h,n=void 0===m||m,u=new C(v.kU.Cookies),c=new C(v.kU.LocalStorage),d=new C(v.kU.SessionStorage),(0,y.fg)("platform_moonjelly_bsc_debug_mode")&&(a=!!g().get("atl-bsc-debug-mode")),E=!0)}},"./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/helpers.js":(e,t,r)=>{"use strict";r.d(t,{J:()=>i,l:()=>n});var n=function(e){return Number(e).toString()},i=function(e){if(e)return!!Number(e)}},"./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/is-ssr/index.js":(e,t,r)=>{"use strict";r.d(t,{f:()=>o});var n=r("./node_modules/@atlassiansox/analytics-web-client/dist/esm/analyticsWebClient.js"),i=r("./node_modules/@atlaskit/platform-feature-flags/dist/esm/index.js"),s=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/logger/index.js"),o=function(){var e="undefined"==typeof document||"undefined"==typeof window||!Document||!Document.prototype||!Object||!Object.defineProperty,t=!i.fg,r=!n.Ay;return e&&s.V.warn("Browser context is not available."),t&&s.V.warn("Platform Feature Flag library is not available"),n.Ay||s.V.warn("analytics-web-client is not available"),!!e||!!t||!!r}},"./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/item-processing/index.js":(e,t,r)=>{"use strict";r.d(t,{XA:()=>g});var n=r("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),i=r("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=r("./node_modules/@babel/runtime/regenerator/index.js"),o=r.n(s),a=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/preferences-controls/get-preferences/index.js"),l=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/types.js"),u=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/bsc-global-state/index.js");function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){(0,i.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var h=function(e,t){for(var r=t,n=0;n<e.length;){var i=r[e[n]];if(void 0===i)break;if("number"==typeof i)return i;r=i,n++}return null},p=function(e,t){for(var r=0;r<e.length;){var n=function(e){for(var r,n=t,i="",s=0;s<e.length;s++){var o=e[s];if(void 0===(n=n[o]))break;if(i+=o,"number"==typeof n){r=n;break}}return i===e?r:void 0}(e.slice(r));if(void 0!==n)return n;r++}return null},f=function(e,t,r){var n=null==r?void 0:r.toLowerCase(),s=null,o=t.categories,a=t.patterns,u=d(d({},t.keys.all),n?t.keys[n]:{}),c=d(d({},a.startsWith.all),n?a.startsWith[n]:{}),f=d(d({},a.endsWith.all),n?a.endsWith[n]:{});Object.keys(u).includes(e)?s=u[e]:null===(s=h(e,c))&&(s=p(e,f));var m=(0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)({},o.STRICTLY_NECESSARY,l.A7.StrictlyNecessary),o.FUNCTIONAL,l.A7.Functional),o.ANALYTICS,l.A7.Analytics),o.MARKETING,l.A7.Marketing),o.UNKNOWN,l.A7.Unknown);return null!==s?m[s]:null},m=function(){var e=(0,n.A)(o().mark(function e(t,r,n){var i;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.re)().loadCache(r);case 2:if(i=e.sent){e.next=7;break}return e.abrupt("return",null);case 7:return e.abrupt("return",f(t,i,n));case 8:case"end":return e.stop()}},e)}));return function(t,r,n){return e.apply(this,arguments)}}(),g=function(){var e=(0,n.A)(o().mark(function e(t){var r,n,i,s,u,c,d,h,p,f,g;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.itemKey,i=void 0===(n=t.allowedCallback)?function(){}:n,u=void 0===(s=t.blockedCallback)?function(){}:s,c=t.storageType,d=t.productName,e.next=3,m(r,c,d);case 3:if((p=e.sent)!==l.A7.StrictlyNecessary){e.next=8;break}h=!0,e.next=14;break;case 8:return e.next=10,(0,a.l)();case 10:f=e.sent,g=!1,f&&p&&(g=f[p]),h=g;case 14:return h?null==i||i():null==u||u({itemHasCategory:null!=p}),e.abrupt("return",h);case 16:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},"./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/logger/index.js":(e,t,r)=>{"use strict";r.d(t,{V:()=>d});var n=r("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=r("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=r("./node_modules/@babel/runtime/helpers/esm/createClass.js"),o=r("./node_modules/@atlaskit/platform-feature-flags/dist/esm/index.js"),a=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/analytics-client/index.js"),l=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/bsc-global-state/index.js");function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var c="[browser-storage-controls]",d=(0,s.A)(function e(){(0,i.A)(this,e)},null,[{key:"info",value:function(e,t){console.log("".concat(c,": ").concat(e),t?JSON.stringify(t):"")}},{key:"error",value:function(e,t){console.error("".concat(c,": ").concat(e),t?JSON.stringify(t):"")}},{key:"errorWithOperationalEvent",value:function(e){var t=e.action,r=e.attributes,i=e.message,s=e.metadata;try{(0,a.vr)({action:t,attributes:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({error:i},void 0===r?{}:r)})}catch(e){this.error("Failed to send operational event on error: ".concat(t,". ").concat(e.message||""))}this.error(i,s?JSON.stringify(s):"")}},{key:"warn",value:function(e,t){console.warn("".concat(c,": ").concat(e),t?JSON.stringify(t):"")}},{key:"debug",value:function(e,t){(0,l.re)().packageDebugMode&&(0,o.fg)("platform_moonjelly_bsc_debug_mode")&&console.debug("".concat(c,": DEBUG ").concat(e),t?JSON.stringify(t):"")}}])},"./node_modules/@atlassian/browser-storage-controls/dist/esm/constants.js":(e,t,r)=>{"use strict";r.d(t,{Ao:()=>m,Bk:()=>v,CK:()=>d,HL:()=>w,Iw:()=>p,OF:()=>l,PN:()=>h,QP:()=>_,bT:()=>u,dx:()=>g,gV:()=>f,oG:()=>y,sD:()=>b,vk:()=>c});var n=r("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=r("./node_modules/@atlaskit/platform-feature-flags/dist/esm/index.js"),s=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/types.js");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var l="atl-gdpr-consent",u="atl-bsc-consent-token",c="atl-bsc-show-banner",d="atl-bsc-consent-token-fallback",h="atl-testing-consents",p="atl-bsc-banner-dismissed-time",f=(0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)({},s.A7.StrictlyNecessary,!0),s.A7.Functional,!0),s.A7.Marketing,!0),s.A7.Analytics,!0),s.A7.Unknown,!0),m=(0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)({},s.A7.StrictlyNecessary,!0),s.A7.Functional,!1),s.A7.Marketing,!1),s.A7.Analytics,!1),s.A7.Unknown,!1),g=a(a({},m),{},(0,n.A)((0,n.A)((0,n.A)({},s.RK.ConsentsAreDefault,!0),s.RK.UserIsAuthenticated,!1),s.RK.ConsentDataUnavailable,!0)),y="001",v="002",b="003",_=b,w=function(e){return(0,i.fg)("platform_moonjelly_bsc_versioned_consent_key")?"atl-bsc-consent-token-".concat(e):u}},"./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/delete-cookie/index.js":(e,t,r)=>{"use strict";r.d(t,{Y:()=>l});var n=r("./node_modules/js-cookie/src/js.cookie.js"),i=r.n(n),s=r("./node_modules/@atlaskit/platform-feature-flags/dist/esm/index.js"),o=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/analytics-client/index.js"),a=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/logger/index.js"),l=function(e,t){if((0,s.fg)("platform_moonjelly_bsc_master_killswitch"))i().remove(e,t);else try{(0,o.vr)({action:"usedDeleteCookie",attributes:{cookieKey:e}}),i().remove(e,t)}catch(t){a.V.errorWithOperationalEvent({action:"usedDeleteCookieError",attributes:{cookieKey:e},message:"Failed to use delete cookie. ".concat(t.message||"")})}}},"./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/get-consent-token-for-schema-version/index.js":(e,t,r)=>{"use strict";r.d(t,{K:()=>l});var n=r("./node_modules/@atlaskit/platform-feature-flags/dist/esm/index.js"),i=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/constants.js"),s=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/get-cookie/index.js"),o=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/set-strictly-necessary-cookie/index.js"),a=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/transformer/index.js"),l=function(e){if(!(0,n.fg)("platform_moonjelly_bsc_versioned_consent_key"))return(0,s.R)(i.bT);var t=(0,s.R)((0,i.HL)(e));if(t)return t;var r=(0,s.R)(i.bT);return r&&(0,a.Eu)(r).isV003&&(0,o.G)((0,i.HL)(e),r),r}},"./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/get-consent-token/utils.js":(e,t,r)=>{"use strict";r.d(t,{L:()=>c});var n=r("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),i=r("./node_modules/@babel/runtime/regenerator/index.js"),s=r.n(i),o=r("./node_modules/@atlaskit/platform-feature-flags/dist/esm/index.js"),a=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/constants.js"),l=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/services/consent-hub-service/index.js"),u=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/transformer/index.js"),c=function(){var e=(0,n.A)(s().mark(function e(t){var r,n,i,c,d,h,p;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.fy)();case 2:return n=(r=e.sent).consentToken,i=r.consentTimestamp,c=r.consentHubInaccessible,(d=(0,u.Eu)(n).isValid)&&c&&(t?n=t:(0,o.fg)("platform_moonjelly_bsc_fallback_token_audit")?(h=a.sD,p=n.slice(3,7),n="".concat(h).concat(p).concat("111")):n="".concat(n.slice(0,8),"1111")),e.abrupt("return",d?{consentToken:n,consentTimestamp:i}:void 0);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},"./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/get-cookie/index.js":(e,t,r)=>{"use strict";r.d(t,{R:()=>l});var n=r("./node_modules/js-cookie/src/js.cookie.js"),i=r.n(n),s=r("./node_modules/@atlaskit/platform-feature-flags/dist/esm/index.js"),o=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/analytics-client/index.js"),a=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/logger/index.js");function l(e){if((0,s.fg)("platform_moonjelly_bsc_master_killswitch"))return e?i().get(e):i().get();try{return(0,o.vr)({action:"usedGetCookie",attributes:{cookieKey:e}}),e?i().get(e):i().get()}catch(t){a.V.errorWithOperationalEvent({action:"usedGetCookieError",attributes:{cookieKey:e},message:"Failed to use get cookie. ".concat(t.message||"")})}}},"./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/initialize-controls/index.js":(e,t,r)=>{"use strict";r.d(t,{bX:()=>x});var n,i,s=r("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),o=r("./node_modules/@babel/runtime/regenerator/index.js"),a=r.n(o),l=r("./node_modules/@atlaskit/platform-feature-flags/dist/esm/index.js"),u=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/logger/index.js"),c=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/is-ssr/index.js"),d=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/analytics-client/index.js"),h=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/bsc-global-state/index.js"),p=function(e){return e.LocalStorage="LocalStorage",e.SessionStorage="SessionStorage",e}({}),f=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/item-processing/index.js"),m=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/types.js"),g=function(e){return function(t){var r=t.includes("atl-set-cookie");if(r)try{return e.apply(document,[t])}catch(e){u.V.errorWithOperationalEvent({action:"usedDocumentCookieError",message:"document.cookie setter failed to set cookie set by package. ".concat(e.message||""),attributes:{outsidePackage:!1}})}try{var n=t.slice(0,t.indexOf("="))||"";(0,d.vr)({action:"usedDocumentCookie",attributes:{cookieKey:n,outsidePackage:!r}});try{var i=(0,h.re)().product;(0,f.XA)({itemKey:n,allowedCallback:function(){return e.apply(document,[t])},blockedCallback:function(r){var n=r.itemHasCategory;return(0,h.re)().allowUncategorizedCookiesInOverrides&&!n?e.apply(document,[t]):void 0},storageType:m.kU.Cookies,productName:i})}catch(e){u.V.errorWithOperationalEvent({action:"usedDocumentCookieError",message:"Failed to set cookie. ".concat(e.message||""),attributes:{cookieKey:n}})}}catch(e){u.V.errorWithOperationalEvent({action:"usedDocumentCookieError",message:"Failed to send document.cookie setter event. ".concat(e.message||"")})}}},y=function(){var e=(0,s.A)(a().mark(function e(){var t,r,n;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null==(t=Object.getOwnPropertyDescriptor(Document.prototype,"cookie"))?void 0:t.set,n=null==t?void 0:t.get,!(!r||!n)){e.next=6;break}return u.V.warn("No document.cookie capabilities found"),e.abrupt("return");case 6:Object.defineProperty(document,"cookie",{get:n,set:g(r),configurable:!0});case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),v=r("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),b=r("./node_modules/@babel/runtime/helpers/esm/createClass.js"),_=r("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),w=new(function(){var e,t,r,n;return(0,b.A)(function e(t,r){var n=this;(0,v.A)(this,e),(0,_.A)(this,"db",null),(0,_.A)(this,"isBooted",!1),(0,_.A)(this,"isAvailable",!1),(0,_.A)(this,"onConnectionErrorHandler",function(e){return function(t){u.V.warn("Error opening database."),e(t)}}),(0,_.A)(this,"onConnectionSuccessHandler",function(e,t){return function(){n.db=e.result,t()}}),(0,_.A)(this,"onConnectionUpgradeNeededHandler",function(e){return function(){n.db=e.result,n.db.createObjectStore(n.storeName,{keyPath:"id"})}}),(0,_.A)(this,"onGetRecordErrorHandler",function(e){return function(){var t="Failed to perform a get transaction on IndexedDB: ".concat(n.dbName," + ").concat(n.storeName);u.V.warn(t),e(t)}}),(0,_.A)(this,"onGetRecordSuccessHandler",function(e,t){return function(){t(e.result)}}),(0,_.A)(this,"onSetRecordErrorHandler",function(e){return function(){var t="Failed to perform a set transaction on IndexedDB: ".concat(n.dbName," + ").concat(n.storeName);u.V.warn(t),e(t)}}),(0,_.A)(this,"onSetRecordSuccessHandler",function(e){return function(){e()}}),this.dbName=t,this.storeName=r,this.isAvailable=this.getIsDBAvailable(),this.isBooted=!1,this.bootUpPromiseCache=null},[{key:"boot",value:(e=(0,s.A)(a().mark(function e(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isAvailable){e.next=3;break}return u.V.warn("IndexedDB is not available"),e.abrupt("return");case 3:if(!this.isBooted){e.next=5;break}return e.abrupt("return");case 5:if(this.bootUpPromiseCache){e.next=18;break}return this.bootUpPromiseCache=this.openDB(),e.prev=7,e.next=10,this.bootUpPromiseCache;case 10:this.isBooted=!0,e.next=18;break;case 13:throw e.prev=13,e.t0=e.catch(7),this.isBooted=!1,u.V.warn("Error booting up IndexedDB."),e.t0;case 18:case"end":return e.stop()}},e,this,[[7,13]])})),function(){return e.apply(this,arguments)})},{key:"getIsDBAvailable",value:function(){return!(0,c.f)()&&!!window.indexedDB}},{key:"openDB",value:(t=(0,s.A)(a().mark(function e(){var t=this;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,r){var n=indexedDB.open(t.dbName,2);n.onerror=t.onConnectionErrorHandler(r),n.onsuccess=t.onConnectionSuccessHandler(n,e),n.onupgradeneeded=t.onConnectionUpgradeNeededHandler(n)}));case 1:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)})},{key:"getRecord",value:(r=(0,s.A)(a().mark(function e(t){var r,n,i=this;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.isBooted){e.next=4;break}return e.next=4,this.boot();case 4:if(this.db){e.next=6;break}throw Error("Database is not opened");case 6:return r=this.db.transaction([this.storeName]).objectStore(this.storeName),n=new Promise(function(e,n){var s=r.get(t);s.onerror=i.onGetRecordErrorHandler(n),s.onsuccess=i.onGetRecordSuccessHandler(s,e)}),e.abrupt("return",n);case 12:throw e.prev=12,e.t0=e.catch(0),u.V.error("Error fetching record from database. ".concat(e.t0.message||"")),e.t0;case 16:case"end":return e.stop()}},e,this,[[0,12]])})),function(e){return r.apply(this,arguments)})},{key:"setRecord",value:(n=(0,s.A)(a().mark(function e(t){var r,n=this;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.isBooted){e.next=4;break}return e.next=4,this.boot();case 4:if(this.db){e.next=6;break}throw Error("Database is not opened");case 6:return r=new Promise(function(e,r){var i=n.db.transaction([n.storeName],"readwrite").objectStore(n.storeName),s={atlSetItem:"SET-BY-PACKAGE",id:t},o=i.put(s);o.onerror=n.onSetRecordErrorHandler(r),o.onsuccess=n.onSetRecordSuccessHandler(e)}),e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(0),u.V.warn("Error setting record in database. ".concat(e.t0.message||"")),e.t0;case 14:case"end":return e.stop()}},e,this,[[0,10]])})),function(e){return n.apply(this,arguments)})}])}())("BSCIndexedDB","InternalStorageKeys"),C=function(e,t,r){var n={itemKey:e,storageType:t};try{return(0,d.vr)({action:"usedAtlBrowserStorageGetItem",attributes:n}),r.getItem(e)}catch(e){return u.V.errorWithOperationalEvent({action:"usedAtlBrowserStorageGetItemError",attributes:n,message:"Failed to get ".concat(t," item. ").concat(e.message||"")}),null}},E=function(){var e=(0,s.A)(a().mark(function e(t,r,n,i,s){var o,l;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.XA)({itemKey:t,storageType:n===p.LocalStorage?m.kU.LocalStorage:m.kU.SessionStorage,productName:i});case 2:if(l={wasRejected:!(o=e.sent),itemKey:t,storageType:n},e.prev=4,(0,d.vr)({action:"usedAtlBrowserStorageSetItem",attributes:l}),!o){e.next=13;break}return e.next=9,w.setRecord(t);case 9:return s.setItem(t,r),e.abrupt("return",m.nW.SUCCESS);case 13:return e.abrupt("return",m.nW.BLOCKED);case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(4),u.V.errorWithOperationalEvent({action:"usedAtlBrowserStorageSetItemError",attributes:l,message:"Failed to set ".concat(n," item. ").concat(e.t0.message||"")}),e.abrupt("return",m.nW.BLOCKED);case 20:case"end":return e.stop()}},e,null,[[4,16]])}));return function(t,r,n,i,s){return e.apply(this,arguments)}}(),A=function(e,t,r,n){var i={itemKey:e,storageType:r};try{return(0,d.vr)({action:"usedAtlBrowserStorageSetStrictlyNecessaryItem",attributes:i}),w.setRecord(e).then(function(){}).catch(function(e){throw Error(e.message||"")}),n.setItem(e,t),m.nW.SUCCESS}catch(e){return u.V.errorWithOperationalEvent({action:"usedAtlBrowserStorageSetStrictlyNecessaryItemError",attributes:i,message:"Failed to set strictly necessary ".concat(r," item. ").concat(e.message||"")}),m.nW.FAILED}},O=function(){var e;return(0,b.A)(function e(t,r){var n;(0,v.A)(this,e),(0,_.A)(this,"isAvailable",!1),(0,_.A)(this,"checkIfSetByPackage",(n=(0,s.A)(a().mark(function e(t){var r,n,i,s,o;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.itemKey,i=void 0===(n=t.isSetCallback)?function(){}:n,o=void 0===(s=t.isNotSetCallback)?function(){}:s,e.prev=1,e.next=4,w.getRecord(r);case 4:if(!e.sent){e.next=10;break}return i(),e.abrupt("return",!0);case 10:return o(),e.abrupt("return",!1);case 12:e.next=19;break;case 14:return e.prev=14,e.t0=e.catch(1),u.V.errorWithOperationalEvent({action:"usedCheckIfSetByPackageError",message:"IDB lookup failed to check if item was set by package. ".concat(e.t0.message||""),attributes:{itemKey:r}}),o(),e.abrupt("return",!1);case 19:case"end":return e.stop()}},e,null,[[1,14]])})),function(e){return n.apply(this,arguments)})),this.storage=t,this.storageType=r,this.isAvailable=this.isStorageAvailable()},[{key:"isWebStorageEnabled",get:function(){return!!(0,h.re)().webStorageEnabled||(u.V.warn("WebStorage config is disabled, cannot proceed."),!1)}},{key:"getItem",value:function(e){return this.isWebStorageEnabled?this.isAvailable?C(e,this.storageType,this.storage):(u.V.warn("".concat(this.storageType," is unavailable. Failed to get item ").concat(e)),null):this.storage.getItem(e)}},{key:"setItem",value:(e=(0,s.A)(a().mark(function e(t,r){var n,i;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isWebStorageEnabled){e.next=3;break}return this.storage.setItem(t,r),e.abrupt("return");case 3:if(this.isAvailable){e.next=6;break}return u.V.warn("".concat(this.storageType," is unavailable. Failed to set item ").concat(t)),e.abrupt("return");case 6:return n=(0,h.re)().product,e.next=9,E(t,r,this.storageType,n,this.storage);case 9:i=e.sent,u.V.debug("".concat(i===m.nW.SUCCESS?"Successfully":"Failed to"," set item ").concat(t," with value ").concat(r));case 11:case"end":return e.stop()}},e,this)})),function(t,r){return e.apply(this,arguments)})},{key:"setStrictlyNecessaryItem",value:function(e,t){if(!this.isWebStorageEnabled){this.storage.setItem(e,t);return}if(!this.isAvailable){u.V.warn("".concat(this.storageType," is unavailable. Failed to set strictly necessary item ").concat(e));return}var r=A(e,t,this.storageType,this.storage);u.V.debug("".concat(r===m.nW.SUCCESS?"Successfully":"Failed to"," set strictly necessary item ").concat(e," with value ").concat(t))}},{key:"removeItem",value:function(e){if(!this.isAvailable){u.V.warn("".concat(this.storageType," is unavailable. Failed to remove item ").concat(e));return}this.storage.removeItem(e)}},{key:"key",value:function(e){return this.isAvailable?this.storage.key(e):null}},{key:"length",value:function(){return this.isAvailable?this.storage.length:0}},{key:"clear",value:function(){this.isAvailable&&this.storage.clear()}},{key:"isStorageAvailable",value:function(){if((0,c.f)())return!1;try{var e="__storage_test__";return this.storage.setItem(e,e),this.storage.removeItem(e),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&this.storage&&0!==this.storage.length}}}])}(),k=new O(null===(n=window)||void 0===n?void 0:n.localStorage,p.LocalStorage),S=new O(null===(i=window)||void 0===i?void 0:i.sessionStorage,p.SessionStorage),I=function(e,t,r){return function(n,i){var s=e.storage,o=!1;if(e.checkIfSetByPackage({itemKey:n,isSetCallback:function(){o=!0},isNotSetCallback:function(){o=!1}}),o)try{return t.apply(s,[n,i])}catch(e){u.V.errorWithOperationalEvent({action:"usedAtlBrowserStorageSetItemError",message:"".concat(r," failed to setItem. ").concat(e.message||""),attributes:{outsidePackage:!1,storageType:r}})}try{(0,d.vr)({action:"usedAtlBrowserStorageSetItem",attributes:{itemKey:n,outsidePackage:!o,storageType:r}});try{var a=(0,h.re)().product;(0,f.XA)({itemKey:n,allowedCallback:function(){t.apply(s,[n,i])},blockedCallback:function(e){var r=e.itemHasCategory;(0,h.re)().allowUncategorizedCookiesInOverrides&&!r&&t.apply(s,[n,i])},storageType:r===p.LocalStorage?m.kU.LocalStorage:m.kU.SessionStorage,productName:a})}catch(e){u.V.errorWithOperationalEvent({action:"usedAtlBrowserStorageSetItemError",message:"Failed to set item. ".concat(e.message||""),attributes:{itemKey:n,storageType:r}})}}catch(e){u.V.errorWithOperationalEvent({action:"usedAtlBrowserStorageSetItemError",message:"Failed to send ".concat(r," setter event. ").concat(e.message||"")})}}},j=function(){var e=(0,s.A)(a().mark(function e(t){var r,n,i;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=(0,_.A)((0,_.A)({},p.LocalStorage,k),p.SessionStorage,S)[t]).isAvailable){e.next=4;break}return u.V.warn("No ".concat(t," capabilities found")),e.abrupt("return");case 4:if(w.isAvailable){e.next=7;break}return u.V.warn("IndexedDB is not available"),e.abrupt("return");case 7:if(w.isBooted){e.next=10;break}return e.next=10,w.boot();case 10:n=r.storage.setItem,i={clear:r.clear.bind(r),key:r.key.bind(r),length:r.length.bind(r),removeItem:r.removeItem.bind(r),getItem:r.getItem.bind(r),setItem:I(r,n,t)},Object.defineProperty(window,t===p.LocalStorage?"localStorage":"sessionStorage",{value:i,writable:!0,configurable:!0});case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=(0,s.A)(a().mark(function e(){var t,r,n=arguments;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:{analyticsEnabled:!0},!(0,l.fg)("platform_moonjelly_bsc_master_killswitch")){e.next=3;break}return e.abrupt("return");case 3:if(e.prev=3,u.V.debug("initializeControls invoked"),(0,h.B_)(t),!(0,c.f)()){e.next=8;break}return e.abrupt("return");case 8:if(r=!!(0,d.IC)(),!(t.analyticsEnabled&&!r)){e.next=12;break}throw Error("Failed to initialize AnalyticsWebClient. Analytics logging will not be set for native method overrides.");case 12:return e.next=14,y();case 14:if((0,h.re)().webStorageEnabled){e.next=17;break}return e.abrupt("return");case 17:return e.next=19,j(p.LocalStorage);case 19:return e.next=21,j(p.SessionStorage);case 21:u.V.debug("initiizeControls finished"),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(3),u.V.errorWithOperationalEvent({action:"initializeControlsError",message:"Failed to initialize browser storage controls. ".concat(e.t0.message||"")});case 27:case"end":return e.stop()}},e,null,[[3,24]])}));return function(){return e.apply(this,arguments)}}()},"./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/set-cookie/index.js":(e,t,r)=>{"use strict";r.d(t,{T:()=>y});var n=r("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=r("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),s=r("./node_modules/@babel/runtime/regenerator/index.js"),o=r.n(s),a=r("./node_modules/js-cookie/src/js.cookie.js"),l=r.n(a),u=r("./node_modules/@atlaskit/platform-feature-flags/dist/esm/index.js"),c=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/bsc-global-state/index.js"),d=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/analytics-client/index.js"),h=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/item-processing/index.js"),p=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/logger/index.js"),f=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/types.js");function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var y=function(){var e=(0,i.A)(o().mark(function e(t,r,n){var i,s,a;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,u.fg)("platform_moonjelly_bsc_master_killswitch")){e.next=3;break}return l().set(t,r,g(g({},n),{},{"atl-set-cookie":!0})),e.abrupt("return",f.nW.SUCCESS);case 3:return i=(0,c.re)().product,e.next=6,(0,h.XA)({itemKey:t,storageType:f.kU.Cookies,productName:i});case 6:if(a={wasRejected:!(s=e.sent),cookieKey:t},e.prev=8,(0,d.vr)({action:"usedSetCookie",attributes:a}),!s){e.next=15;break}return l().set(t,r,g(g({},n),{},{"atl-set-cookie":!0})),e.abrupt("return",f.nW.SUCCESS);case 15:return e.abrupt("return",f.nW.BLOCKED);case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(8),p.V.errorWithOperationalEvent({action:"usedSetCookieError",attributes:a,message:"Failed to use set cookie. ".concat(e.t0.message||"")}),e.abrupt("return",f.nW.BLOCKED);case 22:case"end":return e.stop()}},e,null,[[8,18]])}));return function(t,r,n){return e.apply(this,arguments)}}()},"./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/set-required-consent-cookies/index.js":(e,t,r)=>{"use strict";r.d(t,{ub:()=>y,SG:()=>v,pT:()=>_,BU:()=>b});var n=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/logger/index.js"),i=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/helpers.js"),s=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/constants.js"),o=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/is-ssr/index.js"),a=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/services/consent-hub-service/utils.js"),l=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/get-cookie/index.js"),u=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/transformer/index.js"),c=function(e){var t=(0,u.Eu)(e).isV002,r=e[8];return t&&(r="1"===e[7]?"0":"1"),r},d=function(e){if(e){var t=c(e),r=!(0,i.J)(t),n=!(0,a.gy)(e);if(r&&n)return!n;if(!r&&n)return!1}return!0},h=function(e){var t=e.consentToken,r=e.fallbackConsentToken,n=!!(0,a.gy)(t);return n?d(r):!(0,a.yl)(t)&&!!n||!r},p=function(e){if(e){var t=c(e),r=!(0,i.J)(t);if(!(0,a.gy)(e))return!!r}return!0},f=function(e){var t=e.consentToken,r=e.consentTimestamp,n=e.fallbackConsentToken;return(0,a.gy)(t)?p(n):r?(0,a.SA)(r):!n},m=function(e){var t=e.consentToken,r=e.consentTimestamp,n=e.fallbackConsentToken,a=(0,o.f)()?n:n||(0,l.R)(s.CK),u=c(t);return(0,i.J)(u)?f({consentToken:t,fallbackConsentToken:a,consentTimestamp:r}):h({consentToken:t,fallbackConsentToken:a})},g=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/set-strictly-necessary-cookie/index.js"),y=function(e){var t=new Date;t.setTime(t.getTime()+6e5),(0,g.G)((0,s.HL)(s.QP),e,{expires:t,path:"/"}),n.V.debug("Set Consent Token ".concat((0,s.HL)(s.QP)," ").concat(e))},v=function(e){var t=new Date;t.setFullYear(t.getFullYear()+1),(0,g.G)(s.CK,e,{expires:t,path:"/"}),n.V.debug("set fallback consent token: ".concat(s.CK," ").concat(e))},b=function(e,t){var r=m({consentToken:e,consentTimestamp:t}),o=(0,i.l)(!!r),a=new Date;a.setTime(a.getTime()+6e5),(0,g.G)(s.vk,o,{expires:a,path:"/"}),n.V.debug("set shouldShowBannerCookie: ".concat(s.vk," ").concat(o))},_=function(e,t){y(e),b(e,t)}},"./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/set-strictly-necessary-cookie/index.js":(e,t,r)=>{"use strict";r.d(t,{G:()=>d});var n=r("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=r("./node_modules/js-cookie/src/js.cookie.js"),s=r.n(i),o=r("./node_modules/@atlaskit/platform-feature-flags/dist/esm/index.js"),a=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/analytics-client/index.js"),l=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/logger/index.js");function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var d=function(e,t,r){if((0,o.fg)("platform_moonjelly_bsc_master_killswitch"))s().set(e,t,c(c({},r),{},{"atl-set-cookie":!0}));else try{(0,a.vr)({action:"usedSetStrictlyNecessaryCookie",attributes:{cookieKey:e}}),s().set(e,t,c(c({},r),{},{"atl-set-cookie":!0}))}catch(t){l.V.errorWithOperationalEvent({action:"usedSetStrictlyNecessaryCookieError",attributes:{cookieKey:e},message:"Failed to use set strictly necessary cookie. ".concat(t.message||"")})}}},"./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/transformer/index.js":(e,t,r)=>{"use strict";r.d(t,{Eu:()=>d,HD:()=>w,Z$:()=>C,Z3:()=>b,wd:()=>_});var n=r("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/bsc-global-state/index.js"),s=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/helpers.js"),o=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/constants.js"),a=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/services/consent-hub-service/utils.js"),l=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/types.js");function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var d=function(e){if(e.length<3)return{isValid:!1,isV001:!1,isV002:!1,isV003:!1};var t=e[0]+e[1]+e[2],r=t===o.oG&&7===e.length,n=t===o.Bk&&12===e.length,i=t===o.sD&&10===e.length;return{isValid:[o.oG,o.Bk,o.sD].includes(t)&&(r||n||i),isV001:r,isV002:n,isV003:i}},h=function(e){return[o.oG,(0,s.l)(e.FUNCTIONAL),(0,s.l)(e.ANALYTICS),(0,s.l)(e.MARKETING),(0,s.l)(e.UNKNOWN)].join("")},p=function(e){if(7===e.length)return(0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)({},l.A7.StrictlyNecessary,!0),l.A7.Functional,"1"===e[3]),l.A7.Analytics,"1"===e[4]),l.A7.Marketing,"1"===e[5]),l.A7.Unknown,"1"===e[6])},f=function(e){var t=o.sD,r=e[l.uG.ConsentedUnderGDPR]||e[l.uG.ConsentedUnderCPRA]||e[l.uG.ConsentedUnderLGPD]||e[l.uG.ConsentedUnderFADP],n=e[l.RK.ConsentDataUnavailable];return[t,(0,s.l)(e[l.A7.Functional]),(0,s.l)(e[l.A7.Analytics]),(0,s.l)(e[l.A7.Marketing]),(0,s.l)(e[l.A7.Unknown]),(0,s.l)(!r),(0,s.l)(!n),(0,s.l)(n)].join("")},m=function(e){var t=(0,a.gy)(e),r="1"===e[7];return c(c({},g(e)),{},(0,n.A)((0,n.A)((0,n.A)({},l.RK.ConsentsAreDefault,!!t),l.RK.UserIsAuthenticated,!r),l.RK.ConsentDataUnavailable,r))},g=function(e){return(0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)({},l.A7.StrictlyNecessary,!0),l.A7.Functional,"1"===e[3]),l.A7.Analytics,"1"===e[4]),l.A7.Marketing,"1"===e[5]),l.A7.Unknown,"1"===e[6]),l.RK.ConsentsAreDefault,"1"===e[7]),l.RK.UserIsAuthenticated,"1"===e[8]),l.RK.ConsentDataUnavailable,"1"===e[9])},y=[l.RK.ConsentDataUnavailable,l.uG.ConsentedUnderGDPR,l.uG.ConsentedUnderCPRA,l.uG.ConsentedUnderLGPD,l.uG.ConsentedUnderFADP],v=[l.RK.ConsentsAreDefault,l.RK.UserIsAuthenticated,l.RK.ConsentDataUnavailable];function b(e){return(0,i.re)().localConsentMode?h(e):y.every(function(t){return t in e})?f(e):v.every(function(t){return t in e})?[o.sD,(0,s.l)(e[l.A7.Functional]),(0,s.l)(e[l.A7.Analytics]),(0,s.l)(e[l.A7.Marketing]),(0,s.l)(e[l.A7.Unknown]),(0,s.l)(e[l.RK.ConsentsAreDefault]),(0,s.l)(e[l.RK.UserIsAuthenticated]),(0,s.l)(e[l.RK.ConsentDataUnavailable])].join(""):h(e)}function _(e){if((0,i.re)().localConsentMode)return e.length<3?void 0:e[0]+e[1]+e[2]===o.oG?p(e):void 0;var t=d(e),r=t.isValid,n=t.isV001,s=t.isV002,a=t.isV003;return r?n?p(e):s?m(e):a?g(e):void 0:void 0}var w=function(e){return!e||0===Object.keys(e).length},C=function(e){if(e!==l.hZ.INTERNAL){if(w(e))return{prefs:void 0,isPrefetchedPrefsInternalState:!0};var t=e&&"consentToken"in e&&e.consentToken;if(t){var r=_(t);return{prefs:r,isPrefetchedPrefsInternalState:!r}}if(e&&"consents"in e){var n=_((0,a.Ol)(e));return{prefs:n,isPrefetchedPrefsInternalState:!n}}}return e===l.hZ.INTERNAL?{prefs:void 0,isPrefetchedPrefsInternalState:!0}:{prefs:void 0,isPrefetchedPrefsInternalState:!1}}},"./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/preferences-controls/get-preferences/index.js":(e,t,r)=>{"use strict";r.d(t,{l:()=>f});var n=r("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),i=r("./node_modules/@babel/runtime/regenerator/index.js"),s=r.n(i),o=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/bsc-global-state/index.js"),a=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/constants.js"),l=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/get-cookie/index.js"),u=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/set-required-consent-cookies/index.js"),c=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/get-consent-token/utils.js"),d=function(){var e=(0,n.A)(s().mark(function e(){var t,r,n,i,o,d;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,l.R)(a.CK),e.next=3,(0,c.L)(t);case 3:var s;if(!(r=e.sent)){e.next=15;break}if(n=r.consentToken,i=r.consentTimestamp,s=n,o=(0,l.R)(a.PN)||s,!((d=(0,l.R)(a.PN))||""===d)){e.next=13;break}return(0,u.BU)(o),(0,u.ub)(o),e.abrupt("return",""===o?void 0:o);case 13:return(0,u.pT)(o,i),e.abrupt("return",n);case 15:return e.abrupt("return",void 0);case 16:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),h=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/get-consent-token-for-schema-version/index.js"),p=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/transformer/index.js");function f(){return m.apply(this,arguments)}function m(){return(m=(0,n.A)(s().mark(function e(){var t,r,n;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,o.re)().localConsentMode){e.next=7;break}if(t=(0,l.R)(a.OF)){e.next=4;break}return e.abrupt("return",void 0);case 4:return e.abrupt("return",(0,p.wd)(t));case 7:if(r=(0,h.K)(a.QP)){e.next=13;break}return e.next=11,d();case 11:return n=e.sent,e.abrupt("return",n?(0,p.wd)(n):void 0);case 13:return e.abrupt("return",(0,p.wd)(r));case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}},"./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/third-party-controls/check-third-party/index.js":(e,t,r)=>{"use strict";r.d(t,{W:()=>p});var n=r("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),i=r("./node_modules/@babel/runtime/regenerator/index.js"),s=r.n(i),o=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/analytics-client/index.js"),a=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/logger/index.js"),l=r("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),u=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/bsc-global-state/index.js"),c=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/types.js"),d=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/preferences-controls/get-preferences/index.js"),h=function(){var e=(0,n.A)(s().mark(function e(t){var r,n,i,o,a,h,p,f,m,g,y;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.l)();case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return",Promise.resolve(!1));case 5:return n=!1,o=(0,u.re)().loadCache,e.next=9,o(c.kU.Cookies);case 9:return(i=e.sent)&&(h=(a=i).thirdPartyKeys,p=a.categories,f=h[t],m=(0,l.A)((0,l.A)((0,l.A)((0,l.A)((0,l.A)({},p.STRICTLY_NECESSARY,c.A7.StrictlyNecessary),p.FUNCTIONAL,c.A7.Functional),p.ANALYTICS,c.A7.Analytics),p.MARKETING,c.A7.Marketing),p.UNKNOWN,c.A7.Unknown),g=null!==f?m[f]:null,y=!1,g&&(y=r[g]),n=y),e.abrupt("return",Promise.resolve(n));case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.A)(s().mark(function e(t,r,n){var i;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h(t);case 3:return i=e.sent,(0,o.vr)({action:"usedCheckThirdParty",attributes:{wasRejected:!i,thirdParty:t}}),e.abrupt("return",i?r():null==n?void 0:n());case 8:e.prev=8,e.t0=e.catch(0),a.V.errorWithOperationalEvent({action:"checkThirdPartyError",attributes:{wasRejected:!0,thirdParty:t},message:"Failed to use check third party. ".concat(e.t0.message||"")});case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,r,n){return e.apply(this,arguments)}}()},"./node_modules/@atlassian/browser-storage-controls/dist/esm/services/consent-hub-service/index.js":(e,t,r)=>{"use strict";r.d(t,{fy:()=>d,im:()=>p});var n=r("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),i=r("./node_modules/@babel/runtime/regenerator/index.js"),s=r.n(i),o=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/logger/index.js"),a=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/services/consent-hub-service/utils.js"),l="".concat("/gateway/api/consenthub/session","/user"),u="".concat(l,"/consents/cookies"),c=function(e){return e?{consentToken:(0,a.Ol)(e),consentTimestamp:(0,a.h)(e)}:{consentToken:(0,a.Ol)({}),consentHubInaccessible:!0}},d=function(){var e=(0,n.A)(s().mark(function e(){var t,r,n,i;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.location.origin,r="".concat(t).concat(u),e.prev=2,e.next=5,fetch(r,{method:"GET",headers:{"Content-Type":"application/json"}});case 5:if((n=e.sent).ok){e.next=8;break}throw Error("Failed to fetch preferences from ConsentHub with status: ".concat(n.status));case 8:return e.next=10,n.json();case 10:return i=e.sent,e.abrupt("return",c(i));case 14:return e.prev=14,e.t0=e.catch(2),o.V.errorWithOperationalEvent({action:"fetchConsentPreferencesError",message:e.t0.message||""}),e.abrupt("return",c());case 18:case"end":return e.stop()}},e,null,[[2,14]])}));return function(){return e.apply(this,arguments)}}(),h=function(e,t){var r=window.location,n=r.origin,i=r.pathname,s=(0,a.zm)(e,t);return JSON.stringify({action:"CONSENT_DATA_UNAVAILABLE"in e&&e.CONSENT_DATA_UNAVAILABLE?"FORM_FILL":"UPDATE_PREFERENCES",consents:s,formUrl:"".concat(n).concat(i),locale:"UNKNOWN",site:"atlassian",source:"COOKIE_PREFERENCES"})},p=function(){var e=(0,n.A)(s().mark(function e(t,r){var n,i,u;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(window.location.origin).concat(l),e.prev=1,e.next=4,fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:h(t,r)});case 4:if(!(!(i=e.sent).ok||202!==i.status&&200!==i.status)){e.next=9;break}throw u="Failed to save preferences to ConsentHub with status: ".concat(i.status),new a.CY(u,i.status);case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(1),o.V.errorWithOperationalEvent({action:"saveConsentPreferencesError",message:e.t0.message||""}),e.t0;case 15:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t,r){return e.apply(this,arguments)}}()},"./node_modules/@atlassian/browser-storage-controls/dist/esm/services/consent-hub-service/utils.js":(e,t,r)=>{"use strict";r.d(t,{CY:()=>S,SA:()=>k,gy:()=>_,zm:()=>A,h:()=>O,yl:()=>b,Ol:()=>E});var n=r("./node_modules/@babel/runtime/helpers/esm/createClass.js"),i=r("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=r("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),o=r("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),a=r("./node_modules/@babel/runtime/helpers/esm/inherits.js"),l=r("./node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js"),u=r("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),c=r("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),d=r("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),h=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/helpers.js"),p=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/constants.js"),f=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/get-cookie/index.js"),m=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/types.js"),g=function(e){return e.StrictlyNecessary="strictlyNecessaryCookies",e.Functional="functionalCookies",e.Analytics="performanceCookies",e.Marketing="targetingCookies",e.Unknown="unknownCookies",e}({});function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(y=function(){return!!e})()}var v=function(e){return e[0]+e[1]+e[2]===p.Bk},b=function(e){if(v(e)){var t="1"===e[8],r="1"===e[9],n="1"===e[10],i="1"===e[11];return t||r||n||i}return!1},_=function(e){var t=e[0]+e[1]+e[2]===p.oG,r=v(e);return!t&&(r?!b(e):(0,h.J)(e[7]))},w=function(e){var t=p.sD,r=Object.entries(p.dx).reduce(function(t,r){var n=(0,d.A)(r,2),i=n[0],s=n[1];return i===m.A7.StrictlyNecessary?t:i===m.RK.UserIsAuthenticated?t+(0,h.l)(!e):i===m.RK.ConsentDataUnavailable?t+(0,h.l)(!!e):t+(0,h.l)(s)},"");return"".concat(t).concat(r)},C=function(e){var t,r,n,i;return[p.sD,(0,h.l)(!!(null!==(t=e.find(function(e){return e.key===g.Functional}))&&void 0!==t&&t.granted)),(0,h.l)(!!(null!==(r=e.find(function(e){return e.key===g.Analytics}))&&void 0!==r&&r.granted)),(0,h.l)(!!(null!==(n=e.find(function(e){return e.key===g.Marketing}))&&void 0!==n&&n.granted)),(0,h.l)(!!(null!==(i=e.find(function(e){return e.key===g.Unknown}))&&void 0!==i&&i.granted)),0,1,0].join("")},E=function(e){var t=e.consents;return t?0===t.length?w():C(t):(0,f.R)(p.CK)||w(!0)},A=function(e,t){var r=[m.A7.StrictlyNecessary,m.A7.Functional,m.A7.Analytics,m.A7.Marketing,m.A7.Unknown],n=(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)({},m.A7.StrictlyNecessary,g.StrictlyNecessary),m.A7.Functional,g.Functional),m.A7.Analytics,g.Analytics),m.A7.Marketing,g.Marketing),m.A7.Unknown,g.Unknown);return r.map(function(r){return{key:n[r],granted:!!e[r],gatheredTs:new Date().toISOString(),displayedText:t[r]}})},O=function(e){var t=e.consents;if(t&&t.length){var r=t.map(function(e){return new Date(e.updatedTs).getTime()});return new Date(Math.max.apply(Math,(0,u.A)(r))).toISOString()}},k=function(e){var t=!1;if(e){var r=new Date;r.setFullYear(r.getFullYear()-1),t=new Date(e)<r}return t},S=function(e){function t(e,r){var n,a,l;return(0,i.A)(this,t),a=t,l=[e],a=(0,o.A)(a),(n=(0,s.A)(this,y()?Reflect.construct(a,l||[],(0,o.A)(this).constructor):a.apply(this,l))).status=r,Object.setPrototypeOf(n,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(n,t),n.name="StatusCodeError",n}return(0,a.A)(t,e),(0,n.A)(t)}((0,l.A)(Error))},"./node_modules/@atlassian/browser-storage-controls/dist/esm/types.js":(e,t,r)=>{"use strict";r.d(t,{A7:()=>n,RK:()=>s,hZ:()=>o,kU:()=>a,nW:()=>l,uG:()=>i});var n=function(e){return e.StrictlyNecessary="STRICTLY_NECESSARY",e.Functional="FUNCTIONAL",e.Marketing="MARKETING",e.Analytics="ANALYTICS",e.Unknown="UNKNOWN",e}({}),i=function(e){return e.ConsentDataUnavailable="CONSENT_DATA_UNAVAILABLE",e.ConsentedUnderGDPR="CONSENTS_SAVED_IN_GDPR_LOCALE",e.ConsentedUnderCPRA="CONSENTS_SAVED_IN_CPRA_LOCALE",e.ConsentedUnderLGPD="CONSENTS_SAVED_IN_LGPD_LOCALE",e.ConsentedUnderFADP="CONSENTS_SAVED_IN_FADP_LOCALE",e}({}),s=function(e){return e.ConsentsAreDefault="DEFAULT_CONSENTS",e.UserIsAuthenticated="USER_AUTHENTICATED",e.ConsentDataUnavailable="CONSENT_DATA_UNAVAILABLE",e}({}),o=function(e){return e[e.INTERNAL=0]="INTERNAL",e}({}),a=function(e){return e.Cookies="Cookies",e.LocalStorage="LocalStorage",e.SessionStorage="SessionStorage",e}({}),l=function(e){return e.SUCCESS="SUCCESS",e.BLOCKED="BLOCKED",e.FAILED="FAILED",e}({})},"./node_modules/@atlassiansox/analytics-web-client/dist/esm/analyticsWebClient.js":(e,t,r)=>{"use strict";r.d(t,{Ay:()=>rI});var n=r("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=r("./node_modules/@atlassiansox/analytics-web-client/node_modules/uuid/v4.js"),s=r.n(i),o=r("./node_modules/@atlassiansox/analytics-web-client/dist/esm/analyticsWebTypes.js");class a{constructor(){(0,n.A)(this,"_bindEventListeners",()=>{document.addEventListener(this._visibilityChange,this._handleVisibilityChange,!1)}),(0,n.A)(this,"_handleVisibilityChange",()=>{let e=document[this._hidden];this._isHidden=e,this._callbacks.forEach(t=>t(e))}),this._isHidden=!1,this._callbacks=new Map,this._hidden=void 0,this._visibilityChange=void 0,"undefined"!=typeof document&&(void 0!==document.hidden?(this._isHidden=document.hidden,this._hidden="hidden",this._visibilityChange="visibilitychange"):void 0!==document.msHidden?(this._isHidden=document.msHidden,this._hidden="msHidden",this._visibilityChange="msvisibilitychange"):void 0!==document.webkitHidden&&(this._isHidden=document.webkitHidden,this._hidden="webkitHidden",this._visibilityChange="webkitvisibilitychange"),void 0!==document.addEventListener&&void 0!==this._hidden&&this._bindEventListeners())}addCallback(e,t){if("string"!=typeof e)throw Error("Invalid name, must be string");if("function"!=typeof t)throw Error("Invalid callback, must be function");this._callbacks.set(e,t)}removeCallback(e){this._callbacks.has(e)&&this._callbacks.delete(e)}getIsHidden(){return this._isHidden}}class l{constructor(){this._performance=window.performance}clearMarks(...e){this._performance&&this._performance.clearMarks&&this._performance.clearMarks(...e)}mark(...e){this._performance&&this._performance.mark&&this._performance.mark(...e)}getEntriesByName(...e){return this._performance&&this._performance.getEntriesByName?this._performance.getEntriesByName(...e):[]}getTimeOrigin(){return this._performance&&(this._performance.timeOrigin||this._performance.timing)?this._performance.timeOrigin||this._performance.timing.navigationStart:0}now(){return this._performance&&this._performance.now?this._performance.now():Date.now?Date.now():+new Date}isAvailable(){return!!this._performance&&!!this._performance.clearMarks&&!!this._performance.mark&&!!this._performance.getEntriesByName&&!!this._performance.timing}}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}class d{constructor(e,t){if((0,n.A)(this,"_getEventKey",({task:e,taskId:t})=>t?`${e}.${t}`:e),(0,n.A)(this,"_getEventTimingByName",e=>{let t=this._performance.getEntriesByName(e);return t[t.length-1]}),(0,n.A)(this,"_getApdexFields",e=>{let t=this._getApdexTimings(e),r=this._calculateApdex({duration:t.duration,threshold:e.threshold});return c(c({},t),{},{apdex:r})}),(0,n.A)(this,"_getApdexTimings",e=>{let t=this._getEventKey(e),r=`${t}-start`,n=e.startTime||this._getStartTime(e,r),i=e.stopTime||this._getStopTime();return this._cleanApdexState(t),{startTime:n,stopTime:i,duration:i-n}}),(0,n.A)(this,"_getStartTime",(e,t)=>{let r=this._performance.getTimeOrigin();return e.type===o.LR.INITIAL_LOAD?r:r+this._getEventTimingByName(t).startTime}),(0,n.A)(this,"_getStopTime",()=>this._performance.getTimeOrigin()+this._performance.now()),(0,n.A)(this,"_cleanApdexState",e=>{this._performance.clearMarks(`${e}-start`),this._performance.clearMarks(`${e}-stop`),this._startedEvents.delete(e)}),(0,n.A)(this,"_getVisibilityFields",e=>{let t;if(e.type===o.LR.INITIAL_LOAD)t=!this._wasPreviouslyHidden;else if(e.type===o.LR.TRANSITION){let r=this._getEventKey(e);t=this._isActiveEvents.get(r)}return(e.startTime||e.stopTime)&&(t=!this._pageVisibility.getIsHidden()),{isActiveTab:t}}),(0,n.A)(this,"_calculateApdex",({duration:e,threshold:t=this._threshold})=>e<=t?1:e<=4*t?.5:0),(0,n.A)(this,"_validateStartEvent",e=>{if(!e)throw Error('Missing "event" in Apdex start event');if(!e.task)throw Error('Missing "task" in Apdex start event');if("string"!=typeof e.task)throw Error('Invalid "task" in Apdex start event');if(e.taskId&&"string"!=typeof e.taskId)throw Error('Invalid "taskId" in Apdex start event')}),(0,n.A)(this,"_validateStopEvent",e=>{if(!e)throw Error('Missing "event" in Apdex stop event');if(!e.task)throw Error('Missing "task" in Apdex stop event');if("string"!=typeof e.task)throw Error('Invalid "task" in Apdex stop event');if(e.taskId&&"string"!=typeof e.taskId)throw Error('Invalid "taskId" in Apdex stop event');if(!e.type)throw Error('Missing "type" in Apdex stop event');if(e.type&&!(0,o.Xj)(o.LR,e.type))throw Error('Invalid "type" in Apdex stop event');if(e.threshold&&"number"!=typeof e.threshold)throw Error('Invalid "threshold" in Apdex stop event');if(!e.startTime&&e.type===o.LR.TRANSITION){let t=this._getEventKey(e);if(!this._startedEvents.has(t))throw Error(`Apdex event transition "${t}" was not started`)}if(e.startTime&&!("number"==typeof e.startTime&&e.startTime>=0))throw Error('Invalid "startTime" in Apdex stop event');if(e.stopTime&&"number"!=typeof e.stopTime)throw Error('Invalid "stopTime" in Apdex stop event');if(e.stopTime<=e.startTime)throw Error('"stopTime" should be greater than "startTime" in Apdex stop event')}),(0,n.A)(this,"_shouldSendEvent",e=>!!e&&"number"==typeof e.apdex),(0,n.A)(this,"_sendEvent",(e,t)=>{this._shouldSendEvent(e)&&this._onEvent({source:"ui",action:"readyForUser",actionSubject:"ui",attributes:c(c({},e.additionalAttributes),{},{task:e.task,taskId:e.taskId,type:e.type,threshold:e.threshold||this._threshold,apdex:e.apdex,startTime:e.startTime,stopTime:e.stopTime,duration:e.duration,isActiveTab:e.isActiveTab})},t)}),!e)throw Error("Missing onEvent callback");if("function"!=typeof e)throw Error("Invalid onEvent, must be function");if(!(t instanceof a))throw Error("Invalid pageVisibility, must be PageVisibility class");this._startedEvents=new Map,this._performance=new l,this._onEvent=e,this._threshold=1e3,this._wasPreviouslyHidden=t.getIsHidden(),this._isActiveEvents=new Map,this._pageVisibility=t,this._pageVisibility.addCallback("apdexEvent",e=>{this.onVisibilityChange(!e)})}start(e){if(this._validateStartEvent(e),!this._performance.isAvailable())return;let t=this._getEventKey(e),r=`${t}-start`;this._startedEvents.set(t,!0),this._isActiveEvents.set(t,!this._pageVisibility.getIsHidden()),this._performance.clearMarks(r),this._performance.mark(r)}getStart(e){if(this._validateStartEvent(e),!this._performance.isAvailable())return;let t=this._getEventKey(e),r=`${t}-start`;return this._getEventTimingByName(r)}stop(e,t){if(this._validateStopEvent(e),!this._performance.isAvailable())return;let r=this._getApdexFields(e),n=this._getVisibilityFields(e);this._sendEvent(c(c(c({},e),r),n),t)}onVisibilityChange(e){e||(this._wasPreviouslyHidden=!0,Array.from(this._isActiveEvents.keys()).forEach(e=>this._isActiveEvents.set(e,!1)))}}let h=e=>"function"==typeof e,p=(e,t)=>()=>{if(h(e))try{return e()}catch(e){console.error(`${t} - ${e instanceof Error?e.message:String(e)}`);return}return e};function f(e){return!0==(null!==e&&"object"==typeof e&&!1===Array.isArray(e))&&"[object Object]"===Object.prototype.toString.call(e)}function m(e){if(!1===f(e))return!1;let t=e.constructor;if("function"!=typeof t)return!1;let r=t.prototype;return!1!==f(r)&&"isPrototypeOf"in r}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function v(e){return{tenantIdType:e.tenantIdType,tenantId:e.tenantId}}function b(e){return{userIdType:e.userIdType}}function _(e){return{orgId:e.orgId}}function w(e){return{workspaceId:e.workspaceId}}function C(e){if(S(e))return{aliases:e}}function E(e){if(S(e))return{groups:e}}function A(e){return e.anonymousId?{anonymousId:e.anonymousId}:{}}function O(e,t){return void 0===t?e:t}function k(e,t){let r=t||{},n=O(e.env,r.env),i=O(e.product,r.product),s=O(e.subproduct(),r.subproduct);return{env:n,product:i,subproduct:s,version:O(e.version,r.version),origin:O(e.origin,r.origin),platform:O(e.platform,r.platform)}}function S(e){return m(e)&&Object.keys(e).length>0}function I(e,t){return S(t)?{[e]:t}:void 0}function j(e){if(S(e))return I("containers",function(e){let t={};return Object.keys(e).forEach(r=>{let n=e[r];t[r]={id:n.id,type:n.type}}),t}(e))}function x(e,t){return y({containerType:e.containerType,containerId:e.containerId,source:e.source,objectType:e.objectType,objectId:e.objectId,actionSubject:e.actionSubject,action:e.action,actionSubjectId:e.actionSubjectId,attributes:e.attributes,nonPrivacySafeAttributes:e.nonPrivacySafeAttributes,tags:e.tags,highPriority:e.highPriority,eventType:t},j(e.containers))}function T(e){return`${e.actionSubject} ${e.action}`}let P=function(e){return e.QUIET="quiet",e.STANDARD="standard",e.COMPLETE="complete",e}({});function D(e,t,r,n,i,s,o,a,l,u,c,d,h){let p=k(e,function(e){let{env:t,product:r,subproduct:n,version:i,origin:s,platform:o}=e;return{env:t,product:r,subproduct:n,version:i,origin:s,platform:o}}(n)),f=v(t),m=_(l),g=w(c),O=b(r),S=x(n,i);return y(y(y(y(y(y(y(y(y({},p),f),m),O),S),A(n)),{},{tabId:s,sessionId:o,taskSessions:a,pageLoadId:u},g),C(d)),E(h))}let L=1e4,N=(e,t)=>Object.keys(e).reduce((r,n)=>(r[t(e[n],n,e)]=e[n],r),{}),R=(e,t)=>t.reduce((t,r)=>(r in e&&(t[r]=e[r]),t),{}),M=(e,t)=>Object.keys(e).filter(r=>!t(e[r],r)).reduce((t,r)=>(t[r]=e[r],t),{}),U=(e,t)=>Object.keys(e).filter(r=>t(e[r],r)).reduce((t,r)=>(t[r]=e[r],t),{}),F=(e,t)=>Object.keys(e).filter(e=>0>t.indexOf(e)).reduce((t,r)=>(t[r]=e[r],t),{}),V=(e,t)=>{if(e===t)return!0;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(!e||!t||"object"!=typeof e&&"object"!=typeof t)return e===t;if(e.prototype!==t.prototype)return!1;let r=Object.keys(e);return r.length===Object.keys(t).length&&r.every(r=>V(e[r],t[r]))},B=(e,t)=>e.reduce((e,r,n,i)=>(e[t(r,n,i)?0:1].push(r),e),[[],[]]),G=Object.freeze([o.$q.OPERATIONAL,o.$q.TRACK,o.$q.UI]);function K(e){if(e){if(e&&e.constructor!==Object)throw Error("properties.containers must be an Object");Object.values(e).forEach(e=>(function(e){if(!m(e))throw Error("properties.containers must be an Object");if(!("id"in e))throw Error("properties.containers is missing field 'id'");if("string"!=typeof e.id)throw Error("properties.containers.id must be of type String");if("type"in e&&"string"!=typeof e.type)throw Error("properties.containers.type must be of type String")})(e))}}function W(e){switch(e){case o.$q.OPERATIONAL:case o.$q.TRACK:case o.$q.UI:return!0;default:return!1}}function z(e){if(!e)throw Error("Missing event");if(!e.source)throw Error("Missing event.source");if(!e.actionSubject)throw Error("Missing event.actionSubject");if(!e.action)throw Error("Missing event.action");K(e.containers)}class q{constructor(e,t){if((0,n.A)(this,"canCompress",e=>{try{return e&&W(e.eventType)&&this.predicate(e)}catch(e){return!1}}),(0,n.A)(this,"compress",e=>{let[t,r]=B(e,e=>this.canCompress(e)),n=this.compressFn(t);if(!n)throw Error("No events were returned from the compression function");return n.forEach(e=>{(function(e){if(!W(e))throw Error(`Invalid action event type: ${e}, must be one of: [${G}]`)})(e.eventType),z(e)}),n.concat(r)}),"function"!=typeof e)throw Error("Invalid predicate, must be a function that accepts an event and returns a boolean");if("function"!=typeof t)throw Error("Invalid compressFn, must be a function that both accepts and returns an array of events");this.predicate=e,this.compressFn=t}}function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}class Q{constructor(e=[]){if((0,n.A)(this,"canCompress",e=>this.compressionRules.some(t=>t.canCompress(e))),(0,n.A)(this,"compress",e=>this.createGroups(e).reduce((e,t)=>{let r=this.compressGroup(t);return e.concat(r)},[])),(0,n.A)(this,"createGroups",e=>e.reduce((e,t)=>{let r;let n=this.compressionRules.find(e=>e.canCompress(t));if(n){let e=x(t,t.eventType);r=F(t,Object.keys(e))}let i=e.find(e=>n===e.compressor&&V(r,e.contextFields));return i?i.events.push(t):e.push({contextFields:r,compressor:n,events:[t]}),e},[])),(0,n.A)(this,"compressGroup",e=>{if(!e.compressor)return e.events;try{return e.compressor.compress(e.events).map(t=>H(H({},t),e.contextFields))}catch(t){return console.warn(`Failed to compress some analytics events. Error: ${t.message}. Sending ${e.events.length} uncompressed events instead`),e.events}}),!Array.isArray(e))throw Error("Event compressors must be constructed with an array of CompressionRules");if(!e.every(e=>e instanceof q))throw Error("Event compressors can only be constructed with instances of CompressionRule");this.compressionRules=e}}class Y{constructor(e,t){(0,n.A)(this,"push",(e,t,r,n)=>{this.eventArgs.push({identifier:e,builtEvent:t,context:r,userInfo:n})}),(0,n.A)(this,"size",()=>this.eventArgs.length),(0,n.A)(this,"startFlush",()=>{try{this.eventArgs=this.compressEventArgs(this.eventArgs)}catch(e){console.warn(`Failed to perform compression on the delayed analytics events. Error: ${e.message}. Sending ${this.eventArgs.length} uncompressed events instead`)}this.flushNextBatch()}),(0,n.A)(this,"cancelFlush",()=>{this.flushBatchTimeout&&(clearTimeout(this.flushBatchTimeout),this.flushBatchTimeout=null)}),(0,n.A)(this,"flushNextBatch",()=>{this.eventArgs.splice(0,7).forEach(e=>this.processFn(e.identifier,e.builtEvent,e.context,e.userInfo)),this.eventArgs.length>0?this.flushBatchTimeout=setTimeout(()=>this.flushNextBatch(),100):this.flushBatchTimeout=null}),(0,n.A)(this,"compressEventArgs",e=>{let[t,r]=B(e,e=>this.compressor.canCompress(e.builtEvent)),n=t.reduce((e,t)=>{let r=e.find(e=>V(e.userInfo,t.userInfo)&&V(e.context,t.context));return r?r.eventArgs.push(t):e.push({userInfo:t.userInfo,context:t.context,eventArgs:[t]}),e},[]).reduce((e,t)=>{try{let r=t.eventArgs.map(e=>e.builtEvent),n=this.compressor.compress(r).map(e=>({identifier:T(e),builtEvent:e,userInfo:t.userInfo,context:t.context}));return e.concat(n)}catch(e){return console.warn(`Failed to compress some analytics events. Error: ${e.message}. Sending ${t.eventArgs.length} uncompressed events instead`),t.eventArgs}},[]);return r.forEach(e=>n.push(e)),n}),this.processFn=e,this.flushBatchTimeout=null,this.eventArgs=[],this.compressor=new Q(t)}}let J=function(e){return e.TIMEOUT="timeout",e.MANUAL="manual",e}({});class X{constructor(e,t){(0,n.A)(this,"push",(e,t,r,n)=>{this.delayQueue.push(e,t,r,n)}),(0,n.A)(this,"startLowPriorityEventDelay",(e=L,t)=>{if(Number.isNaN(e)||e<=0)throw Error(`Invalid timeout period: ${e}, must be a number greater than 0`);this.delayTimeout&&clearTimeout(this.delayTimeout);let r=e?Math.min(e,3e4):3e4;this.delayCallback=t,this.delayTimeout=setTimeout(()=>this.stopLowPriorityEventDelay(J.TIMEOUT),r),this.delayQueue.cancelFlush(),this.isDelaying=!0}),(0,n.A)(this,"stopLowPriorityEventDelay",(e=J.MANUAL)=>{var t;this.delayTimeout&&(clearTimeout(this.delayTimeout),this.delayTimeout=void 0),this.delayQueue.startFlush(),this.isDelaying=!1,null===(t=this.delayCallback)||void 0===t||t.call(this,e),this.delayCallback=void 0}),(0,n.A)(this,"isDelayingLowPriorityEvents",()=>this.isDelaying),this.isDelaying=!1,this.delayQueue=new Y(e,t)}}let Z=function(e){return e.IN_PROGRESS="inProgress",e.QUEUE="queue",e.RECLAIM_START="reclaimStart",e.RECLAIM_END="reclaimEnd",e.ACK="ack",e}({}),ee=function(e){return e[e.RECLAIM_TIMEOUT=1e4]="RECLAIM_TIMEOUT",e[e.RECLAIM_WAIT=500]="RECLAIM_WAIT",e[e.RECLAIM_WAIT_THRESHOLD=2e3]="RECLAIM_WAIT_THRESHOLD",e}({}),et=(e,t)=>({[Z.ACK]:`${e}.${t}.${Z.ACK}`,[Z.QUEUE]:`${e}.${t}.${Z.QUEUE}`,[Z.IN_PROGRESS]:`${e}.${t}.${Z.IN_PROGRESS}`,[Z.RECLAIM_START]:`${e}.${t}.${Z.RECLAIM_START}`,[Z.RECLAIM_END]:`${e}.${t}.${Z.RECLAIM_END}`}),er=Object.values(Z),en=e=>{if("string"!=typeof e||0===e.length)return 0;try{let t=Object.keys(localStorage).filter(t=>t&&t.startsWith(`${e}.`)||!1).map(e=>e.split(".")).filter(e=>3===e.length&&er.includes(e[2])).reduce((e,t)=>{let[,r,n]=t;return void 0===e[r]&&(e[r]={}),e[r][n]=!0,e},{}),r=Object.keys(t).filter(e=>!0!==t[e][Z.ACK]);return r.forEach(t=>{let{queue:r,inProgress:n,reclaimStart:i,reclaimEnd:s}=et(e,t);localStorage.removeItem(n),localStorage.removeItem(r),localStorage.removeItem(i),localStorage.removeItem(s)}),r.length}catch(e){}return 0};function ei(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function es(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ei(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let eo=e=>new Promise(t=>{setTimeout(t,e)}),ea=e=>{try{return Object.keys(localStorage).filter(t=>t.startsWith(e)).map(e=>e.split(".")).filter(t=>{if(3===t.length&&t[0]===e&&t[2]===Z.ACK)try{let e=localStorage.getItem(t.join("."));if(e){let t=parseInt(e);return ee.RECLAIM_TIMEOUT+t<Date.now()}}catch(e){}return!1}).map(e=>e[1])}catch(e){}return[]},el=async(e,t)=>{let{ack:r,reclaimStart:n,reclaimEnd:i}=e.storageKeys,s=Date.now();if(localStorage.setItem(n,e.reclaimProcessId),localStorage.setItem(r,s.toString()),await eo(ee.RECLAIM_WAIT),Date.now()>s+ee.RECLAIM_WAIT_THRESHOLD||localStorage.getItem(n)!==e.reclaimProcessId)throw Error("Took to long to callback, reclaim abandonded. After reclaimStart.");if(localStorage.setItem(i,e.reclaimProcessId),await eo(ee.RECLAIM_WAIT),Date.now()>s+ee.RECLAIM_WAIT_THRESHOLD||localStorage.getItem(n)!==e.reclaimProcessId||localStorage.getItem(i)!==e.reclaimProcessId)throw Error("Took to long to callback, reclaim abandonded. After reclaimEnd.");return eu(e,t)},eu=async(e,t)=>{let{queue:r,inProgress:n}=e.storageKeys,i=[...JSON.parse(localStorage.getItem(r)||"[]"),...Object.entries(JSON.parse(localStorage.getItem(n)||"{}")).map(([e,t])=>es(es({},t),{},{attemptNumber:t.attemptNumber+1,id:e}))];if(i.length>0){let s=await t(i);if("successful"===s.status)ec(e.storageKeys);else if("partial"===s.status){let e=i.filter(e=>!s.acceptedItemIds.includes(e.id));return localStorage.removeItem(n),localStorage.setItem(r,JSON.stringify(e)),{fullReclaim:!1}}}else ec(e.storageKeys);return{fullReclaim:!0}},ec=e=>{localStorage.removeItem(e.queue),localStorage.removeItem(e.inProgress),localStorage.removeItem(e.reclaimEnd),localStorage.removeItem(e.reclaimStart),localStorage.removeItem(e.ack)},ed=async(e,t)=>{if("string"!=typeof e||0===e.length)return{fullReclaims:0,partialReclaims:0,failedReclaims:0};let r=s()(),n=ea(e).map(n=>el({queuePrefix:e,reclaimProcessId:r,storageKeys:et(e,n)},t)),i=await Promise.allSettled(n),o=i.filter(e=>"rejected"===e.status),a=i.filter(e=>"fulfilled"===e.status).map(e=>e.value),l=a.filter(e=>e.fullReclaim),u=a.filter(e=>!e.fullReclaim);return{failedReclaims:o.length,partialReclaims:u.length,fullReclaims:l.length}},eh="namespace-timeAdded",ep="analytics-resilience",ef="timeToBeProcessedAfter",em="timeAdded",eg="retryAttempts",ey=function(e){return e.INDEXEDDB="indexeddb",e.MEMORY="memory",e}({}),ev=function(e){return e.IGNORE="ignore",e.ABANDON="abandon",e.EVICT="evict",e}({});class eb extends Error{constructor(){super("window.indexeddb is undefined."),Object.setPrototypeOf(this,eb.prototype),this.name="NoIndexedDbError"}}let e_="AbandonWriteError";class ew extends Error{constructor(e){super(`Event Limit reached. Abandoning write to: ${e}`),Object.setPrototypeOf(this,ew.prototype),this.name=e_}}let eC="CallbackProcessingError";class eE extends Error{constructor(e){super(`Error thrown while processing events in callback: ${e&&"object"==typeof e&&"toString"in e&&"function"==typeof e.toString&&e.toString()||"string"==typeof e&&e||"Argument passed to CallbackProcessingError was not an Error or string."}`),Object.setPrototypeOf(this,eE.prototype),this.name=eC}}let eA="InvalidPolicyError";class eO extends Error{constructor(e,t){super(`Method '${t}' cannot be called with policy '${e}'.`),this.name=eA}}let ek=e=>!!e&&"object"==typeof e&&"name"in e&&"string"==typeof e.name&&(e.name===e_||e.name===eC||e.name===eA);var eS=r("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");let eI=7,ej=(e,t,{id:r,retryAttempts:n,timeToProcessOffset:i})=>({item:e,id:r||s()(),retryAttempts:n||0,timeToBeProcessedAfter:Date.now()+(i||0),namespace:t,timeAdded:Date.now()}),ex=e=>({logger:e.logger||console,useMemory:e.useMemory||!1,maxAttempts:e.maxAttempts||10,maxEventLimit:e.maxEventLimit||5e3}),eT=e=>new Promise((t,r)=>{e.onsuccess=e=>{t(e)},e.onerror=e=>{r(e)}}),eP=e=>new Promise((t,r)=>{e.oncomplete=()=>{t()},e.onerror=e=>{r(e)},e.onabort=e=>{r(e)}}),eD=(e,t)=>{try{"function"==typeof e.commit&&e.commit()}catch(e){throw t.error("Failed to force commit transaction:",e),e}return eP(e)},eL=(e,t)=>{e.onerror=e=>{t.warn("Error thrown from request:",e)}};class eN{constructor(e,t,r,i){if((0,n.A)(this,"deleteOldestNEvents",async(e,t)=>{var r;let n=e.index(eh),i=IDBKeyRange.bound([this.namespace,0],[this.namespace,Date.now()]),s=n.getAllKeys(i,t),o=await eT(s),a=null==o||null===(r=o.target)||void 0===r?void 0:r.result;if(a&&Array.isArray(a)&&a.length>0)try{let t=a.map(t=>this.deleteItemHandler(e,t));await Promise.all(t)}catch(e){throw this.logger.warn("Failed to delete items from indexeddb.",e),e}}),e>0)this.eventLimit=e;else throw Error("Event Limit has to be set higher than 1");this.namespace=t,this.logger=r,this.deleteItemHandler=i}async insertItems(e,t,r=ev.ABANDON){let n=[...t],i=0;switch(r){case ev.ABANDON:await this.throwIfNotEnoughSpace(e,t.length);break;case ev.EVICT:i=await this.evictIfNotEnoughSpace(e,t.length);break;case ev.IGNORE:await this.calculateHowManyEventsWeCanAdd(e,n)}let s=n.map(t=>eT(e.add(t)));return await Promise.all(s),await eD(e.transaction,this.logger),{items:n,numberOfEvictedItems:i}}async throwIfNotEnoughSpace(e,t){let r=await this.calculateFreeSpace(e);if(r<t)throw new ew(`Not enough space in IndexedDb. Needed ${t} but only had ${r}`)}async evictIfNotEnoughSpace(e,t){let r=await this.calculateFreeSpace(e);if(r<t){let n=t-r;return await this.deleteOldestNEvents(e,n),n}return 0}async calculateHowManyEventsWeCanAdd(e,t){let r=await this.calculateFreeSpace(e);if(r<t.length){let e=t.length-r,n=t.length-e;t.splice(n,e)}}async calculateFreeSpace(e){let t=await this.getCountofEventsInObjectStore(e);return this.eventLimit-t}async getCountofEventsInObjectStore(e){let t=e.index(eh),r=IDBKeyRange.bound([this.namespace,0],[this.namespace,Date.now()]),n=t.count(r);return(await eT(n)).target.result}}let eR=["item"],eM=["items"];function eU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}class eF{constructor(e,t={}){if((0,n.A)(this,"startDB",async()=>new Promise(async(e,t)=>{if("undefined"!=typeof window){let r=window.setTimeout(()=>{this.logger.warn("IndexedDB timed out."),t(new eb)},15e3),n=window.indexedDB.open("analytics-web-client",1);n.onupgradeneeded=e=>{if(0!==e.oldVersion)throw Error("We cannot upgrade the database. Do not do this.");let t=n.result.createObjectStore(ep,{keyPath:"id"});t.createIndex(ef,ef,{unique:!1}),t.createIndex(eg,eg,{unique:!1}),t.createIndex(em,em,{unique:!1}),t.createIndex(eh,["namespace","timeAdded"],{unique:!1})},n.onerror=function(){t(new eb)};try{return await eT(n),e(n.result)}catch(e){this.logger.warn("IndexedDB failed to initialise.",e),t(new eb)}finally{window.clearTimeout(r)}}else this.logger.warn("IndexedDB failed to initialise. No 'window' object."),t(new eb)})),(0,n.A)(this,"addItem",async(e,t={},r=ev.ABANDON)=>{let{logger:n,namespace:i}=this,s=ej(e,i,t),{objectStore:o}=await this.getObjectStoreAndTransaction("readwrite");if(r===ev.IGNORE)throw new eO(r,"IndexedDbConnector#addItem");try{if(!s.namespace||0===s.namespace.length||"string"!=typeof s.namespace)throw Error("Namespace not specified");let e=await this.globalEventLimitGuard.insertItems(o,[s],r);if(1===e.items.length)return{item:e.items[0],numberOfEvictedItems:e.numberOfEvictedItems};throw Error(`Incorrect number of items added. Expected: 1, got: ${e.items.length}`)}catch(e){if(ek(e))throw e;throw n.log("Failed to add item to table",e),Error("Request to add item to table failed")}}),(0,n.A)(this,"bulkAddItem",async(e,t=ev.ABANDON)=>{let{logger:r,namespace:n}=this,i=e.map(e=>{let{item:t}=e;return ej(t,n,(0,eS.A)(e,eR))}),{objectStore:s}=await this.getObjectStoreAndTransaction("readwrite");try{return await this.globalEventLimitGuard.insertItems(s,i,t)}catch(e){if(ek(e))throw e;throw r.log("Failed to add item to table",e),Error("Request to add item to table failed")}}),(0,n.A)(this,"getItems",async(e=eI)=>{let t=e>0?e:eI,{logger:r}=this,i=this.options.maxAttempts,{transaction:s,objectStore:o}=await this.getObjectStoreAndTransaction("readwrite"),a=o.index(ef),l=IDBKeyRange.upperBound(Date.now()),u=a.openCursor(l),c=await new Promise(async(e,s)=>{let o=[],a=0;u.onerror=e=>{r.error("Failed to open cursor:",e),s("Failed to open cursor")},u.onsuccess=s=>{let l=s.target.result;if(l){let s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eU(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eU(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},l.value);o.push(s);let u=l.value;u.retryAttempts+=1,u.timeToBeProcessedAfter=Date.now()+6e4,u.retryAttempts>=i?(++a,eL(l.delete(),r)):eL(l.update(u),r),o.length<t?l.continue():e({items:o,numberOfDeletedItems:a})}else e({items:o,numberOfDeletedItems:a})}});return await eD(s,this.logger),c}),(0,n.A)(this,"deleteItems",async e=>{let{transaction:t,objectStore:r}=await this.getObjectStoreAndTransaction("readwrite");try{let n=e.map(e=>this.deleteItem(r,e));await eD(t,this.logger),await Promise.all(n)}catch(e){throw this.logger.warn("Failed to delete items from indexeddb.",e),e}}),(0,n.A)(this,"getItemCount",async()=>{let{transaction:e,objectStore:t}=await this.getObjectStoreAndTransaction("readonly"),r=t.index(ef),n=IDBKeyRange.upperBound(Date.now()),i=r.count(n),s=await eT(i);return await eD(e,this.logger),s.target.result}),(0,n.A)(this,"processItems",async(e,t=eI)=>{let r=await this.getItems(t),{items:n}=r,i=(0,eS.A)(r,eM);try{let t=await e(n,i),r=n.map(e=>e.id);return await this.deleteItems(r),t}catch(e){throw new eE(e)}}),(0,n.A)(this,"deleteItem",async(e,t)=>{let{logger:r}=this;try{await eT(e.delete(t))}catch(e){throw r.error("Failed to delete item:",t,e),e}}),(0,n.A)(this,"getObjectStoreAndTransaction",async e=>{let t=(await this.db).transaction(ep,e),r=t.objectStore(ep);return{transaction:t,objectStore:r}}),this.options=ex(t),this.namespace=e,this.logger=this.options.logger,!window.indexedDB)throw new eb;this.db=this.startDB(),this.db.catch(()=>{}),this.globalEventLimitGuard=new eN(this.options.maxEventLimit,this.namespace,this.logger,this.deleteItem)}storeType(){return ey.INDEXEDDB}}class eV{constructor(e,t){if((0,n.A)(this,"insertItemsToMemoryStore",(e,t)=>{switch(t){case ev.ABANDON:return this.handleAbandonIfLimitWillExceedPolicy(e);case ev.EVICT:return Promise.resolve(this.handleEvictOldestIfLimitExceededPolicy(e));case ev.IGNORE:return this.handleAddAsManyAsPossible(e)}}),e>0)this.eventLimit=e;else throw Error("Event Limit has to be set higher than 1");this.memoryItemHandlers=t}async handleAbandonIfLimitWillExceedPolicy(e){if(await this.memoryItemHandlers.getItemCount()+e.length>this.eventLimit)throw new ew(ey.MEMORY);return this.memoryItemHandlers.addItems(e),{items:e,numberOfEvictedItems:0}}handleEvictOldestIfLimitExceededPolicy(e){return this.memoryItemHandlers.addItems(e),{items:e,numberOfEvictedItems:this.memoryItemHandlers.evictEventsIfNeeded(this.eventLimit)}}async handleAddAsManyAsPossible(e){let t=this.eventLimit-await this.memoryItemHandlers.getItemCount(),r=t>e.length?e:e.slice(0,t);return this.memoryItemHandlers.addItems(r),{items:r,numberOfEvictedItems:0}}}let eB=["item"],eG=["items"];function eK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}class eW{constructor(e,t={}){this.namespace=e,this.memoryStore=[],this.options=ex(t),this.globalEventLimitGuard=new eV(this.options.maxEventLimit,{addItems:this.addItems.bind(this),getItemCount:this.getItemCount.bind(this),evictEventsIfNeeded:this.evictEventsIfNeeded.bind(this)})}async addItem(e,t={},r=ev.ABANDON){if(r===ev.IGNORE)throw new eO(r,"IndexedDbConnector#addItem");let n=ej(e,this.namespace,t),i=await this.globalEventLimitGuard.insertItemsToMemoryStore([n],r);return Promise.resolve({item:i.items[0],numberOfEvictedItems:i.numberOfEvictedItems})}bulkAddItem(e,t=ev.ABANDON){let r=e.map(e=>{let{item:t}=e,r=(0,eS.A)(e,eB);return ej(t,this.namespace,r)});return this.bulkAddItemWrapperType(r,t)}bulkAddItemWrapperType(e,t=ev.ABANDON){return Promise.resolve(this.globalEventLimitGuard.insertItemsToMemoryStore(e,t))}getItems(e=eI){return Promise.resolve(this.synchronousGetItems(e))}synchronousGetItems(e=eI){let t=e>0?e:eI,r=Date.now(),i=[],s=[];for(let e of this.memoryStore)if(e.timeToBeProcessedAfter<=r&&(i.push(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eK(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eK(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e)),e.timeToBeProcessedAfter+=6e4,e.retryAttempts+=1,e.retryAttempts>=this.options.maxAttempts&&s.push(e)),i.length>=t)break;return s.forEach(e=>{let t=this.memoryStore.indexOf(e);this.memoryStore.splice(t,1)}),{items:i,numberOfDeletedItems:s.length}}deleteItems(e){return this.memoryStore=this.memoryStore.filter(t=>!e.includes(t.id)),Promise.resolve(void 0)}getItemCount(){let e=Date.now();return Promise.resolve(this.memoryStore.filter(t=>t.timeToBeProcessedAfter<=e).length)}async processItems(e,t){let r=this.synchronousGetItems(t),{items:n}=r,i=(0,eS.A)(r,eG),s=n.map(e=>e.id);try{let t=await e(n,i);return await this.deleteItems(s),t}catch(e){throw new eE(e)}}storeType(){return ey.MEMORY}addItems(e){this.memoryStore.push(...e),this.memoryStore.sort(function(e,t){return e.timeAdded-t.timeAdded})}evictEventsIfNeeded(e){let t=this.memoryStore.length;if(t>e){let r=t-e;return this.memoryStore.splice(0,r),r}return 0}}let ez=class{constructor(e,t={}){if(this.namespace=e,this.options=ex(t),!e||0===e.length||"string"!=typeof e)throw Error("Invalid namespace provided");this.resilience=this.getResilienceMechanism(e,t)}getResilienceMechanism(e,t){if(!t.useMemory)try{return new eF(e,t)}catch(e){if(!(e instanceof eb)){var r;null===(r=t.logger)||void 0===r||r.warn("Attempted to create IndexedDbResilience but failed. Using memory instead.")}}return new eW(this.namespace,t)}addItem(e,t,r=ev.ABANDON){return this.runOrFailOver(()=>this.resilience.addItem(e,t,r))}bulkAddItem(e,t=ev.ABANDON){return this.runOrFailOver(()=>this.resilience.bulkAddItem(e,t))}getItems(e){return this.runOrFailOver(()=>this.resilience.getItems(e))}deleteItems(e){return this.runOrFailOver(()=>this.resilience.deleteItems(e))}getItemCount(){return this.runOrFailOver(()=>this.resilience.getItemCount())}processItems(e,t){return this.runOrFailOver(()=>this.resilience.processItems(e,t))}storeType(){return this.resilience.storeType()}async runOrFailOver(e){try{return await e()}catch(t){if(ek(t))throw t;return this.resilience.storeType()===ey.INDEXEDDB&&await this.failOver(),e()}}async failOver(){let e=this.resilience,t=new eW(this.namespace,this.options);this.resilience=t;try{let{items:r}=await e.getItems(this.options.maxEventLimit);if(r.length>0){let n=(await t.bulkAddItemWrapperType(r,ev.IGNORE)).items.map(e=>e.id);await e.deleteItems(n)}}catch(e){this.options.logger.warn("Unexpected error from ResilienceDb, switching to MemoryDb")}}},eq=function(e){return e.INDEXEDDB="indexeddb",e.MEMORY="memory",e}({}),e$=function(e){return e[e.ONLINE=0]="ONLINE",e[e.OFFLINE=1]="OFFLINE",e}({});class eH{constructor(){(0,n.A)(this,"itemsDiscardedByRetry",0),(0,n.A)(this,"eventCount",0),(0,n.A)(this,"itemsDiscardedByOverflow",0),(0,n.A)(this,"resilienceMechanism",eq.INDEXEDDB),(0,n.A)(this,"localstorageNumberOfQueuesPurged",0),(0,n.A)(this,"localstorageNumberOfFullReclaims",0),(0,n.A)(this,"localstorageNumberOfPartialReclaims",0),(0,n.A)(this,"localstorageNumberOfFailedReclaims",0)}addToItemsDiscardedByRetryCounter(e=1){this.itemsDiscardedByRetry+=e}addToEventCount(){this.eventCount++}addToItemsDiscardedByOverflowCounter(e=1){this.itemsDiscardedByOverflow+=e}setResilienceMechanism(e){this.resilienceMechanism=e}addToReclaimMetrics(e){this.localstorageNumberOfFullReclaims+=e.fullReclaims,this.localstorageNumberOfPartialReclaims+=e.partialReclaims,this.localstorageNumberOfFailedReclaims+=e.failedReclaims}addToPurgedQueuesMetrics(e){this.localstorageNumberOfQueuesPurged+=e}subtractFromMetrics(e){this.itemsDiscardedByRetry=this.subtractFromCount(this.itemsDiscardedByRetry,e.itemsDiscardedByRetry),this.eventCount=this.subtractFromCount(this.eventCount,e.eventCount),this.itemsDiscardedByOverflow=this.subtractFromCount(this.itemsDiscardedByOverflow,e.itemsDiscardedByOverflow),this.localstorageNumberOfFullReclaims=this.subtractFromCount(this.localstorageNumberOfFullReclaims,e.fullReclaims),this.localstorageNumberOfPartialReclaims=this.subtractFromCount(this.localstorageNumberOfPartialReclaims,e.partialReclaims),this.localstorageNumberOfFailedReclaims=this.subtractFromCount(this.localstorageNumberOfFailedReclaims,e.failedReclaims),this.localstorageNumberOfQueuesPurged=this.subtractFromCount(this.localstorageNumberOfQueuesPurged,e.localstorageQueuesPurged)}subtractFromCount(e,t){return Math.max(e-(t||0),0)}getMetricsPayload(){return{itemsDiscardedByRetry:this.itemsDiscardedByRetry,eventCount:this.eventCount,itemsDiscardedByOverflow:this.itemsDiscardedByOverflow,resilienceMechanism:this.resilienceMechanism,localstorageQueuesPurged:this.localstorageNumberOfQueuesPurged,fullReclaims:this.localstorageNumberOfFullReclaims,partialReclaims:this.localstorageNumberOfPartialReclaims,failedReclaims:this.localstorageNumberOfFailedReclaims}}}let eQ=null,eY=()=>(eQ||(eQ=new eH),eQ);class eJ{constructor(e){"undefined"!=typeof window&&(window.addEventListener("offline",()=>e(e$.OFFLINE)),window.addEventListener("online",()=>e(e$.ONLINE)))}getNetworkStatus(){return window.navigator.onLine?e$.ONLINE:e$.OFFLINE}}let eX=function(e){return e.IDLE="idle",e.RUNNING="running",e.COMPLETED="completed",e.TIMED_OUT="timedOut",e}({}),eZ=function(e){return e.EXECUTE="execute",e.COMPLETE="complete",e.TIMEOUT="timeout",e}({});class e0{constructor(e){if((0,n.A)(this,"timeoutHandle",void 0),(0,n.A)(this,"callbackStatus",eX.IDLE),e>0){this.timeoutPeriod=e;return}throw Error("CallbackWithTimeout requires timeout period higher than 0")}transitionCallbackStatus(e,t){switch(e){case eX.IDLE:case eX.TIMED_OUT:case eX.COMPLETED:t===eZ.EXECUTE&&(this.callbackStatus=eX.RUNNING);break;case eX.RUNNING:switch(t){case eZ.COMPLETE:this.callbackStatus=eX.COMPLETED;break;case eZ.TIMEOUT:this.callbackStatus=eX.TIMED_OUT}break;default:this.callbackStatus=e}}executeCallbackWithTimeout(e,t,r){"undefined"!=typeof window&&(this.transitionCallbackStatus(this.callbackStatus,eZ.EXECUTE),this.timeoutHandle=window.setTimeout(()=>{this.transitionCallbackStatus(this.callbackStatus,eZ.TIMEOUT),r()},this.timeoutPeriod),e(e=>{this.cancelTimeout(),this.getCallbackStatus()!==eX.TIMED_OUT&&(this.transitionCallbackStatus(this.callbackStatus,eZ.COMPLETE),t(e))}))}getCallbackStatus(){return this.callbackStatus}cancelTimeout(){"undefined"!=typeof window&&this.timeoutPeriod>0&&this.timeoutHandle&&(window.clearTimeout(this.timeoutHandle),this.timeoutHandle=void 0)}}let e2=function(e){return e[e.NOOP=0]="NOOP",e[e.SUCCESS=1]="SUCCESS",e[e.ERROR=2]="ERROR",e}({}),e1={minRetryDelay:1e3,maxRetryDelay:3e4,backoffFactor:2,backoffJitterPercentage:0,waitInterval:500,callbackTimeoutPeriod:5e3},e3=function(e){return e[e.NONE=0]="NONE",e[e.IMMEDIATE=1]="IMMEDIATE",e[e.WAIT=2]="WAIT",e}({});class e4{constructor(e,t){(0,n.A)(this,"schedule",({immediate:e}={immediate:!1})=>{"undefined"!=typeof window&&(this.operationInFlight?e?this.queuedSchedule=e3.IMMEDIATE:this.queuedSchedule!==e3.IMMEDIATE&&(this.queuedSchedule=e3.WAIT):(e||this.options.waitInterval<=0)&&0===this.failureCount?(this.clearTimeout(),this.run()):this.failureCount>0&&null===this.scheduledTimeout?this.scheduledTimeout=window.setTimeout(this.run,this.calculateBackoff()):null===this.scheduledTimeout&&(this.scheduledTimeout=window.setTimeout(this.run,this.options.waitInterval)))}),(0,n.A)(this,"stop",()=>{this.clearTimeout(),this.queuedSchedule=e3.NONE}),(0,n.A)(this,"getFailureCount",()=>this.failureCount),(0,n.A)(this,"getCallbackStatus",()=>this.callbackTimer.getCallbackStatus()),(0,n.A)(this,"clearTimeout",()=>{"undefined"!=typeof window&&null!==this.scheduledTimeout&&(window.clearTimeout(this.scheduledTimeout),this.scheduledTimeout=null)}),(0,n.A)(this,"run",()=>{this.operationInFlight=!0,this.clearTimeout();try{this.callbackTimer.executeCallbackWithTimeout(this.callback,this.done,()=>this.done(e2.ERROR))}catch(e){this.done(e)}}),(0,n.A)(this,"done",e=>{this.operationInFlight=!1,e===e2.ERROR||this.callbackTimer.getCallbackStatus()===eX.TIMED_OUT?(this.failureCount++,this.clearTimeout()):e===e2.SUCCESS&&(this.failureCount=0),this.processQueuedSchedule()}),(0,n.A)(this,"processQueuedSchedule",()=>{if(this.queuedSchedule!==e3.NONE){let e=this.queuedSchedule===e3.IMMEDIATE;this.queuedSchedule=e3.NONE,this.schedule({immediate:e})}else this.failureCount>0&&this.schedule()}),(0,n.A)(this,"calculateBackoff",()=>{let{minRetryDelay:e,maxRetryDelay:t,backoffFactor:r,backoffJitterPercentage:n}=this.options,i=e*r**this.failureCount;if(n){let e=Math.random(),t=Math.floor(e*n*i);5>Math.floor(10*e)?i-=t:i+=t}return Number(Math.min(i,t).toPrecision(1))}),this.options={minRetryDelay:e.minRetryDelay||e1.minRetryDelay,maxRetryDelay:e.maxRetryDelay||e1.maxRetryDelay,backoffFactor:e.backoffFactor||e1.backoffFactor,backoffJitterPercentage:e.backoffJitterPercentage||e1.backoffJitterPercentage,waitInterval:void 0!==e.waitInterval?e.waitInterval:e1.waitInterval,callbackTimeoutPeriod:e.callbackTimeoutPeriod||e1.callbackTimeoutPeriod},this.scheduledTimeout=null,this.failureCount=0,this.callback=t,this.operationInFlight=!1,this.queuedSchedule=e3.NONE,this.callbackTimer=new e0(this.options.callbackTimeoutPeriod)}}function e5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function e6(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e5(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e5(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let e7={backoffFactor:0,backoffJitterPercentage:0,flushWaitMs:6e4,minRetryDelay:6e4,maxRetryDelay:6e4},e8={backoffFactor:2,backoffJitterPercentage:.2,batchFlushSize:7,flushBeforeUnload:!1,flushWaitMs:500,maxAttempts:10,maxItems:1e3,maxRetryDelay:3e4,minRetryDelay:1e3};class e9{constructor(e,t,r,n){this.queuePrefix=e,this.resilience=new ez(t,{logger:n,maxAttempts:null==r?void 0:r.maxAttempts,maxEventLimit:null==r?void 0:r.maxItems}),this.options=this.buildOptions(r),this.scheduler=new e4(e6(e6({},this.options),{},{waitInterval:null!=r&&r.flushBeforeUnload?0:this.options.flushWaitMs}),this.scheduleCallback.bind(this)),this.longPollingScheduler=new e4(e6(e6({},e7),{},{waitInterval:e7.flushWaitMs}),this.scheduleLongCallBack.bind(this)),this.metricsCollector=eY(),this.networkStatus=new eJ(e=>{e===e$.OFFLINE?this.scheduler.stop():this.checkEventCountAndReschedule()})}start(e){this.batchFlushCallback=e,this.longPollingScheduler.schedule()}stop(){this.scheduler.stop(),this.longPollingScheduler.stop()}async addItem(e){let t=JSON.parse(JSON.stringify(e)),{numberOfEvictedItems:r}=await this.resilience.addItem(t,{},ev.EVICT);this.scheduler.schedule(),this.metricsCollector.addToEventCount(),r>0&&this.metricsCollector.addToItemsDiscardedByOverflowCounter(r)}getGlobalRetryCount(){return this.scheduler.getFailureCount()}async scheduleCallback(e){if(this.networkStatus.getNetworkStatus()===e$.OFFLINE){e(e2.NOOP);return}try{let t=await this.resilience.processItems(this.flush.bind(this),this.options.batchFlushSize);e(t)}catch(t){if(t.name===eC){e(e2.ERROR);return}}finally{await this.checkEventCountAndReschedule()}}async checkEventCountAndReschedule(){let e=await this.resilience.getItemCount();e>0&&this.scheduler.schedule({immediate:e>=this.options.batchFlushSize})}async scheduleLongCallBack(e){let t=en(this.queuePrefix);this.metricsCollector.addToPurgedQueuesMetrics(t);let r=await ed(this.queuePrefix,async e=>{let t=e.map(e=>({item:e.item,retryAttempts:e.attemptNumber,id:e.id})),{items:r}=await this.resilience.bulkAddItem(t,ev.IGNORE);return r.length===t.length?{status:"successful"}:{status:"partial",acceptedItemIds:r.map(e=>e.id)}});this.metricsCollector.addToReclaimMetrics(r),await this.checkEventCountAndReschedule(),e(e2.SUCCESS),this.longPollingScheduler.schedule()}flush(e,t){this.metricsCollector.setResilienceMechanism(this.resilience.storeType());let{batchFlushCallback:r}=this;if(!r)throw Error("batchFlushCallback has not been set. Call PullBatchableQueue#start first.");return new Promise((n,i)=>{if(e.length<=0){n(e2.NOOP);return}r(e.map(e=>{let t=e.item;return e.retryAttempts>0&&t.msg&&(t.msg._metadata||(t.msg._metadata={}),t.msg._metadata.failedAttempts=e.retryAttempts),t}),e=>{e?(t.numberOfDeletedItems>0&&this.metricsCollector.addToItemsDiscardedByRetryCounter(t.numberOfDeletedItems),i(e)):n(e2.SUCCESS)})})}buildOptions(e){return{backoffFactor:(null==e?void 0:e.backoffFactor)||e8.backoffFactor,backoffJitterPercentage:(null==e?void 0:e.backoffJitterPercentage)!==void 0?e.backoffJitterPercentage:e8.backoffJitterPercentage,batchFlushSize:(null==e?void 0:e.batchFlushSize)||e8.batchFlushSize,flushBeforeUnload:(null==e?void 0:e.flushBeforeUnload)||e8.flushBeforeUnload,flushWaitMs:(null==e?void 0:e.flushWaitMs)||e8.flushWaitMs,maxItems:(null==e?void 0:e.maxItems)||e8.maxItems,maxAttempts:(null==e?void 0:e.maxAttempts)||e8.maxAttempts,maxRetryDelay:(null==e?void 0:e.maxRetryDelay)||e8.maxRetryDelay,minRetryDelay:(null==e?void 0:e.minRetryDelay)||e8.minRetryDelay}}}let te=(e,t,r,n)=>new e9(e,t,r||{},n),tt=function(e){return e.IDENTIFY="identify",e.PAGE="page",e.TRACK="track",e}({});function tr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tr(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}async function ti(e,t){try{let r=await t;return e.map(e=>(function(e,t){if(!(t&&t instanceof Function))return e;if(e.msg.type===tt.PAGE||e.msg.type===tt.TRACK){let r=t();r&&Array.isArray(r)&&(e.msg.properties=tn(tn({},e.msg.properties),{},{xid:r}))}else if(e.msg.traits&&e.msg.type===tt.IDENTIFY){let r=t();r&&Array.isArray(r)&&(e.msg.traits=tn(tn({},e.msg.traits),{},{xid:r}))}return e})(e,r))}catch(t){return e}}let ts=new Map([[200,"OK"],[400,"Bad Request"],[401,"Unauthorized"],[402,"Payment Required"],[403,"Forbidden"],[404,"Not Found"],[405,"Method Not Allowed"],[406,"Not Acceptable"],[407,"Proxy Authentication Required"],[408,"Request Timeout"],[409,"Conflict"],[410,"Gone"],[411,"Length Required"],[412,"Precondition Failed"],[413,"Payload Too Large"],[414,"URI Too Long"],[415,"Unsupported Media Type"],[416,"Requested range not satisfiable"],[417,"Expectation Failed"],[418,"I'm a teapot"],[422,"Unprocessable Entity"],[423,"Locked"],[424,"Failed Dependency"],[425,"Too Early"],[426,"Upgrade Required"],[428,"Precondition Required"],[429,"Too Many Requests"],[431,"Request Header Fields Too Large"],[451,"Unavailable For Legal Reasons"],[500,"Internal Server Error"],[501,"Not Implemented"],[502,"Bad Gateway"],[503,"Service Unavailable"],[504,"Gateway Timeout"],[505,"HTTP Version not supported"],[506,"Variant Also Negotiates"],[507,"Insufficient Storage"],[508,"Loop Detected"],[509,"Bandwidth Limit Exceeded"],[510,"Not Extended"],[511,"Network Authentication Required"],[-1,"Unknown Status"]]);var to=r("./node_modules/memoize-one/dist/memoize-one.esm.js");function ta(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}let tl=async e=>{var t;let r=null===(t=tu(e))||void 0===t?void 0:t.signal,i=tc(e.url),s=await fetch(e.url,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ta(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ta(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(e.batch),signal:r},i));if(429===s.status||s.status>=500&&s.status<600)throw Error(`HTTP Error ${s.status} (${s.statusText})`);return s},tu=e=>{if(e.abortController)return e.abortController;if(e.timeout){let t=new AbortController;return setTimeout(()=>{t.abort()},e.timeout),t}},tc=(0,to.A)(e=>new URL(e).origin===location.origin?{}:{mode:"cors",credentials:"include"});var td=r("./node_modules/date-fns/esm/toDate/index.js"),th=r("./node_modules/date-fns/esm/differenceInCalendarDays/index.js"),tp=r("./node_modules/date-fns/esm/_lib/requiredArgs/index.js");function tf(e,t){var r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}var tm=r("./node_modules/js-cookie/src/js.cookie.js"),tg=r.n(tm);let ty=function(e){return e.AWC_TLD_TEST="AWC_TLD_TEST",e.AWC_ANALYTICS_DEBUG="AWC_ANALYTICS_DEBUG",e.AJS_ANONYMOUS_ID="AJS_ANONYMOUS_ID",e}({});class tv{constructor(e,t){this.key=e,this.options=t}getAttributes(){return this.options}getKey(){return this.key}}let tb=()=>{try{return window&&window.location&&"https:"===window.location.protocol}catch(e){return!1}},t_={[ty.AWC_TLD_TEST]:new tv("__awc_tld_test__",{expires:365,secure:tb(),path:"/"}),[ty.AWC_ANALYTICS_DEBUG]:new tv("atlassian_analytics_debug",{expires:365,secure:tb(),path:"/"}),[ty.AJS_ANONYMOUS_ID]:new tv("ajs_anonymous_id",{expires:365,secure:tb(),path:"/"})},tw=new class{constructor(){(0,n.A)(this,"_data",{}),(0,n.A)(this,"length",0),(0,n.A)(this,"setItem",(e,t)=>(this._data[e]=t,this.length=Object.keys(this._data).length,t)),(0,n.A)(this,"getItem",e=>e in this._data?this._data[e]:null),(0,n.A)(this,"removeItem",e=>(e in this._data&&delete this._data[e],this.length=Object.keys(this._data).length,null)),(0,n.A)(this,"clear",()=>{this._data={},this.length=0}),(0,n.A)(this,"key",e=>Object.keys(this._data)[e])}},tC="awcInMemoryStorageFallback";function tE(e){let t="test_value";if(!e)return!1;try{let r="awc.storage.support";e.setItem(r,t);let n=e.getItem(r);return e.removeItem(r),n===t}catch(e){return!1}}class tA{constructor(e,t={}){(0,n.A)(this,"getStore",()=>this._store),(0,n.A)(this,"getItem",e=>this._store.getItem(this.createKey(e))),(0,n.A)(this,"removeItem",e=>this._store.removeItem(this.createKey(e))),(0,n.A)(this,"setItem",(e,t)=>{try{this._store.setItem(this.createKey(e),t)}catch(r){(function(e){let t=!1;if(e.code)switch(e.code){case 22:t=!0;break;case 1014:"NS_ERROR_DOM_QUOTA_REACHED"===e.name&&(t=!0)}else -2147024882===e.number&&(t=!0);return t})(r)&&(this.swapToInMemory(),this._store.setItem(this.createKey(e),t))}}),(0,n.A)(this,"swapToInMemory",()=>{let e;if(this._store===tw||"undefined"==typeof window)return;let t=Object.keys(this._store||{});tE(window[tC])?e=window[tC]:(e=tw,window[tC]||(window[tC]=tw)),t.forEach(t=>{if(0===t.indexOf(this.getPrefix())){let r=this._store.getItem(t);r&&e.setItem(t,r)}}),this._store=e}),(0,n.A)(this,"clear",()=>this._store.clear()),(0,n.A)(this,"key",e=>this._store.key(e)),(0,n.A)(this,"getPrefix",()=>this._prefix),(0,n.A)(this,"createKey",e=>this._prefix?`${this.getPrefix()}.${e}`:e),this.options=t;let r=[];(void 0===t.useStoragePrefix||t.useStoragePrefix)&&r.push("awc"),t.envPrefix&&t.envPrefix!==o.sR.PROD&&r.push(t.envPrefix),this._prefix=r.join("-"),tE(e)?this._store=e:this.swapToInMemory()}}let tO=class extends tA{constructor(e){let t;try{t=window.localStorage||tw}catch(e){t=tw}super(t,e)}};class tk{constructor(){this.safeStorage=new tO({useStoragePrefix:!1})}set(e,t){return this.safeStorage.setItem(e,t),t}get(e){return this.safeStorage.getItem(e)||void 0}remove(e){this.safeStorage.removeItem(e)}}let tS=(e=!1)=>!e&&!("file:"===location.protocol||"chrome-extension:"===location.protocol),tI=t_.AWC_TLD_TEST.getKey(),tj="tld_test",tx=(0,to.A)(()=>{if("undefined"==typeof location)return"";let{hostname:e}=location,t=e.split(".");for(let e=1;e<=t.length;e++){let r=t.slice(-1*e),n=`.${r.join(".")}`;if(tg().set(tI,tj,{domain:n}),tg().get(tI)===tj)return tg().remove(tI,{domain:n}),n}return e});function tT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tT(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}class tD{constructor(e){this.cookieLike=tS(e)?tg():new tk}set(e,t,r){if(!t_[e]){console.warn(`Unknown cookie key ${e} provided, not set.`);return}return this.cookieLike.set(t_[e].getKey(),t,tP(tP({},t_[e].getAttributes()),{},{domain:tx()},r))}get(e){if(!t_[e]){console.warn(`Unknown cookie key ${e} provided, not fetched.`);return}return this.cookieLike.get(t_[e].getKey())}remove(e,t){if(!t_[e]){console.warn(`Unknown cookie key ${e} provided, not removed.`);return}this.cookieLike.remove(t_[e].getKey(),tP({},t))}}let tL="SAFE",tN="UNSAFE",tR="LOCAL_STORAGE";class tM{constructor(e){this.store=new tO({useStoragePrefix:!1}),this.cookie=new tD(e)}getUserId(){return this.userId||null}setUserId(e){this.userId=e}getAnonymousId(e){return this.getAnonymousIdFromLocalStorageAndUpdateCookieIfStale()||this.getAnonymousIdFromCookieAndUpdateLocalStorage()||this.generateNewAnonymousId(e)}setAnonymousId(e){let t=JSON.stringify(e);return this.cookie.set(ty.AJS_ANONYMOUS_ID,t),this.lastAnonymousIdCookieUpdate=Date.now(),this.store.setItem(t_.AJS_ANONYMOUS_ID.getKey(),t)}getAnonymousIdFromStorage(e){let t=e===tR?this.store.getItem(t_.AJS_ANONYMOUS_ID.getKey()):this.cookie.get(ty.AJS_ANONYMOUS_ID);if(t){let e={type:tN,anonymousId:t};try{let r=JSON.parse(t);if(r&&"string"==typeof r)return{type:tL,anonymousId:r};return e}catch(t){return e}}return{type:"NOT_FOUND"}}getAnonymousIdFromLocalStorageAndUpdateCookieIfStale(){let e=this.getAnonymousIdFromStorage(tR),t=!1;switch((!this.lastAnonymousIdCookieUpdate||function(e,t){(0,tp.A)(2,arguments);var r=(0,td.A)(e),n=(0,td.A)(t),i=tf(r,n),s=Math.abs((0,th.A)(r,n));r.setDate(r.getDate()-i*s);var o=Number(tf(r,n)===-i),a=i*(s-o);return 0===a?0:a}(new Date,new Date(this.lastAnonymousIdCookieUpdate))>=7)&&(t=!0),e.type){case tL:return t&&this.setAnonymousId(e.anonymousId),e.anonymousId;case tN:return e.anonymousId;default:return null}}getAnonymousIdFromCookieAndUpdateLocalStorage(){let e=this.getAnonymousIdFromStorage("COOKIE");switch(e.type){case tL:case tN:return this.store.setItem(t_.AJS_ANONYMOUS_ID.getKey(),JSON.stringify(e.anonymousId)),e.anonymousId;default:return null}}generateNewAnonymousId(e=s()){let t=e();return this.setAnonymousId(t),t}}var tU=r("./node_modules/@segment/isodate-traverse/lib/index.js"),tF=r.n(tU);function tV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tV(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tV(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let tG=e=>tB(tB({},e.context),{},{userAgent:navigator.userAgent}),tK=e=>{let t=tW(e);return tF()(t)},tW=e=>{if(null===e||"object"!=typeof e)return e;let t={};return Object.keys(e).forEach(r=>{let n=tz(e,r);void 0!==n&&(Array.isArray(n)?t[r]=n.map(e=>tW(e)):"object"==typeof n&&null!==n?t[r]=tW(n):t[r]=n)}),t},tz=(e,t)=>e[t];function tq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function t$(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tq(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tq(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}class tH{constructor(e,t,r,n){this.success=e,this.statusCode=t,this.message=r,this.eventResponseList=n}isSuccess(){return this.success}getStatusCode(){return this.statusCode}getMessage(){return this.message}getEventResponseList(){return this.eventResponseList}}class tQ{constructor(e,t,r){this.messageId=e,this.results=t,this.segmentEvent=r}getMessageId(){return this.messageId}getResults(){return this.results}getSegmentEvent(){return this.segmentEvent}}class tY{constructor(e){var t;(0,n.A)(this,"sendEvents",async(e,t)=>{let r=this.resilienceQueue.getGlobalRetryCount(),n=this.metrics.getMetricsPayload(),i=t$(t$({},n),{},{httpRetryCount:r});for(let e in i)0===i[e]&&delete i[e];let s=await this.attachXIDs(e),o=new Date().toISOString(),a=s.map(e=>(e.msg.sentAt=o,e.msg)),l=this.responseCallback;try{let r=await tl({url:this.gasv3BatchUrl,batch:{batch:a,sentAt:o,metadata:i},timeout:this.options.requestTimeout});if(this.metrics.subtractFromMetrics(n),t(null,r),null!==l&&null!==r){let t=await r.clone().json(),n=tJ.toAnalyticsResponse(e,null,t);l(n)}}catch(r){t(r,null),null!==l&&null!==r&&l(tJ.toAnalyticsResponse(e,r,null))}}),this.options=t$(t$({},e),{},{requestTimeout:e.requestTimeout||1e4,retryQueueOptions:e.retryQueueOptions||{},logger:e.logger||console,disableCookiePersistence:e.disableCookiePersistence||!1}),this.user=new tM(null===(t=this.options)||void 0===t?void 0:t.disableCookiePersistence),this.xidPromiseCallback=e.xidPromiseGetter(),this.gasv3BatchUrl=`${e.apiHostProtocol}://${e.apiHost}/batch`,this.metrics=eY(),this.responseCallback=e.responseCallback,this.resilienceQueue=te(e.retryQueuePrefix,e.product,this.options.retryQueueOptions,this.options.logger),this.resilienceQueue.start(this.sendEvents)}getUser(){return this.user}async track(e,t,r,n){let i=t$(t$({},this.buildBaseEvent(r,tt.TRACK,t)),{},{type:tt.TRACK,properties:tK(t),event:e}),s=t$(t$({},i),{},{messageId:this.createMessageId()}),o=this.packageEvent(s);await this.resilienceQueue.addItem(o),n&&n()}async page(e,t,r,n){let i=t$(t$({},this.buildBaseEvent(r,tt.PAGE,t)),{},{type:tt.PAGE,properties:tK(t),name:e}),s=t$(t$({},i),{},{messageId:this.createMessageId()}),o=this.packageEvent(s);await this.resilienceQueue.addItem(o),n&&n()}async identify(e,t,r,n){let i=t$(t$({},this.buildBaseEvent(r,tt.IDENTIFY,t)),{},{type:tt.IDENTIFY,traits:tK(t)}),s=t$(t$({},i),{},{messageId:this.createMessageId()}),o=this.packageEvent(s);await this.resilienceQueue.addItem(o),n&&n()}buildBaseEvent(e,t,r){return{context:tG(tK(e)),timestamp:new Date().toISOString(),type:t,userId:this.user.getUserId(),anonymousId:r.anonymousId||this.user.getAnonymousId()}}createMessageId(){return`ajs-${s()()}`}packageEvent(e){let{apiHost:t,apiHostProtocol:r}=this.options;return{headers:{"Content-Type":"text/plain"},msg:e,url:`${r}://${t}/${e.type.charAt(0)}`}}async attachXIDs(e){return this.xidPromiseCallback?ti(e,this.xidPromiseCallback):Promise.resolve(e)}setResponseCallback(e){this.responseCallback=e}}class tJ{static toAnalyticsResponse(e,t,r){let n=[];if(null!==r){var i,s;let[t,o]=[r.code,r.success];if(t>=200&&t<=299)return null===(i=r.validationReports)||void 0===i||i.forEach(t=>{let r=e.find(e=>e.msg.messageId===t.messageId);r&&n.push(new tQ(r.msg.messageId,t.results,r.msg))}),new tH(o,t,ts.get(t),n);if(t>=400&&t<=499){let i=(null===(s=r.message)||void 0===s?void 0:s.error)!==null?r.message.error:ts.has(t)?ts.get(t):ts.get(-1);return e.forEach(e=>{n.push(new tQ(e.msg.messageId,[],e.msg))}),new tH(o,t,i,n)}}else if(null!==t&&null!==t.message){let r=t.message.match(tJ.http_error_regex);if(r)return e.forEach(e=>{n.push(new tQ(e.msg.messageId,[],e.msg))}),new tH(!1,Number(r[1]),r[2],n)}return e.forEach(e=>{n.push(new tQ(e.msg.messageId,[],e.msg))}),new tH(!1,-1,ts.get(-1),n)}}(0,n.A)(tJ,"http_error_regex",/HTTP Error\s([0-9]{3})\s\((.+)\)/);var tX=r("./node_modules/query-string/index.js");let tZ=e=>window.history.replaceState({},"",e),t0=(e,t=tZ)=>{let r=window.location.href,n=window.location.hash,i=""!==n?r.replace(n,""):r,{url:s,query:o}=(0,tX.parseUrl)(i),a=U(o,e);if(Object.keys(a).length>0){let r=M(o,e);t(Object.keys(r).length>0?`${s}?${(0,tX.stringify)(r)}${n}`:`${s}${n}`)}return a};class t2{constructor(){(0,n.A)(this,"handleOriginParameters",(e,t)=>{let r=Object.keys(e);if(!(r.length>0))throw Error("Empty parameter mapping provided");let n=r.filter(e=>0>Object.values(o.D0).indexOf(e));if(n.length>0)throw Error(`Invalid Origin Tracing Parameter(s) supplied: ${n.join()}!`);let i=t0((e,t)=>r.indexOf(t)>=0,t);return Object.keys(i).map(t=>{let r=e[t](i[t]);return{[t]:r}}).reduce((e,t)=>Object.assign(e,t),{})}),this._originStore={}}}let t1="/gateway/api/gasv3/api/v1",t3=()=>"as.staging.atl-paas-us-gov-mod.net/api/v1",t4=()=>"api.stg.atlassian-us-gov-mod.com/gasv3/api/v1",t5=({useStargate:e,env:t,useLegacyUrl:r,envOverride:n})=>{if(t===o.sR.LOCAL||t===o.sR.DEV)throw Error("No LOCAL or DEV environments for FedRAMP.");if(t===o.sR.PROD&&n)throw Error("Cannot override to FedRAMP Sandbox for Prod.");return e?r?t===o.sR.PROD?"api.atlassian-us-gov-mod.com/gasv3/api/v1":t4():window.location.host+t1:t===o.sR.PROD?"as.atlassian-us-gov-mod.com/api/v1":t3()},t6=({useStargate:e,env:t,useLegacyUrl:r})=>e?r?t===o.sR.PROD?"api-private.atlassian.com/gasv3/api/v1":"api-private.stg.atlassian.com/gasv3/api/v1":window.location.host+t1:t===o.sR.PROD?"as.atlassian.com/api/v1":"as.staging.atl-paas.net/api/v1",t7="session.id",t8="session.expiry",t9=/^\d+$/,re=()=>{};class rt{constructor(e={}){(0,n.A)(this,"_generateNewSessionId",()=>{let e=Date.now().toString();return this._safeLocalStorage.setItem(t7,e),this._onNewSessionStarted&&this._onNewSessionStarted(),e}),(0,n.A)(this,"_updateSessionExpiry",()=>{let e=Date.now()+this._sessionExpiryTime;return this._safeLocalStorage.setItem(t8,e.toString()),e}),(0,n.A)(this,"_debouncedUpdateSessionExpiry",e=>{let{_updateSessionExpiry:t}=this;if(e<Date.now()+this._sessionExpiryDebounceThresholdPercentage*this._sessionExpiryTime)return t();this._sessionExpiryDebounceTimer&&clearTimeout(this._sessionExpiryDebounceTimer),this._sessionExpiryDebounceTimer=setTimeout(()=>{t()},this._sessionExpiryDebounce)}),this._sessionExpiryTime=e.sessionExpiryTime||18e5,this._sessionExpiryDebounce=e.sessionExpiryDebounce||5e3,this._sessionExpiryDebounceThresholdPercentage=e.sessionExpiryDebounceThresholdPercentage||.9,this._onNewSessionStarted=e.onNewSessionStarted?e.onNewSessionStarted:re,this._safeLocalStorage=new tO}getCurrentSessionId(){let e=this._safeLocalStorage.getItem(t7),t=parseInt(this._safeLocalStorage.getItem(t8)||"0",10)||0;return(this._debouncedUpdateSessionExpiry(t),!e||t<=Date.now()||Number.isNaN(t)||!t9.test(e))?this._generateNewSessionId():e}}let rr=class extends tA{constructor(e){let t;try{t=window.sessionStorage||tw}catch(e){t=tw}super(t,e)}},rn="tab.id";class ri{constructor(){(0,n.A)(this,"_generateNewTabId",()=>{let e=s()();return this._safeSessionStorage.setItem(rn,e),e}),this._safeSessionStorage=new rr}getCurrentTabId(){let e=this._safeSessionStorage.getItem(rn);return e||(e=this._generateNewTabId()),e}}function rs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ro(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rs(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rs(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let ra="taskSessions",rl="taskSessionsInit",ru="awc.";class rc{constructor(){(0,n.A)(this,"_taskSessionsNotRecentlyInitialised",e=>null===this._safeSessionStorage.getItem(ra)||null===this._safeSessionStorage.getItem(rl)||parseInt(this._safeSessionStorage.getItem(rl)||"0",10)<e-3e3),(0,n.A)(this,"_removeTaskSessionPrefix",(e,t)=>t.split(ru)[1]),(0,n.A)(this,"_isTaskSessionQueryParam",(e,t)=>t.startsWith(ru)),(0,n.A)(this,"getAllTaskSessions",()=>{try{return JSON.parse(this._safeSessionStorage.getItem(ra)||"")}catch(e){return{}}}),(0,n.A)(this,"_writeToSessionStorage",e=>{try{this._safeSessionStorage.setItem(ra,JSON.stringify(e))}catch(e){}}),(0,n.A)(this,"_appendTaskSessions",e=>{let t=this.getAllTaskSessions(),r=null===t?e:Object.assign(t,e);this._writeToSessionStorage(r)}),(0,n.A)(this,"_safelyRemoveKey",(e,t)=>null===e?{}:(delete e[t],e)),(0,n.A)(this,"createTaskSession",e=>{let t=s()(),r={};return r[e]=t,this._appendTaskSessions(r),t}),(0,n.A)(this,"createTaskSessionWithProvidedId",(e,t)=>{if("string"!=typeof t)throw TypeError("invalid taskSessionId, must be string");let r={};r[e]=t,this._appendTaskSessions(r)}),(0,n.A)(this,"completeTaskSession",e=>{let t=this.getAllTaskSessions(),r=this._safelyRemoveKey(t,e);this._writeToSessionStorage(r)}),(0,n.A)(this,"formatTaskSessionQueryString",({uri:e,includedTaskSessions:t})=>{let{url:r,query:n}=(0,tX.parseUrl)(e),i=this.getAllTaskSessions(),s=t?R(i,t):F(i,Object.values(o.D0));if(0===Object.keys(s).length)return e;let a=ro(ro({},N(s,(e,t)=>ru+t)),n);return`${r}?${(0,tX.stringify)(a)}`}),(0,n.A)(this,"stripQueryParameters",()=>{let e=N(t0(this._isTaskSessionQueryParam),this._removeTaskSessionPrefix);this._appendTaskSessions(e)});let e=Date.now();this._safeSessionStorage=new rr;try{this._taskSessionsNotRecentlyInitialised(e)&&(this._writeToSessionStorage({}),this._safeSessionStorage.setItem(rl,e.toString()))}catch(e){}}}let rd=t_.AWC_ANALYTICS_DEBUG.getKey(),rh="synthetic",rp=()=>{try{return JSON.parse(tg().get(rd)||"false")}catch(e){tg().remove(rd)}return!1},rf=class{constructor(){(0,n.A)(this,"_bind",()=>{"undefined"==typeof window||window.testAnalytics||(window.testAnalytics={eventCache:[],events:()=>window.testAnalytics.eventCache,clear:()=>{window.testAnalytics.eventCache=[];try{localStorage.removeItem("awc.ui.viewed.last.sent"),localStorage.removeItem("awc-staging.ui.viewed.last.sent"),localStorage.removeItem("awc-dev.ui.viewed.last.sent"),localStorage.removeItem("awc-local.ui.viewed.last.sent")}catch(e){}}})}),(0,n.A)(this,"_cache",e=>{"undefined"!=typeof window&&(window.testAnalytics.eventCache.length>=100&&(window.testAnalytics.eventCache=window.testAnalytics.eventCache.slice(1,window.testAnalytics.eventCache.length)),window.testAnalytics.eventCache.push(e))}),(0,n.A)(this,"_shouldCacheEvent",()=>this._isDebugCookieEnabled),(0,n.A)(this,"saveEvent",e=>{e&&this._shouldCacheEvent()&&(window.testAnalytics||this._bind(),e.tags instanceof Array?e.tags.push(rh):e.tags=[rh],this._cache(e))}),this._isDebugCookieEnabled=rp(),this._isDebugCookieEnabled&&this._bind()}},rm=["embeddedProduct"];function rg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ry(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rg(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rg(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}class rv{constructor(e,t,r,i={}){if((0,n.A)(this,"start",()=>{this._startInterval(),this._bindEventListeners()}),(0,n.A)(this,"stop",()=>{this._stopInterval(),this._unbindEventListeners()}),(0,n.A)(this,"resetTimers",()=>{this._intervalId&&(this.stop(),this.start())}),(0,n.A)(this,"_bindEventListeners",()=>{"undefined"!=typeof window&&(window.addEventListener("focus",this._focusListener),window.addEventListener("blur",this._blurListener))}),(0,n.A)(this,"_unbindEventListeners",()=>{"undefined"!=typeof window&&(window.removeEventListener("focus",this._focusListener),window.removeEventListener("blur",this._blurListener))}),(0,n.A)(this,"_startInterval",()=>{clearInterval(this._intervalId),this._intervalId=setInterval(this._handleInterval,this._delay)}),(0,n.A)(this,"_stopInterval",()=>{this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null)}),(0,n.A)(this,"_getProductKey",(e,t)=>{let r=e;return t&&(r+=`-${t}`),r}),(0,n.A)(this,"_getLastSentTimestamp",(e,t,r)=>(((this._parseLocalStorageData()||{})[r]||{})[t]||{})[e]||null),(0,n.A)(this,"_parseLocalStorageData",()=>{let e=this._safeLocalStorage.getItem(this._storageKey);try{return JSON.parse(e||"")}catch(e){return this._safeLocalStorage.removeItem(this._storageKey),null}}),(0,n.A)(this,"_setLastSentTimestamp",(e,t,r)=>{let n=this._parseLocalStorageData()||{},i=n[r]||{},s=i[t]||{};s[e]=Date.now(),i[t]=s,n[r]=i,this._safeLocalStorage.setItem(this._storageKey,JSON.stringify(n))}),(0,n.A)(this,"_shouldSendEvent",(e,t,r,n)=>!!document.hasFocus()&&(t===o.v7.NONE||!!r)&&!!n&&Date.now()-this._getLastSentTimestamp(e,r,n)>this._throttle),(0,n.A)(this,"_handleInterval",()=>{let e=this._getContext(),{embeddedProduct:t}=e,r=(0,eS.A)(e,rm);this._sendEvent(this._product,r),t&&this._sendEvent(t,r,!0)}),(0,n.A)(this,"_sendEvent",(e,t,r=!1)=>{let{subproduct:n,tenantIdType:i,tenantId:s,userId:o,lastScreenEvent:a,attributes:l}=t,u=this._getProductKey(e,n);if(this._shouldSendEvent(u,i,s,o)){this._setLastSentTimestamp(u,s,o);let t=this._createEvent(e,n,r,a,l);this._onEvent(t)}}),(0,n.A)(this,"_createEvent",(e,t,r,n,i)=>{let s={product:e,source:"ui",action:"viewed",actionSubject:"ui",attributes:i};return r&&(s.subproduct=null,s.version=null,s.attributes=ry(ry({},s.attributes),{},{embeddedInEnv:this._productInfo.env,embeddedInProduct:this._productInfo.product,embeddedInSubproduct:t,embeddedInVersion:this._productInfo.version,embeddedInOrigin:this._productInfo.origin,embeddedInPlatform:this._productInfo.platform})),n&&(s.attributes=ry(ry({},s.attributes),{},{lastScreenEvent:{name:n.name,attributes:n.attributes}})),s}),!e)throw Error("Missing productInfo");if(!e.product)throw Error("Missing productInfo.product");if(!t)throw Error("Missing getContext callback");if("function"!=typeof t)throw Error("Invalid getContext, must be function");if(!r)throw Error("Missing onEvent callback");if("function"!=typeof r)throw Error("Invalid onEvent, must be function");this._productInfo=e,this._product=e.product,this._getContext=t,this._onEvent=r,this._delay=i.delay||2e3,this._throttle=i.throttle||36e5,this._storageKey=i.storageKey||"ui.viewed.last.sent",this._safeLocalStorage=new tO({envPrefix:this._productInfo.env}),this._focusListener=()=>{this._startInterval()},this._blurListener=()=>{this._stopInterval()}}}function rb(e,t){return e&&"function"==typeof e?()=>{e(t)}:null}let r_=function(e){return e.XC="xc",e.UID="uid",e}({}),rw=()=>[{type:r_.XC,state:"TIMEOUT"},{type:r_.UID,state:"TIMEOUT"}],rC=()=>[{type:r_.XC,state:"UNKNOWN"},{type:r_.UID,state:"UNKNOWN"}],rE=(e,t)=>{if(e&&t&&"function"==typeof t)return Promise.race([t().catch(()=>()=>rC()),new Promise(e=>{setTimeout(()=>e(()=>rw()),5e3)})])};function rA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rA(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let rk="last.screen.event";class rS{static callback(e){let t=e.getStatusCode();t>=200&&t<=299?0===e.getEventResponseList().length?console.debug("Event(s) submitted to GASv3"):e.getEventResponseList().forEach(e=>{console.warn("Validation report for event with message ID %s:\n",e.getMessageId(),e)}):400===t||404===t?(console.warn("GASv3 submission failed with HTTP Status Code %d: %s",e.getStatusCode(),e.getMessage()),e.getEventResponseList().forEach(e=>{console.warn("Event with message ID %s:\n",e.getMessageId(),e)})):(console.info("GASv3 submission failed with HTTP Status Code %d: %s",e.getStatusCode(),e.getMessage()),e.eventResponseList.forEach(e=>{console.debug("Event with message ID %s:\n",e.getMessageId(),e)}))}}class rI{constructor(e,t={}){if((0,n.A)(this,"_useStargate",e=>null==e||e),(0,n.A)(this,"_endsWith",(e,t)=>-1!==e.indexOf(t,e.length-t.length)),(0,n.A)(this,"_changeInternalUserId",(e,t)=>{this.eventProcessor.getUser().setUserId(e),t&&t!==this.eventProcessor.getUser().getAnonymousId()&&this.eventProcessor.getUser().setAnonymousId(t)}),(0,n.A)(this,"_createSubproductGetter",e=>p(e,"Cannot get subproduct from the callback. Proceeding without it.")),(0,n.A)(this,"_createEmbeddedProductGetter",e=>p(e,"Cannot get embeddedProduct from the callback. Proceeding without it.")),(0,n.A)(this,"_getLastScreenEvent",()=>{try{return JSON.parse(this._safeSessionStorage.getItem(rk)||"")}catch(e){return this._safeSessionStorage.removeItem(rk),null}}),(0,n.A)(this,"_setLastScreenEvent",e=>{this._safeSessionStorage.setItem(rk,JSON.stringify({name:e.name,attributes:e.attributes}))}),(0,n.A)(this,"_shouldEventBeDelayed",e=>{if(!e.tags||-1===e.tags.indexOf("measurement"))return!1;let t=!1!==e.highPriority;return this.eventDelayQueue.isDelayingLowPriorityEvents()&&!t}),(0,n.A)(this,"_fireEvent",(e,t,r,n)=>{switch(t.eventType){case o.$q.UI:case o.$q.OPERATIONAL:case o.$q.TRACK:return this.eventProcessor.track(e,t,r,n);case o.$q.SCREEN:return this.eventProcessor.page(e,t,r,n);case o.$q.IDENTIFY:return this.eventProcessor.identify(e,t,r,n);default:throw Error(`No handler has been defined for events of type ${t.eventType}`)}}),(0,n.A)(this,"_fireDelayedEvent",(e,t,r,n)=>{try{this._changeInternalUserId(n.userId,n.anonymousId),t.tags=[...t.tags||[],"sentWithDelay"],this._fireEvent(e,t,r,void 0)}finally{this._changeInternalUserId(this._userInfo.userId,this._userInfo.anonymousId)}}),(0,n.A)(this,"_delayEvent",(e,t,r,n,i)=>{this.eventDelayQueue.push(e,t,r,n),i&&i()}),(0,n.A)(this,"_processEvent",(e,t,r,n)=>(this._testingCache.saveEvent(t),this._shouldEventBeDelayed(t))?(this._delayEvent(e,t,r,this._userInfo,n),Promise.resolve()):this._fireEvent(e,t,r,n)),(0,n.A)(this,"setEmbeddedProduct",e=>{this._productInfo.embeddedProduct=this._createEmbeddedProductGetter(e),this.resetUIViewedTimers()}),(0,n.A)(this,"clearEmbeddedProduct",()=>{this._productInfo.embeddedProduct=this._createEmbeddedProductGetter(null)}),(0,n.A)(this,"setSubproduct",e=>{this._productInfo.subproduct=this._createSubproductGetter(e),this.resetUIViewedTimers()}),(0,n.A)(this,"setOriginTracingHandlers",e=>{let t=this.originTracing.handleOriginParameters(e,this._historyReplaceFn);Object.keys(t).forEach(e=>{void 0!==t[e].taskSessionId&&this.task.createTaskSessionWithProvidedId(e,t[e].taskSessionId)});let r={};return(Object.keys(t).forEach(e=>{t[e].originTracingAttributes?r[e]=t[e].originTracingAttributes:console.warn(`Handling method for origin parameter ${e} has not returned any attributes`)}),Object.keys(t).length>0)?this.sendOperationalEvent({action:"landed",actionSubject:"origin",source:"webClient",attributes:{originTracesLanded:r}},()=>{}):Promise.resolve()}),(0,n.A)(this,"setTenantInfo",(e,t)=>{if(!e)throw Error("Missing tenantIdType");if(e!==o.v7.NONE&&!t)throw Error("Missing tenantId");if(!(0,o.Xj)(o.v7,e))throw Error(`Invalid tenantIdType '${e}', must be an tenantType: [${(0,o.KQ)(o.v7)}]`);this._tenantInfo={tenantIdType:e,tenantId:t}}),(0,n.A)(this,"clearTenantInfo",()=>{this._tenantInfo={}}),(0,n.A)(this,"setOrgInfo",e=>{if(!e)throw Error("Missing orgId");this._orgInfo={orgId:e}}),(0,n.A)(this,"clearOrgInfo",()=>{this._orgInfo={}}),(0,n.A)(this,"setWorkspaceInfo",e=>{if(!e)throw Error("Missing workspaceId");this._workspaceInfo={workspaceId:e}}),(0,n.A)(this,"clearWorkspaceInfo",()=>{this._workspaceInfo={}}),(0,n.A)(this,"setUserInfo",(e,t)=>{(function(e,t){if(!e)throw Error("Missing userIdType");if(!t)throw Error("Missing userId");if(!(0,o.Xj)(o.Of,e))throw Error(`Invalid userIdType '${e}', must be an userType: [${(0,o.KQ)(o.Of)}]`)})(e,t),this._changeInternalUserId(t),this._userInfo={userIdType:e,userId:t,anonymousId:this.eventProcessor.getUser().getAnonymousId()}}),(0,n.A)(this,"clearUserInfo",()=>{this._changeInternalUserId(void 0),this._userInfo={anonymousId:this.eventProcessor.getUser().getAnonymousId()}}),(0,n.A)(this,"setAlias",(e,t)=>{if(!e)throw Error("Missing aliasType");if(!(0,o.Xj)(o.VD,e))throw Error(`Invalid aliasType '${e}', must be an aliasType: [${(0,o.KQ)(o.VD)}]`);this._aliases[e]=t}),(0,n.A)(this,"clearAlias",()=>{this._aliases={}}),(0,n.A)(this,"setGroup",(e,t)=>{if(!e)throw Error("Missing groupType");if(!(0,o.Xj)(o.iU,e))throw Error(`Invalid groupType '${e}', must be an groupType: [${(0,o.KQ)(o.iU)}]`);this._groups[e]=t}),(0,n.A)(this,"clearGroup",()=>{this._groups={}}),(0,n.A)(this,"getAnonymousId",()=>this._userInfo.anonymousId),(0,n.A)(this,"setUIViewedAttributes",e=>{if(!e)throw Error("Missing uiViewedAttributes");if("object"!=typeof e||Array.isArray(e))throw Error("Invalid uiViewedAttributes type, should be a non array object");this._uiViewedAttributes=rO({},e)}),(0,n.A)(this,"getUIViewedAttributes",()=>this._uiViewedAttributes),(0,n.A)(this,"clearUIViewedAttributes",()=>{this._uiViewedAttributes={}}),(0,n.A)(this,"sendIdentifyEvent",(e,t,r)=>{this.setUserInfo(e,t);let n={userIdType:e,eventType:o.$q.IDENTIFY};return this._processEvent(t,n,this._context,r)}),(0,n.A)(this,"sendPageEvent",(e,t)=>this.sendScreenEvent(e,t)),(0,n.A)(this,"sendScreenEvent",(e,t,r)=>{let n,i,s,a;"object"==typeof e?(n=e.name,i=e.attributes,s=e.containers,a=e.tags):(n=e,i=r),function(e){if(!e)throw Error("Missing name")}(n),K(s);let l=rO({name:n},function(e,t,r,n,i,s,a,l,u,c,d,h,p,f,m,g){let O=k(e),S=v(t),x=b(r),T=_(c),P=w(h),D={title:"",path:"",url:"",referrer:"",search:"",eventType:o.$q.SCREEN};return y(y(y(y(y(y(y(y(y(y(y(y({},O),S),x),T),D),I("attributes",n)),I("nonPrivacySafeAttributes",i)),j(f)),A(p)),{},{tags:s,tabId:a,sessionId:l,taskSessions:u,pageLoadId:d},P),C(m)),E(g))}(this._productInfo,this._tenantInfo,this._userInfo,i,e.nonPrivacySafeAttributes,a,this._tabTracking.getCurrentTabId(),this._sessionTracking.getCurrentSessionId(),this.task.getAllTaskSessions(),this._orgInfo,this._pageLoadId,this._workspaceInfo,e,s,this._aliases,this._groups));return this._setLastScreenEvent(l),this._processEvent(n,l,this._context,rb(t,l))}),(0,n.A)(this,"sendTrackEvent",(e,t)=>{z(e);let r=D(this._productInfo,this._tenantInfo,this._userInfo,e,o.$q.TRACK,this._tabTracking.getCurrentTabId(),this._sessionTracking.getCurrentSessionId(),this.task.getAllTaskSessions(),this._orgInfo,this._pageLoadId,this._workspaceInfo,this._aliases,this._groups);return this._processEvent(T(e),r,this._context,rb(t,r))}),(0,n.A)(this,"sendUIEvent",(e,t)=>{z(e);let r=D(this._productInfo,this._tenantInfo,this._userInfo,e,o.$q.UI,this._tabTracking.getCurrentTabId(),this._sessionTracking.getCurrentSessionId(),this.task.getAllTaskSessions(),this._orgInfo,this._pageLoadId,this._workspaceInfo,this._aliases,this._groups);return this._processEvent(T(e),r,this._context,rb(t,r))}),(0,n.A)(this,"sendOperationalEvent",(e,t)=>{z(e);let r=D(this._productInfo,this._tenantInfo,this._userInfo,e,o.$q.OPERATIONAL,this._tabTracking.getCurrentTabId(),this._sessionTracking.getCurrentSessionId(),this.task.getAllTaskSessions(),this._orgInfo,this._pageLoadId,this._workspaceInfo,this._aliases,this._groups);return this._processEvent(T(e),r,this._context,rb(t,r))}),(0,n.A)(this,"startUIViewedEvent",e=>{this.stopUIViewedEvent(),this._uiViewedEvent=new rv(this._productInfo,()=>({embeddedProduct:this._productInfo.embeddedProduct(),subproduct:this._productInfo.subproduct(),tenantIdType:this._tenantInfo.tenantIdType,tenantId:this._tenantInfo.tenantId,userId:this._userInfo.userId,lastScreenEvent:this._getLastScreenEvent(),attributes:this._uiViewedAttributes}),t=>this.sendUIEvent(t,e)),this._uiViewedEvent.start()}),(0,n.A)(this,"stopUIViewedEvent",()=>{this._uiViewedEvent&&(this._uiViewedEvent.stop(),this._uiViewedEvent=null)}),(0,n.A)(this,"resetUIViewedTimers",()=>{this._uiViewedEvent&&this._uiViewedEvent.resetTimers()}),(0,n.A)(this,"startApdexEvent",e=>{this._apdexEvent.start(e)}),(0,n.A)(this,"getApdexStart",e=>this._apdexEvent.getStart(e)),(0,n.A)(this,"stopApdexEvent",(e,t)=>{this._apdexEvent.stop(e,t)}),(0,n.A)(this,"startLowPriorityEventDelay",(e,t)=>{this.eventDelayQueue.startLowPriorityEventDelay(e,t)}),(0,n.A)(this,"stopLowPriorityEventDelay",()=>{this.eventDelayQueue.stopLowPriorityEventDelay()}),(0,n.A)(this,"onEvent",(e,t)=>{if(!t)throw Error("Missing analyticsData");if(!t.eventType)throw Error("Missing analyticsData.eventType");if(t.eventType===o.$q.TRACK)return this.sendTrackEvent(t);if(t.eventType===o.$q.UI)return this.sendUIEvent(t);if(t.eventType===o.$q.OPERATIONAL)return this.sendOperationalEvent(t);if(t.eventType===o.$q.SCREEN)return this.sendScreenEvent(t.name,null,t.attributes);if(t.eventType===o.$q.IDENTIFY)return this.sendIdentifyEvent(t.userIdType,t.userId);throw Error(`Invalid analyticsData.eventType '${t.eventType}', must be an eventType: [${(0,o.KQ)(o.$q)}]`)}),(0,n.A)(this,"setResponseCallback",e=>{this.eventProcessor.setResponseCallback(e)}),!e)throw Error("Missing productInfo");if(!e.env)throw Error("Missing productInfo.env");if(!e.product)throw Error("Missing productInfo.product");if(!(0,o.Xj)(o.sR,e.env))throw Error(`Invalid productInfo.env '${e.env}', must be an envType: [${(0,o.KQ)(o.sR)}]`);if(e.perimeter&&!(0,o.Xj)(o.KW,e.perimeter))throw Error(`Invalid productInfo.perimeter '${e.perimeter}', must be an perimeterType: [${(0,o.KQ)(o.KW)}]`);if(e.origin){if(!(0,o.Xj)(o.VH,e.origin))throw Error(`Invalid productInfo.origin '${e.origin}', must be an originType: [${(0,o.KQ)(o.VH)}]`)}else e.origin=o.VH.WEB;e.platform?function(e){if(!(0,o.Xj)(o.AQ,e.platform))throw Error(`Invalid productInfo.platform '${e.platform}', must be a platformType: [${(0,o.KQ)(o.AQ)}]`);if(e.origin===o.VH.DESKTOP&&!(0,o.Xj)(o.vB,e.platform))throw Error(`Invalid productInfo.platform '${e.platform}', must be one of [mac, linux, windows]`);if(e.origin===o.VH.WEB&&!(0,o.Xj)(o.LK,e.platform))throw Error(`Invalid productInfo.platform '${e.platform}', must be one of [web, mobileWeb]`)}(e):e.platform=e.origin===o.VH.WEB?o.AQ.WEB:o.AQ.DESKTOP,this.logger=t.logger||console,this._productInfo=rO(rO({},e),{},{subproduct:this._createSubproductGetter(e.subproduct),embeddedProduct:this._createEmbeddedProductGetter(e.embeddedProduct)}),this._tenantInfo={},this._orgInfo={},this._uiViewedAttributes={},this._context=function(e){let t=window.screen||{};return{context:{locale:e.locale,screen:{width:t.width,height:t.height,density:window.devicePixelRatio},library:{name:"analytics.js",version:"4.27.0"},validationMode:function(e){let t=e.env;return void 0===t||t.includes("prod")?P.QUIET:P.COMPLETE}(e)}}}(this._productInfo),this._safeSessionStorage=new rr;let r=this._useStargate(t.useStargate),i=t.apiHost||function({useStargate:e,env:t,useLegacyUrl:r,perimeter:n,envOverride:i}){return n===o.KW.FEDRAMP_MODERATE?t5({useStargate:e,env:t,useLegacyUrl:r,envOverride:i}):t6({useStargate:e,env:t,useLegacyUrl:r})}({useStargate:r,env:e.env,useLegacyUrl:t.useLegacyUrl,perimeter:e.perimeter,envOverride:e.envOverride}),l=t.apiHostProtocol||"https",u={maxRetryDelay:6e4,minRetryDelay:t.minRetryDelay||1e3,backoffFactor:2,flushWaitMs:t.flushWaitInterval,flushBeforeUnload:t.flushBeforeUnload},c=`awc-${e.env}`,h=t.disableCookiePersistence||!1;this.eventProcessor=new tY({apiHost:i,apiHostProtocol:l,product:e.product,retryQueuePrefix:c,retryQueueOptions:u,xidPromiseGetter:()=>rE(t.xidConsent,t.xidPromiseFn),logger:this.logger,disableCookiePersistence:h,responseCallback:rS.callback}),this._userInfo={anonymousId:this.eventProcessor.getUser().getAnonymousId(null==t?void 0:t.customAnonymousIdGenerator)},this._pageVisibility=new a,this._tabTracking=new ri,this._sessionTracking=new rt({sessionExpiryTime:t.sessionExpiryTime,onNewSessionStarted:t.onNewSessionStarted}),this.task=new rc,this.originTracing=new t2,this._apdexEvent=new d(this.sendOperationalEvent,this._pageVisibility),this._historyReplaceFn="function"==typeof t.historyReplaceFn?t.historyReplaceFn:tZ,this.eventDelayQueue=new X(this._fireDelayedEvent,t.delayQueueCompressors||[]),this._testingCache=new rf,this._pageLoadId=s()(),this._workspaceInfo={},this._aliases={},this._groups={}}setEventValidationMode(e){this._context.context.validationMode=e}}},"./node_modules/@atlassiansox/analytics-web-client/dist/esm/analyticsWebTypes.js":(e,t,r)=>{"use strict";r.d(t,{$q:()=>i,AQ:()=>s,D0:()=>h,KQ:()=>p,KW:()=>m,LK:()=>d,LR:()=>u,Of:()=>l,VD:()=>g,VH:()=>o,Xj:()=>f,iU:()=>y,sR:()=>n,v7:()=>a,vB:()=>c});let n=function(e){return e.LOCAL="local",e.DEV="dev",e.STAGING="staging",e.PROD="prod",e}({}),i=function(e){return e.TRACK="track",e.UI="ui",e.OPERATIONAL="operational",e.SCREEN="screen",e.IDENTIFY="identify",e}({}),s=function(e){return e.MAC="mac",e.LINUX="linux",e.WINDOWS="windows",e.DESKTOP="desktop",e.WEB="web",e.MOBILE_WEB="mobileWeb",e}({}),o=function(e){return e.DESKTOP="desktop",e.WEB="web",e}({}),a=function(e){return e.CLOUD_ID="cloudId",e.ORG_ID="orgId",e.OPSGENIE_CUSTOMER_ID="opsgenieCustomerId",e.HALP_TEAM_ID="halpTeamId",e.LOOM_ORG_ID="loomOrgId",e.TRANSACTION_ACCOUNT_ID="transactionAccountId",e.TRELLO_WORKSPACE_ID="trelloWorkspaceId",e.NONE="none",e}({}),l=function(e){return e.ATLASSIAN_ACCOUNT="atlassianAccount",e.HASHED_EMAIL="hashedEmail",e.LOOM="loom",e.TRELLO="trello",e.OPSGENIE="opsgenie",e.HALP="halp",e}({}),u=function(e){return e.TRANSITION="transition",e.INITIAL_LOAD="initialLoad",e}({}),c=Object.freeze([s.DESKTOP,s.MAC,s.LINUX,s.WINDOWS]),d=Object.freeze([s.WEB,s.MOBILE_WEB]),h=function(e){return e.ATL_ORIGIN="atlOrigin",e}({});function p(e){return Object.values(e)}function f(e,t){return Object.values(e).indexOf(t)>-1}let m=function(e){return e.C5="c5",e.COMMERCIAL="commercial",e.FEDRAMP_MODERATE="fedramp-moderate",e.FEDRAMP_HIGH="fedramp-high",e}({}),g={},y=function(e){return e.TRANSACTION_ACCOUNT_ID="transactionAccountId",e}({})},"./node_modules/@atlassiansox/analytics-web-client/node_modules/uuid/lib/bytesToUuid.js":e=>{for(var t=[],r=0;r<256;++r)t[r]=(r+256).toString(16).substr(1);e.exports=function(e,r){var n=r||0;return[t[e[n++]],t[e[n++]],t[e[n++]],t[e[n++]],"-",t[e[n++]],t[e[n++]],"-",t[e[n++]],t[e[n++]],"-",t[e[n++]],t[e[n++]],"-",t[e[n++]],t[e[n++]],t[e[n++]],t[e[n++]],t[e[n++]],t[e[n++]]].join("")}},"./node_modules/@atlassiansox/analytics-web-client/node_modules/uuid/lib/rng-browser.js":e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var r=new Uint8Array(16);e.exports=function(){return t(r),r}}else{var n=Array(16);e.exports=function(){for(var e,t=0;t<16;t++)(3&t)==0&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}}},"./node_modules/@atlassiansox/analytics-web-client/node_modules/uuid/v4.js":(e,t,r)=>{var n=r("./node_modules/@atlassiansox/analytics-web-client/node_modules/uuid/lib/rng-browser.js"),i=r("./node_modules/@atlassiansox/analytics-web-client/node_modules/uuid/lib/bytesToUuid.js");e.exports=function(e,t,r){var s=t&&r||0;"string"==typeof e&&(t="binary"===e?Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||n)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var a=0;a<16;++a)t[s+a]=o[a];return t||i(o)}},"./node_modules/@segment/isodate-traverse/lib/index.js":(e,t,r)=>{"use strict";var n=r("./node_modules/@segment/isodate/lib/index.js");e.exports=function e(t,r){var i,s;return(void 0===r&&(r=!0),t&&"object"==typeof t)?(i=r,Object.keys(t).forEach(function(r){t[r]=e(t[r],i)}),t):Array.isArray(t)?(s=r,t.forEach(function(r,n){t[n]=e(r,s)}),t):n.is(t,r)?n.parse(t):t}},"./node_modules/@segment/isodate/lib/index.js":(e,t)=>{"use strict";var r=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;t.parse=function(e){var t=[1,5,6,7,11,12],n=r.exec(e),i=0;if(!n)return new Date(e);for(var s,o=0;s=t[o];o++)n[s]=parseInt(n[s],10)||0;return n[2]=parseInt(n[2],10)||1,n[3]=parseInt(n[3],10)||1,n[2]--,n[8]=n[8]?(n[8]+"00").substring(0,3):0," "===n[4]?i=new Date().getTimezoneOffset():"Z"!==n[9]&&n[10]&&(i=60*n[11]+n[12],"+"===n[10]&&(i=0-i)),new Date(Date.UTC(n[1],n[2],n[3],n[5],n[6]+i,n[7],n[8]))},t.is=function(e,t){return"string"==typeof e&&(!t||!1!==/^\d{4}-\d{2}-\d{2}/.test(e))&&r.test(e)}},"./node_modules/date-fns/esm/_lib/getTimezoneOffsetInMilliseconds/index.js":(e,t,r)=>{"use strict";function n(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}r.d(t,{A:()=>n})},"./node_modules/date-fns/esm/_lib/requiredArgs/index.js":(e,t,r)=>{"use strict";function n(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}r.d(t,{A:()=>n})},"./node_modules/date-fns/esm/differenceInCalendarDays/index.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r("./node_modules/date-fns/esm/_lib/getTimezoneOffsetInMilliseconds/index.js"),i=r("./node_modules/date-fns/esm/startOfDay/index.js"),s=r("./node_modules/date-fns/esm/_lib/requiredArgs/index.js");function o(e,t){(0,s.A)(2,arguments);var r=(0,i.A)(e),o=(0,i.A)(t);return Math.round((r.getTime()-(0,n.A)(r)-(o.getTime()-(0,n.A)(o)))/864e5)}},"./node_modules/date-fns/esm/startOfDay/index.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r("./node_modules/date-fns/esm/toDate/index.js"),i=r("./node_modules/date-fns/esm/_lib/requiredArgs/index.js");function s(e){(0,i.A)(1,arguments);var t=(0,n.A)(e);return t.setHours(0,0,0,0),t}},"./node_modules/date-fns/esm/toDate/index.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r("./node_modules/@babel/runtime/helpers/esm/typeof.js"),i=r("./node_modules/date-fns/esm/_lib/requiredArgs/index.js");function s(e){(0,i.A)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===(0,n.A)(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(Error().stack)),new Date(NaN))}},"./node_modules/decode-uri-component/index.js":e=>{"use strict";var t="%[a-f0-9]{2}",r=RegExp("("+t+")|([^%]+?)","gi"),n=RegExp("("+t+")+","gi");e.exports=function(e){if("string"!=typeof e)throw TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"","%FF%FE":""},i=n.exec(e);i;){try{t[i[0]]=decodeURIComponent(i[0])}catch(e){var s=function(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(r)||[],n=1;n<t.length;n++)t=(e=(function e(t,r){try{return[decodeURIComponent(t.join(""))]}catch(e){}if(1===t.length)return t;r=r||1;var n=t.slice(0,r),i=t.slice(r);return Array.prototype.concat.call([],e(n),e(i))})(t,n).join("")).match(r)||[];return e}}(i[0]);s!==i[0]&&(t[i[0]]=s)}i=n.exec(e)}t["%C2"]="";for(var o=Object.keys(t),a=0;a<o.length;a++){var l=o[a];e=e.replace(RegExp(l,"g"),t[l])}return e}(e)}}},"./node_modules/eventemitter2/lib/eventemitter2.js":(e,t,r)=>{var n=r("./node_modules/process/browser.js");!function(t){var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(){this._events={},this._conf&&s.call(this,this._conf)}function s(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=t!==e.maxListeners?e.maxListeners:10,e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._maxListeners=10}function o(e,t){var r="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(r+=" Event name: "+t+"."),void 0!==n&&n.emitWarning){var i=Error(r);i.name="MaxListenersExceededWarning",i.emitter=this,i.count=e,n.emitWarning(i)}else console.error(r),console.trace&&console.trace()}function a(e){this._events={},this.newListener=!1,this.verboseMemoryLeak=!1,s.call(this,e)}function l(e,t,r,n){if(!r)return[];var i,s,o,a,u,c,d,h=[],p=t.length,f=t[n],m=t[n+1];if(n===p&&r._listeners){if("function"==typeof r._listeners)return e&&e.push(r._listeners),[r];for(i=0,s=r._listeners.length;i<s;i++)e&&e.push(r._listeners[i]);return[r]}if("*"===f||"**"===f||r[f]){if("*"===f){for(o in r)"_listeners"!==o&&r.hasOwnProperty(o)&&(h=h.concat(l(e,t,r[o],n+1)));return h}if("**"===f){for(o in(d=n+1===p||n+2===p&&"*"===m)&&r._listeners&&(h=h.concat(l(e,t,r,p))),r)"_listeners"!==o&&r.hasOwnProperty(o)&&("*"===o||"**"===o?(r[o]._listeners&&!d&&(h=h.concat(l(e,t,r[o],p))),h=h.concat(l(e,t,r[o],n))):h=o===m?h.concat(l(e,t,r[o],n+2)):h.concat(l(e,t,r[o],n)));return h}h=h.concat(l(e,t,r[f],n+1))}if((a=r["*"])&&l(e,t,a,n+1),u=r["**"]){if(n<p)for(o in u._listeners&&l(e,t,u,p),u)"_listeners"!==o&&u.hasOwnProperty(o)&&(o===m?l(e,t,u[o],n+2):o===f?l(e,t,u[o],n+1):((c={})[o]=u[o],l(e,t,{"**":c},n+1)));else u._listeners?l(e,t,u,p):u["*"]&&u["*"]._listeners&&l(e,t,u["*"],p)}return h}function u(e,r){e="string"==typeof e?e.split(this.delimiter):e.slice();for(var n=0,i=e.length;n+1<i;n++)if("**"===e[n]&&"**"===e[n+1])return;for(var s=this.listenerTree,a=e.shift();t!==a;){if(s[a]||(s[a]={}),s=s[a],0===e.length){s._listeners?("function"==typeof s._listeners&&(s._listeners=[s._listeners]),s._listeners.push(r),!s._listeners.warned&&this._maxListeners>0&&s._listeners.length>this._maxListeners&&(s._listeners.warned=!0,o.call(this,s._listeners.length,a))):s._listeners=r;break}a=e.shift()}return!0}a.EventEmitter2=a,a.prototype.delimiter=".",a.prototype.setMaxListeners=function(e){t!==e&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},a.prototype.event="",a.prototype.once=function(e,t){return this._once(e,t,!1)},a.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},a.prototype._once=function(e,t,r){return this._many(e,1,t,r),this},a.prototype.many=function(e,t,r){return this._many(e,t,r,!1)},a.prototype.prependMany=function(e,t,r){return this._many(e,t,r,!0)},a.prototype._many=function(e,t,r,n){var i=this;if("function"!=typeof r)throw Error("many only accepts instances of Function");function s(){return 0==--t&&i.off(e,s),r.apply(this,arguments)}return s._origin=r,this._on(e,s,n),i},a.prototype.emit=function(){this._events||i.call(this);var e,t,r,n,s,o=arguments[0];if("newListener"===o&&!this.newListener&&!this._events.newListener)return!1;var a=arguments.length;if(this._all&&this._all.length){if(s=this._all.slice(),a>3)for(n=0,e=Array(a);n<a;n++)e[n]=arguments[n];for(r=0,t=s.length;r<t;r++)switch(this.event=o,a){case 1:s[r].call(this,o);break;case 2:s[r].call(this,o,arguments[1]);break;case 3:s[r].call(this,o,arguments[1],arguments[2]);break;default:s[r].apply(this,e)}}if(this.wildcard){s=[];var u="string"==typeof o?o.split(this.delimiter):o.slice();l.call(this,s,u,this.listenerTree,0)}else{if("function"==typeof(s=this._events[o])){switch(this.event=o,a){case 1:s.call(this);break;case 2:s.call(this,arguments[1]);break;case 3:s.call(this,arguments[1],arguments[2]);break;default:for(n=1,e=Array(a-1);n<a;n++)e[n-1]=arguments[n];s.apply(this,e)}return!0}s&&(s=s.slice())}if(s&&s.length){if(a>3)for(n=1,e=Array(a-1);n<a;n++)e[n-1]=arguments[n];for(r=0,t=s.length;r<t;r++)switch(this.event=o,a){case 1:s[r].call(this);break;case 2:s[r].call(this,arguments[1]);break;case 3:s[r].call(this,arguments[1],arguments[2]);break;default:s[r].apply(this,e)}return!0}if(!this._all&&"error"===o){if(arguments[1]instanceof Error)throw arguments[1];throw Error("Uncaught, unspecified 'error' event.")}return!!this._all},a.prototype.emitAsync=function(){this._events||i.call(this);var e,t,r,n,s,o=arguments[0];if("newListener"===o&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var a=[],u=arguments.length;if(this._all){if(u>3)for(n=1,e=Array(u);n<u;n++)e[n]=arguments[n];for(r=0,t=this._all.length;r<t;r++)switch(this.event=o,u){case 1:a.push(this._all[r].call(this,o));break;case 2:a.push(this._all[r].call(this,o,arguments[1]));break;case 3:a.push(this._all[r].call(this,o,arguments[1],arguments[2]));break;default:a.push(this._all[r].apply(this,e))}}if(this.wildcard){s=[];var c="string"==typeof o?o.split(this.delimiter):o.slice();l.call(this,s,c,this.listenerTree,0)}else s=this._events[o];if("function"==typeof s)switch(this.event=o,u){case 1:a.push(s.call(this));break;case 2:a.push(s.call(this,arguments[1]));break;case 3:a.push(s.call(this,arguments[1],arguments[2]));break;default:for(n=1,e=Array(u-1);n<u;n++)e[n-1]=arguments[n];a.push(s.apply(this,e))}else if(s&&s.length){if(s=s.slice(),u>3)for(n=1,e=Array(u-1);n<u;n++)e[n-1]=arguments[n];for(r=0,t=s.length;r<t;r++)switch(this.event=o,u){case 1:a.push(s[r].call(this));break;case 2:a.push(s[r].call(this,arguments[1]));break;case 3:a.push(s[r].call(this,arguments[1],arguments[2]));break;default:a.push(s[r].apply(this,e))}}else if(!this._all&&"error"===o)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(a)},a.prototype.on=function(e,t){return this._on(e,t,!1)},a.prototype.prependListener=function(e,t){return this._on(e,t,!0)},a.prototype.onAny=function(e){return this._onAny(e,!1)},a.prototype.prependAny=function(e){return this._onAny(e,!0)},a.prototype.addListener=a.prototype.on,a.prototype._onAny=function(e,t){if("function"!=typeof e)throw Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},a.prototype._on=function(e,t,r){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw Error("on only accepts instances of Function");return(this._events||i.call(this),this.emit("newListener",e,t),this.wildcard)?u.call(this,e,t):this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),r?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,o.call(this,this._events[e].length,e))):this._events[e]=t,this},a.prototype.off=function(e,n){if("function"!=typeof n)throw Error("removeListener only takes instances of Function");var i,s=[];if(this.wildcard){var o="string"==typeof e?e.split(this.delimiter):e.slice();s=l.call(this,null,o,this.listenerTree,0)}else{if(!this._events[e])return this;i=this._events[e],s.push({_listeners:i})}for(var a=0;a<s.length;a++){var u=s[a];if(r(i=u._listeners)){for(var c=-1,d=0,h=i.length;d<h;d++)if(i[d]===n||i[d].listener&&i[d].listener===n||i[d]._origin&&i[d]._origin===n){c=d;break}if(c<0)continue;return this.wildcard?u._listeners.splice(c,1):this._events[e].splice(c,1),0===i.length&&(this.wildcard?delete u._listeners:delete this._events[e]),this.emit("removeListener",e,n),this}(i===n||i.listener&&i.listener===n||i._origin&&i._origin===n)&&(this.wildcard?delete u._listeners:delete this._events[e],this.emit("removeListener",e,n))}return function e(r){if(t!==r){var n=Object.keys(r);for(var i in n){var s=n[i],o=r[s];o instanceof Function||"object"!=typeof o||null===o||(Object.keys(o).length>0&&e(r[s]),0!==Object.keys(o).length||delete r[s])}}}(this.listenerTree),this},a.prototype.offAny=function(e){var t,r=0,n=0;if(e&&this._all&&this._all.length>0){for(r=0,n=(t=this._all).length;r<n;r++)if(e===t[r]){t.splice(r,1),this.emit("removeListenerAny",e);break}}else{for(r=0,n=(t=this._all).length;r<n;r++)this.emit("removeListenerAny",t[r]);this._all=[]}return this},a.prototype.removeListener=a.prototype.off,a.prototype.removeAllListeners=function(e){if(0==arguments.length)return this._events&&i.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),r=l.call(this,null,t,this.listenerTree,0),n=0;n<r.length;n++)r[n]._listeners=null;else this._events&&(this._events[e]=null);return this},a.prototype.listeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return l.call(this,t,n,this.listenerTree,0),t}return this._events||i.call(this),this._events[e]||(this._events[e]=[]),r(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},a.prototype.eventNames=function(){return Object.keys(this._events)},a.prototype.listenerCount=function(e){return this.listeners(e).length},a.prototype.listenersAny=function(){return this._all?this._all:[]},"function"==typeof define&&define.amd?define(function(){return a}):e.exports=a}()},"./node_modules/fast-deep-equal/index.js":e=>{"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(i=n;0!=i--;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(s=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(i=n;0!=i--;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=n;0!=i--;){var n,i,s,o=s[i];if(!e(t[o],r[o]))return!1}return!0}return t!=t&&r!=r}},"./node_modules/filter-obj/index.js":e=>{"use strict";e.exports=function(e,t){for(var r={},n=Object.keys(e),i=Array.isArray(t),s=0;s<n.length;s++){var o=n[s],a=e[o];(i?-1!==t.indexOf(o):t(o,a,e))&&(r[o]=a)}return r}},"./node_modules/js-cookie/src/js.cookie.js":e=>{!function(t){"function"==typeof define&&define.amd&&define(t),e.exports=t()}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(n){function i(){}function s(t,r,s){if("undefined"!=typeof document){"number"==typeof(s=e({path:"/"},i.defaults,s)).expires&&(s.expires=new Date(new Date*1+864e5*s.expires)),s.expires=s.expires?s.expires.toUTCString():"";try{var o=JSON.stringify(r);/^[\{\[]/.test(o)&&(r=o)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var l in s)s[l]&&(a+="; "+l,!0!==s[l]&&(a+="="+s[l].split(";")[0]));return document.cookie=t+"="+r+a}}function o(e,r){if("undefined"!=typeof document){for(var i={},s=document.cookie?document.cookie.split("; "):[],o=0;o<s.length;o++){var a=s[o].split("="),l=a.slice(1).join("=");r||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var u=t(a[0]);if(l=(n.read||n)(l,u)||t(l),r)try{l=JSON.parse(l)}catch(e){}if(i[u]=l,e===u)break}catch(e){}}return e?i[e]:i}}return i.set=s,i.get=function(e){return o(e,!1)},i.getJSON=function(e){return o(e,!0)},i.remove=function(t,r){s(t,"",e(r,{expires:-1}))},i.defaults={},i.withConverter=r,i}(function(){})})},"./node_modules/memoize-one/dist/memoize-one.esm.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function i(e,t){if(e.length!==t.length)return!1;for(var r,i,s=0;s<e.length;s++)if(!((r=e[s])===(i=t[s])||n(r)&&n(i)))return!1;return!0}function s(e,t){void 0===t&&(t=i);var r=null;function n(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(r&&r.lastThis===this&&t(n,r.lastArgs))return r.lastResult;var s=e.apply(this,n);return r={lastResult:s,lastArgs:n,lastThis:this},s}return n.clear=function(){r=null},n}},"./node_modules/process/browser.js":e=>{var t,r,n,i=e.exports={};function s(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var l=[],u=!1,c=-1;function d(){u&&n&&(u=!1,n.length?l=n.concat(l):c=-1,l.length&&h())}function h(){if(!u){var e=a(d);u=!0;for(var t=l.length;t;){for(n=l,l=[];++c<t;)n&&n[c].run();c=-1,t=l.length}n=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function f(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new p(e,t)),1!==l.length||u||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=f,i.addListener=f,i.once=f,i.off=f,i.removeListener=f,i.removeAllListeners=f,i.emit=f,i.prependListener=f,i.prependOnceListener=f,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}},"./node_modules/query-string/index.js":(e,t,r)=>{"use strict";let n=r("./node_modules/strict-uri-encode/index.js"),i=r("./node_modules/decode-uri-component/index.js"),s=r("./node_modules/split-on-first/index.js"),o=r("./node_modules/filter-obj/index.js"),a=e=>null==e,l=Symbol("encodeFragmentIdentifier");function u(e){if("string"!=typeof e||1!==e.length)throw TypeError("arrayFormatSeparator must be single character string")}function c(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function d(e,t){return t.decode?i(e):e}function h(e){let t=e.indexOf("#");return -1!==t&&(e=e.slice(0,t)),e}function p(e){let t=(e=h(e)).indexOf("?");return -1===t?"":e.slice(t+1)}function f(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):t.parseBooleans&&null!==e&&("true"===e.toLowerCase()||"false"===e.toLowerCase())&&(e="true"===e.toLowerCase()),e}function m(e,t){u((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);let r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{if(t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),!t){n[e]=r;return}void 0===n[e]&&(n[e]={}),n[e][t[1]]=r};case"bracket":return(e,r,n)=>{if(t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),!t){n[e]=r;return}if(void 0===n[e]){n[e]=[r];return}n[e]=[].concat(n[e],r)};case"colon-list-separator":return(e,r,n)=>{if(t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),!t){n[e]=r;return}if(void 0===n[e]){n[e]=[r];return}n[e]=[].concat(n[e],r)};case"comma":case"separator":return(t,r,n)=>{let i="string"==typeof r&&r.includes(e.arrayFormatSeparator),s="string"==typeof r&&!i&&d(r,e).includes(e.arrayFormatSeparator);r=s?d(r,e):r;let o=i||s?r.split(e.arrayFormatSeparator).map(t=>d(t,e)):null===r?r:d(r,e);n[t]=o};case"bracket-separator":return(t,r,n)=>{let i=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!i){n[t]=r?d(r,e):r;return}let s=null===r?[]:r.split(e.arrayFormatSeparator).map(t=>d(t,e));if(void 0===n[t]){n[t]=s;return}n[t]=[].concat(n[t],s)};default:return(e,t,r)=>{if(void 0===r[e]){r[e]=t;return}r[e]=[].concat(r[e],t)}}}(t),n=Object.create(null);if("string"!=typeof e||!(e=e.trim().replace(/^[?#&]/,"")))return n;for(let i of e.split("&")){if(""===i)continue;let[e,o]=s(t.decode?i.replace(/\+/g," "):i,"=");o=void 0===o?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?o:d(o,t),r(d(e,t),o,n)}for(let e of Object.keys(n)){let r=n[e];if("object"==typeof r&&null!==r)for(let e of Object.keys(r))r[e]=f(r[e],t);else n[e]=f(r,t)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((e,t)=>{let r=n[t];return r&&"object"==typeof r&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(r):e[t]=r,e},Object.create(null))}t.extract=p,t.parse=m,t.stringify=(e,t)=>{if(!e)return"";u((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);let r=r=>t.skipNull&&a(e[r])||t.skipEmptyString&&""===e[r],n=function(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{let i=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[c(t,e),"[",i,"]"].join("")]:[...r,[c(t,e),"[",c(i,e),"]=",c(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[c(t,e),"[]"].join("")]:[...r,[c(t,e),"[]=",c(n,e)].join("")];case"colon-list-separator":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[c(t,e),":list="].join("")]:[...r,[c(t,e),":list=",c(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{let t="bracket-separator"===e.arrayFormat?"[]=":"=";return r=>(n,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?n:(i=null===i?"":i,0===n.length)?[[c(r,e),t,c(i,e)].join("")]:[[n,c(i,e)].join(e.arrayFormatSeparator)]}default:return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,c(t,e)]:[...r,[c(t,e),"=",c(n,e)].join("")]}}(t),i={};for(let t of Object.keys(e))r(t)||(i[t]=e[t]);let s=Object.keys(i);return!1!==t.sort&&s.sort(t.sort),s.map(r=>{let i=e[r];return void 0===i?"":null===i?c(r,t):Array.isArray(i)?0===i.length&&"bracket-separator"===t.arrayFormat?c(r,t)+"[]":i.reduce(n(r),[]).join("&"):c(r,t)+"="+c(i,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);let[r,n]=s(e,"#");return Object.assign({url:r.split("?")[0]||"",query:m(p(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:d(n,t)}:{})},t.stringifyUrl=(e,r)=>{r=Object.assign({encode:!0,strict:!0,[l]:!0},r);let n=h(e.url).split("?")[0]||"",i=t.extract(e.url),s=Object.assign(t.parse(i,{sort:!1}),e.query),o=t.stringify(s,r);o&&(o=`?${o}`);let a=function(e){let t="",r=e.indexOf("#");return -1!==r&&(t=e.slice(r)),t}(e.url);return e.fragmentIdentifier&&(a=`#${r[l]?c(e.fragmentIdentifier,r):e.fragmentIdentifier}`),`${n}${o}${a}`},t.pick=(e,r,n)=>{n=Object.assign({parseFragmentIdentifier:!0,[l]:!1},n);let{url:i,query:s,fragmentIdentifier:a}=t.parseUrl(e,n);return t.stringifyUrl({url:i,query:o(s,r),fragmentIdentifier:a},n)},t.exclude=(e,r,n)=>{let i=Array.isArray(r)?e=>!r.includes(e):(e,t)=>!r(e,t);return t.pick(e,i,n)}},"./node_modules/react/cjs/react.production.min.js":(e,t)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator,f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||f}function v(){}function b(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var _=b.prototype=new v;_.constructor=b,m(_,y.prototype),_.isPureReactComponent=!0;var w=Array.isArray,C=Object.prototype.hasOwnProperty,E={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,n){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)C.call(t,i)&&!A.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:r,type:e,key:o,ref:a,props:s,_owner:E.current}}function k(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}var S=/\/+/g;function I(e,t){var r,n;return"object"==typeof e&&null!==e&&null!=e.key?(r=""+e.key,n={"=":"=0",":":"=2"},"$"+r.replace(/[=:]/g,function(e){return n[e]})):t.toString(36)}function j(e,t,i){if(null==e)return e;var s=[],o=0;return!function e(t,i,s,o,a){var l,u,c,d=typeof t;("undefined"===d||"boolean"===d)&&(t=null);var h=!1;if(null===t)h=!0;else switch(d){case"string":case"number":h=!0;break;case"object":switch(t.$$typeof){case r:case n:h=!0}}if(h)return a=a(h=t),t=""===o?"."+I(h,0):o,w(a)?(s="",null!=t&&(s=t.replace(S,"$&/")+"/"),e(a,i,s,"",function(e){return e})):null!=a&&(k(a)&&(l=a,u=s+(!a.key||h&&h.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+t,a={$$typeof:r,type:l.type,key:u,ref:l.ref,props:l.props,_owner:l._owner}),i.push(a)),1;if(h=0,o=""===o?".":o+":",w(t))for(var f=0;f<t.length;f++){var m=o+I(d=t[f],f);h+=e(d,i,s,m,a)}else if("function"==typeof(m=null===(c=t)||"object"!=typeof c?null:"function"==typeof(c=p&&c[p]||c["@@iterator"])?c:null))for(t=m.call(t),f=0;!(d=t.next()).done;)m=o+I(d=d.value,f++),h+=e(d,i,s,m,a);else if("object"===d)throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(i=String(t))?"object with keys {"+Object.keys(t).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.");return h}(e,s,"","",function(e){return t.call(i,e,o++)}),s}function x(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},P={transition:null};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:j,forEach:function(e,t,r){j(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return j(e,function(){t++}),t},toArray:function(e){return j(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:P,ReactCurrentOwner:E},t.act=D,t.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=E.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)C.call(t,u)&&!A.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:r,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=O,t.createFactory=function(e){var t=O.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:x}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return T.current.useCallback(e,t)},t.useContext=function(e){return T.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return T.current.useDeferredValue(e)},t.useEffect=function(e,t){return T.current.useEffect(e,t)},t.useId=function(){return T.current.useId()},t.useImperativeHandle=function(e,t,r){return T.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return T.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.current.useMemo(e,t)},t.useReducer=function(e,t,r){return T.current.useReducer(e,t,r)},t.useRef=function(e){return T.current.useRef(e)},t.useState=function(e){return T.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return T.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return T.current.useTransition()},t.version="18.3.1"},"./node_modules/react/index.js":(e,t,r)=>{"use strict";e.exports=r("./node_modules/react/cjs/react.production.min.js")},"./node_modules/split-on-first/index.js":e=>{"use strict";e.exports=(e,t)=>{if(!("string"==typeof e&&"string"==typeof t))throw TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];let r=e.indexOf(t);return -1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},"./node_modules/statsig-js-lite/dist/DynamicConfig.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,r,n,i,s,o){void 0===i&&(i=[]),void 0===s&&(s=""),void 0===o&&(o=null),this._onDefaultValueFallback=null,this.value=JSON.parse(JSON.stringify(null!=t?t:{})),this._name=e,this._ruleID=null!=r?r:"",this._secondaryExposures=i,this._allocatedExperimentName=s,this._evaluationDetails=n,this._onDefaultValueFallback=o}return e.prototype.get=function(e,t,r){var n,i,s=this.getValue(e,t);if(null==s)return t;var o=Array.isArray(t)?"array":typeof t,a=Array.isArray(s)?"array":typeof s;return r?r(s)?s:(null===(n=this._onDefaultValueFallback)||void 0===n||n.call(this,this,e,o,a),t):null==t||o===a?s:(null===(i=this._onDefaultValueFallback)||void 0===i||i.call(this,this,e,o,a),t)},e.prototype.getValue=function(e,t){return null==e?this.value:(null==t&&(t=null),null==this.value[e])?t:this.value[e]},e}();t.default=r},"./node_modules/statsig-js-lite/dist/ErrorBoundary.js":function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(r)throw TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExceptionEndpoint=void 0;var s=r("./node_modules/statsig-js-lite/dist/Errors.js");t.ExceptionEndpoint="https://statsigapi.net/v1/sdk_exception";var o=function(){function e(e,t){this._seen=new Set,this._sdkKey=e,this._options=t}return e.prototype._setStatsigMetadata=function(e){this._statsigMetadata=e},e.prototype._swallow=function(e,t){this._capture(e,t,function(){})},e.prototype._capture=function(e,t,r,n){var i=this;try{var s=t();if(s instanceof Promise)return s.catch(function(t){return i._onCaught(e,t,r,n)});return s}catch(t){return this._onCaught(e,t,r,n)}},e.prototype._logError=function(e,r,s){if(!this._options.disableAllLogging)try{n(this,void 0,void 0,function(){var n,o,a,l,u,c,d,h,p;return i(this,function(i){switch(i.label){case 0:if("function"!=typeof s)return[3,2];return[4,s()];case 1:return o=i.sent(),[3,3];case 2:o=null,i.label=3;case 3:if(n=o,u=(l=(a=null!=r?r:Error("[Statsig] Error was empty"))instanceof Error)?a.name:"No Name",this._seen.has(u))return[2];return this._seen.add(u),c=l?a.stack:this._getDescription(a),d=null!==(p=this._statsigMetadata)&&void 0!==p?p:{},h=JSON.stringify({tag:e,exception:u,info:c,statsigMetadata:d,extra:null!=n?n:{}}),[2,fetch(t.ExceptionEndpoint,{method:"POST",headers:{"STATSIG-API-KEY":this._sdkKey,"STATSIG-SDK-TYPE":String(d.sdkType),"STATSIG-SDK-VERSION":String(d.sdkVersion),"Content-Type":"application/json","Content-Length":"".concat(h.length)},body:h})]}})}).then(function(){}).catch(function(){})}catch(e){}},e.prototype._onCaught=function(e,t,r,n){if(t instanceof s.StatsigUninitializedError||t instanceof s.StatsigInvalidArgumentError)throw t;return console.error("[Statsig] An unexpected exception occurred.",t),this._logError(e,t,n),r()},e.prototype._getDescription=function(e){try{return JSON.stringify(e)}catch(e){return"[Statsig] Failed to get string for error."}},e}();t.default=o},"./node_modules/statsig-js-lite/dist/Errors.js":function(e,t){"use strict";var r,n,i,s=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigSDKKeyMismatchError=t.StatsigInvalidArgumentError=t.StatsigUninitializedError=t.StatsigErrorMessage=void 0,(r=i=t.StatsigErrorMessage||(t.StatsigErrorMessage={})).REQUIRE_ASYNC_INITIALIZE="Call initialize() first.",r.REQUIRE_SYNC_INITIALIZE="Call and wait for initialize() to finish first.",r.REQUIRE_INITIALIZE_FOR_LOG_EVENT="Must initialize() before logging events.";var o=function(e){function t(r){var n=e.call(this,null!=r?r:i.REQUIRE_SYNC_INITIALIZE)||this;return Object.setPrototypeOf(n,t.prototype),n}return s(t,e),t}(Error);t.StatsigUninitializedError=o;var a=function(e){function t(r){var n=e.call(this,r)||this;return Object.setPrototypeOf(n,t.prototype),n}return s(t,e),t}(Error);t.StatsigInvalidArgumentError=a;var l=function(e){function t(r){var n=e.call(this,r)||this;return Object.setPrototypeOf(n,t.prototype),n}return s(t,e),t}(Error);t.StatsigSDKKeyMismatchError=l},"./node_modules/statsig-js-lite/dist/Layer.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,r,n,i,s,o,a,l){void 0===i&&(i=null),void 0===s&&(s=[]),void 0===o&&(o=[]),void 0===a&&(a=""),void 0===l&&(l=[]),this._logParameterFunction=i,this._name=e,this._value=JSON.parse(JSON.stringify(null!=t?t:{})),this._ruleID=null!=r?r:"",this._evaluationDetails=n,this._secondaryExposures=s,this._undelegatedSecondaryExposures=o,this._allocatedExperimentName=a,this._explicitParameters=l}return e._create=function(t,r,n,i,s,o,a,l,u){return void 0===s&&(s=null),void 0===o&&(o=[]),void 0===a&&(a=[]),void 0===l&&(l=""),void 0===u&&(u=[]),new e(t,r,n,i,s,o,a,l,u)},e.prototype.get=function(e,t,r){var n=this,i=this._value[e];if(null==i)return t;var s=function(){return n._logLayerParameterExposure(e),i};return r?r(i)?s():t:null==t||typeof i==typeof t&&Array.isArray(t)===Array.isArray(i)?s():t},e.prototype.getValue=function(e,t){void 0==t&&(t=null);var r=this._value[e];return null!=r&&this._logLayerParameterExposure(e),null!=r?r:t},e.prototype._logLayerParameterExposure=function(e){var t;null===(t=this._logParameterFunction)||void 0===t||t.call(this,this,e)},e}();t.default=r},"./node_modules/statsig-js-lite/dist/LocalOverrides.js":function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.saveOverridesToLocalStorage=t.loadOverridesFromLocalStorage=t.makeEmptyOverrides=t.STORAGE_KEY=void 0;var i=n(r("./node_modules/statsig-js-lite/dist/utils/StatsigLocalStorage.js"));function s(){return{gates:{},configs:{},layers:{}}}t.STORAGE_KEY="STATSIG_JS_LITE_LOCAL_OVERRIDES",t.makeEmptyOverrides=s,t.loadOverridesFromLocalStorage=function(){var e=i.default.getItem(t.STORAGE_KEY);if(e)try{return JSON.parse(e)}catch(e){}return s()},t.saveOverridesToLocalStorage=function(e){i.default.setItem(t.STORAGE_KEY,JSON.stringify(e))}},"./node_modules/statsig-js-lite/dist/LogEvent.js":function(e,t){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,i,s,o){void 0===i&&(i=null),void 0===s&&(s=null);var a=t;return(null==a?void 0:a.privateAttributes)&&(a=r({},t),delete a.privateAttributes),{time:Date.now(),eventName:e,statsigMetadata:n,user:a,value:i,metadata:s,secondaryExposures:o}}},"./node_modules/statsig-js-lite/dist/SDKVersion.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="1.6.0"},"./node_modules/statsig-js-lite/dist/StatsigClient.js":function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return s(t,e),t},a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(r)throw TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=u(r("./node_modules/statsig-js-lite/dist/DynamicConfig.js")),d=u(r("./node_modules/statsig-js-lite/dist/ErrorBoundary.js")),h=r("./node_modules/statsig-js-lite/dist/Errors.js"),p=u(r("./node_modules/statsig-js-lite/dist/Layer.js")),f=u(r("./node_modules/statsig-js-lite/dist/StatsigIdentity.js")),m=u(r("./node_modules/statsig-js-lite/dist/StatsigLogger.js")),g=u(r("./node_modules/statsig-js-lite/dist/StatsigNetwork.js")),y=u(r("./node_modules/statsig-js-lite/dist/StatsigSDKOptions.js")),v=o(r("./node_modules/statsig-js-lite/dist/StatsigStore.js")),b=r("./node_modules/statsig-js-lite/dist/utils/ResponseVerification.js"),_=u(r("./node_modules/statsig-js-lite/dist/utils/StatsigLocalStorage.js")),w=r("./node_modules/statsig-js-lite/dist/utils/Timing.js"),C=u(r("./node_modules/statsig-js-lite/dist/LogEvent.js")),E=r("./node_modules/statsig-js-lite/dist/LocalOverrides.js"),A=function(){function e(e,t,r){var n=this;if(this._initCalled=!1,this._pendingInitPromise=null,this._sdkKey=null,this._logLayerParameterExposureForLayer=function(e,t,r){void 0===r&&(r=!1);var i="",s=e._undelegatedSecondaryExposures,o=e._explicitParameters.includes(t);o&&(i=e._allocatedExperimentName,s=e._secondaryExposures),n._logger.logLayerExposure(n._identity._user,e._name,e._ruleID,s,i,t,o,e._evaluationDetails,r,n._store.getBootstrapMetadata())},(null==r?void 0:r.localMode)!==!0&&("string"!=typeof e||!e.startsWith("client-")))throw new h.StatsigInvalidArgumentError("Invalid key provided.  You must use a Client SDK Key from the Statsig console to initialize the sdk");this._sdkKey=e,this._startTime=(0,w.now)(),this._options=new y.default(r),this._errorBoundary=new d.default(e,this._options),this._ready=!1,_.default.disabled=this._options.disableLocalStorage,this._overrides=(0,E.loadOverridesFromLocalStorage)(),this._identity=new f.default(e,this._normalizeUser(null!=t?t:null),this._options.overrideStableID),this._network=new g.default(this._options,this._identity,this._errorBoundary),this._logger=new m.default(this._options,this._identity,this._network,this._errorBoundary),this._store=new v.default(this._identity,this._logger.logConfigDefaultValueFallback,this._options.initializeValues),this._errorBoundary._setStatsigMetadata(this._identity._statsigMetadata),null!=this._options.initializeValues&&(this._ready=!0,this._initCalled=!0,setTimeout(function(){return n._delayedSetup()},20))}return e.prototype.setInitializeValues=function(e){var t=this;this._errorBoundary._capture("setInitializeValues",function(){t._store.bootstrap(e),t._ready||(t._ready=!0,t._initCalled=!0),t._logger.sendSavedRequests()},function(){t._ready=!0,t._initCalled=!0})},e.prototype.initializeAsync=function(){return a(this,void 0,void 0,function(){var e=this;return l(this,function(t){return[2,this._errorBoundary._capture("initializeAsync",function(){return a(e,void 0,void 0,function(){var e,t=this;return l(this,function(r){return null!=this._pendingInitPromise?[2,this._pendingInitPromise]:this._ready?[2,Promise.resolve()]:(this._initCalled=!0,this._options.localMode)?[2,Promise.resolve()]:(e=this._identity._user,this._pendingInitPromise=this._fetchAndSaveValues(e,this._options.initTimeoutMs).then(function(){}).catch(function(e){return t._errorBoundary._logError("initializeAsync:fetchAndSaveValues",e),{success:!1,message:e.message}}).then(function(){}).finally(function(){return a(t,void 0,void 0,function(){return l(this,function(e){return this._pendingInitPromise=null,this._ready=!0,this._delayedSetup(),[2]})})}),[2,this._pendingInitPromise])})})},function(){return e._ready=!0,e._initCalled=!0,Promise.resolve()})]})})},e.prototype.getEvaluationDetails=function(){var e=this;return this._errorBoundary._capture("getEvaluationDetails",function(){return e._store.getGlobalEvaluationDetails()},function(){return{time:Date.now(),reason:v.EvaluationReason.Error}})},e.prototype.checkGate=function(e){return this._checkGateImpl(e,"checkGate")},e.prototype.checkGateWithExposureLoggingDisabled=function(e){return this._checkGateImpl(e,"checkGateWithExposureLoggingDisabled")},e.prototype.logGateExposure=function(e){var t=this;this._errorBoundary._swallow("logGateExposure",function(){t._logGateExposureImpl(e)})},e.prototype.getConfig=function(e){return this._getConfigImpl(e,"getConfig")},e.prototype.getConfigWithExposureLoggingDisabled=function(e){return this._getConfigImpl(e,"getConfigWithExposureLoggingDisabled")},e.prototype.logConfigExposure=function(e){var t=this;this._errorBoundary._swallow("logConfigExposure",function(){t._logConfigExposureImpl(e)})},e.prototype.getExperiment=function(e){return this.getConfig(e)},e.prototype.getExperimentWithExposureLoggingDisabled=function(e){return this.getConfigWithExposureLoggingDisabled(e)},e.prototype.logExperimentExposure=function(e){this.logConfigExposure(e)},e.prototype.getLayer=function(e){return this._getLayerImpl(e,"getLayer")},e.prototype.getLayerWithExposureLoggingDisabled=function(e){return this._getLayerImpl(e,"getLayerWithExposureLoggingDisabled")},e.prototype.logLayerParameterExposure=function(e,t){var r=this;this._errorBoundary._swallow("logLayerParameterExposure",function(){var n=r._getLayerFromStore(null,e);r._logLayerParameterExposureForLayer(n,t,!0)})},e.prototype.logEvent=function(e,t,r){var n=this;void 0===t&&(t=null),void 0===r&&(r=null),this._errorBoundary._swallow("logEvent",function(){if(!n._logger||!n._identity._sdkKey)throw new h.StatsigUninitializedError(h.StatsigErrorMessage.REQUIRE_INITIALIZE_FOR_LOG_EVENT);if("string"==typeof e&&0!==e.length){var i=(0,C.default)(e,n._identity._user,n._identity._statsigMetadata,t,r);n._logger.log(i)}})},e.prototype.updateUserWithValues=function(e,t){var r,n=this,i=Date.now();return this._errorBoundary._capture("updateUserWithValues",function(){if(!n.initializeCalled())throw new h.StatsigUninitializedError(h.StatsigErrorMessage.REQUIRE_ASYNC_INITIALIZE);return r=function(e,t){var r=n._options.updateUserCompletionCallback;null==r||r(Date.now()-i,e,t)},n._identity._user=n._normalizeUser(e),n._store.bootstrap(t),n._logger.resetDedupeKeys(),r(!0,null),!0},function(){return null==r||r(!1,"Failed to update user. An unexpected error occured."),!1})},e.prototype.updateUser=function(e){return a(this,void 0,void 0,function(){var t,r,n=this;return l(this,function(i){return t=Date.now(),[2,this._errorBoundary._capture("updateUser",function(){return a(n,void 0,void 0,function(){var n,i=this;return l(this,function(s){switch(s.label){case 0:if(!this.initializeCalled())throw new h.StatsigUninitializedError(h.StatsigErrorMessage.REQUIRE_ASYNC_INITIALIZE);if(r=function(e,r){var n=i._options.updateUserCompletionCallback;null==n||n(Date.now()-t,e,r)},this._identity._user=this._normalizeUser(e),this._store.updateUser(),this._logger.resetDedupeKeys(),!(null!=this._pendingInitPromise))return[3,2];return[4,this._pendingInitPromise];case 1:s.sent(),s.label=2;case 2:if(this._options.localMode)return r(!0,null),[2,Promise.resolve(!0)];return n=this._identity._user,this._pendingInitPromise=this._fetchAndSaveValues(n).finally(function(){i._pendingInitPromise=null}),[2,this._pendingInitPromise.then(function(){return r(!0,null),Promise.resolve(!0)}).catch(function(e){return r(!1,"Failed to update user: ".concat(e)),Promise.resolve(!1)})]}})})},function(){return r(!1,"Failed to update user. An unexpected error occured."),Promise.resolve(!1)})]})})},e.prototype.shutdown=function(){var e=this;this._errorBoundary._swallow("shutdown",function(){e._logger.shutdown()})},e.prototype.getStableID=function(){var e=this;return this._errorBoundary._capture("getStableID",function(){return e._identity._statsigMetadata.stableID},function(){return""})},e.prototype.initializeCalled=function(){return this._initCalled},e.prototype.overrideGate=function(e,t){this._setOverride("gates",e,t)},e.prototype.overrideConfig=function(e,t){this._setOverride("configs",e,t)},e.prototype.overrideLayer=function(e,t){this._setOverride("layers",e,t)},e.prototype.setOverrides=function(e){var t=this;this._errorBoundary._swallow("setOverrides",function(){t._overrides=null!=e?e:(0,E.makeEmptyOverrides)(),(0,E.saveOverridesToLocalStorage)(t._overrides)})},e.prototype.getOverrides=function(){var e=this;return this._errorBoundary._capture("getOverrides",function(){return e._overrides},function(){return(0,E.makeEmptyOverrides)()})},e.prototype._delayedSetup=function(){var e=this;this._errorBoundary._swallow("delayedSetup",function(){e._identity.saveStableID(),e._logger.sendSavedRequests().then(function(){})})},e.prototype._normalizeUser=function(e){var t={};try{t=JSON.parse(JSON.stringify(e))}catch(e){throw new h.StatsigInvalidArgumentError("User object must be convertable to JSON string.")}return null!=this._options.environment&&(t=n(n({},t),{statsigEnvironment:this._options.environment})),t},e.prototype._ensureStoreLoaded=function(){if(!this._store.isLoaded())throw new h.StatsigUninitializedError},e.prototype._getEvaluationDetailsForError=function(){return{time:Date.now(),reason:v.EvaluationReason.Error}},e.prototype._fetchAndSaveValues=function(e,t){return void 0===t&&(t=this._options.initTimeoutMs),a(this,void 0,void 0,function(){var r,n,i=this;return l(this,function(s){return r=null,r=this._store.getLastUpdateTime(e),n=this._store.getPreviousDerivedFields(e),[2,this._network.fetchValues(e,r,t,n).eventually(function(t){var r;(0,b.verifySDKKeyUsed)(t,null!==(r=i._sdkKey)&&void 0!==r?r:"",i._errorBoundary)&&(null==t?void 0:t.has_updates)&&i._store.save(e,t,!1)}).then(function(t){return a(i,void 0,void 0,function(){var r=this;return l(this,function(n){return[2,this._errorBoundary._swallow("fetchAndSaveValues",function(){return a(r,void 0,void 0,function(){var r;return l(this,function(n){switch(n.label){case 0:if(!(0,b.verifySDKKeyUsed)(t,null!==(r=this._sdkKey)&&void 0!==r?r:"",this._errorBoundary))return[2];if(!(null==t?void 0:t.has_updates))return[3,2];return[4,this._store.save(e,t)];case 1:return n.sent(),[3,3];case 2:(null==t?void 0:t.is_no_content)&&this._store.setEvaluationReason(v.EvaluationReason.NetworkNotModified),n.label=3;case 3:return[2]}})})})]})})})]})})},e.prototype._checkGateImpl=function(e,t){var r=this;return this._errorBoundary._capture(t,function(){if("boolean"==typeof r._overrides.gates[e])return r._overrides.gates[e];var n=r._getGateFromStore(e);return"checkGate"===t&&r._logGateExposureImpl(e,n),!0===n.gate.value},function(){return!1})},e.prototype._getGateFromStore=function(e){if(this._ensureStoreLoaded(),"string"!=typeof e||0===e.length)throw new h.StatsigInvalidArgumentError("Must pass a valid string as the gateName.");return this._store.checkGate(e)},e.prototype._logGateExposureImpl=function(e,t){var r,n=null!=t?t:this._getGateFromStore(e),i=n.gate;this._logger.logGateExposure(this._identity._user,e,i.value,i.rule_id,this._store.mapExposures(null!==(r=i.secondary_exposures)&&void 0!==r?r:[]),n.evaluationDetails,!t,this._store.getBootstrapMetadata())},e.prototype._getConfigImpl=function(e,t){var r=this;return this._errorBoundary._capture(t,function(){if(r._overrides.configs[e])return new c.default(e,r._overrides.configs[e],"local_override",{reason:v.EvaluationReason.LocalOverride,time:Date.now()});var n=r._getConfigFromStore(e);return"getConfig"===t&&r._logConfigExposureImpl(e,n),n},function(){return r._getEmptyConfig(e)})},e.prototype._getConfigFromStore=function(e){if(this._ensureStoreLoaded(),"string"!=typeof e||0===e.length)throw new h.StatsigInvalidArgumentError("Must pass a valid string as the configName.");return this._store.getConfig(e)},e.prototype._logConfigExposureImpl=function(e,t){var r=null!=t?t:this._getConfigFromStore(e);this._logger.logConfigExposure(this._identity._user,e,r._ruleID,r._secondaryExposures,r._evaluationDetails,!t,this._store.getBootstrapMetadata())},e.prototype._getLayerImpl=function(e,t){var r=this;return this._errorBoundary._capture(t,function(){if(r._overrides.layers[e])return p.default._create(e,r._overrides.layers[e],"local_override",{reason:v.EvaluationReason.LocalOverride,time:Date.now()});var n="getLayer"===t?r._logLayerParameterExposureForLayer:null;return r._getLayerFromStore(n,e)},function(){return p.default._create(e,{},"",r._getEvaluationDetailsForError())})},e.prototype._getLayerFromStore=function(e,t){if(this._ensureStoreLoaded(),"string"!=typeof t||0===t.length)throw new h.StatsigInvalidArgumentError("Must pass a valid string as the layerName.");return this._store.getLayer(e,t)},e.prototype._getEmptyConfig=function(e){return new c.default(e,{},"",this._getEvaluationDetailsForError())},e.prototype._setOverride=function(e,t,r){null==r?delete this._overrides[e][t]:this._overrides[e][t]=r,this.setOverrides(this._overrides)},e}();t.default=A},"./node_modules/statsig-js-lite/dist/StatsigIdentity.js":function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r("./node_modules/statsig-js-lite/dist/utils/Constants.js"),s=r("./node_modules/statsig-js-lite/dist/utils/Hashing.js"),o=n(r("./node_modules/statsig-js-lite/dist/utils/StatsigLocalStorage.js")),a=r("./node_modules/statsig-js-lite/dist/SDKVersion.js"),l=function(){function e(e,t,r){this._sdkType="js-lite",this._sdkKey=e,this._user=t,this._sdkVersion=a.version;var n,s=r;s=null!==(n=null!=s?s:o.default.getItem(i.STATSIG_STABLE_ID_KEY))&&void 0!==n?n:this._getUUID(),this._statsigMetadata={stableID:s,sdkType:this._sdkType,sdkVersion:this._sdkVersion}}return e.prototype.saveStableID=function(){null!=this._statsigMetadata.stableID&&o.default.setItem(i.STATSIG_STABLE_ID_KEY,this._statsigMetadata.stableID)},e.prototype.getUserCacheKey=function(){return(0,s.getUserCacheKey)(this._user)},e.prototype._getUUID=function(){for(var e="",t=0;t<32;t++){(8===t||12===t||16===t||20===t)&&(e+="-");var r=16*Math.random()|0;12===t?e+="4":16===t?e+=(3&r|8).toString(16):e+=r.toString(16)}return e},e}();t.default=l},"./node_modules/statsig-js-lite/dist/StatsigLogger.js":function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(r)throw TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=s(r("./node_modules/statsig-js-lite/dist/LogEvent.js")),a=r("./node_modules/statsig-js-lite/dist/StatsigNetwork.js"),l=r("./node_modules/statsig-js-lite/dist/utils/Constants.js"),u=s(r("./node_modules/statsig-js-lite/dist/utils/StatsigLocalStorage.js")),c="statsig::",d=c+"config_exposure",h=c+"layer_exposure",p=c+"gate_exposure",f=c+"log_event_failed",m=c+"default_value_type_mismatch",g=function(){function e(e,t,r,n){var i=this;this._failedLogEventCount=0,this.logConfigDefaultValueFallback=function(e,t,r){var n=(0,o.default)(m,e,i._identity._statsigMetadata,t,r);i.log(n),i._loggedErrors.add(t)},this._options=e,this._identity=t,this._network=r,this._errorBoundary=n,this._queue=[],this._flushInterval=null,this._loggedErrors=new Set,this._failedLogEvents=[],this._exposureDedupeKeys={},this._failedLogEventCount=0,this._init()}return e.prototype.log=function(e){if(!this._options.disableAllLogging){try{if(!this._options.disableCurrentPageLogging&&"undefined"!=typeof window&&null!=window&&"object"==typeof window.location&&"string"==typeof window.location.href){var t=window.location.href.split(/[?#]/);(null==t?void 0:t.length)>0&&(e.statsigMetadata.currentPage=t[0])}}catch(e){}this._queue.push(e),this._queue.length>=this._options.loggingBufferMaxSize&&this.flush()}},e.prototype.resetDedupeKeys=function(){this._exposureDedupeKeys={}},e.prototype.logGateExposure=function(e,t,r,n,i,s,a,l){var u=t+String(r)+n+s.reason;if(this._shouldLogExposure(u)){var c={gate:t,gateValue:String(r),ruleID:n,reason:s.reason,time:s.time};a&&(c.isManualExposure="true"),null!=l&&(c.bootstrapMetadata=l);var d=(0,o.default)(p,e,this._identity._statsigMetadata,null,c,i);this.log(d)}},e.prototype.logConfigExposure=function(e,t,r,n,i,s,a){var l=t+r+i.reason;if(this._shouldLogExposure(l)){var u={config:t,ruleID:r,reason:i.reason,time:i.time};s&&(u.isManualExposure="true"),null!=a&&(u.bootstrapMetadata=a);var c=(0,o.default)(d,e,this._identity._statsigMetadata,null,u,n);this.log(c)}},e.prototype.logLayerExposure=function(e,t,r,n,i,s,a,l,u,c){var d=[t,r,i,s,String(a),l.reason].join("|");if(this._shouldLogExposure(d)){var p={config:t,ruleID:r,allocatedExperiment:i,parameterName:s,isExplicitParameter:String(a),reason:l.reason,time:l.time};u&&(p.isManualExposure="true"),null!=c&&(p.bootstrapMetadata=c);var f=(0,o.default)(h,e,this._identity._statsigMetadata,null,p,n);this.log(f)}},e.prototype.shutdown=function(){this._flushInterval&&(clearInterval(this._flushInterval),this._flushInterval=null),this.flush(!0)},e.prototype.flush=function(e){var t=this;if(void 0===e&&(e=!1),0!==this._queue.length){var r=this._identity._statsigMetadata,s=this._queue;if(this._queue=[],e&&!this._network.supportsKeepalive()&&"undefined"!=typeof navigator&&null!=navigator&&navigator.sendBeacon){this._network.sendLogBeacon({events:s,statsigMetadata:r})||(this._queue=s.concat(this._queue),this._queue.length>0&&(this._addFailedRequest({events:this._queue,statsigMetadata:r,time:Date.now()}),this._queue=[]),this._saveFailedRequests());return}var o=this;this._network.postToEndpoint(a.StatsigEndpoint.Rgstr,{events:s,statsigMetadata:r},3,1e3,0,e).then(function(e){if(!e.ok)throw e}).catch(function(e){"function"==typeof e.text?e.text().then(function(r){t._errorBoundary._logError(f,e,function(){return n(t,void 0,void 0,function(){return i(this,function(e){return[2,{eventCount:s.length,error:r}]})})})}):t._errorBoundary._logError(f,e,function(){return n(t,void 0,void 0,function(){return i(this,function(t){return[2,{eventCount:s.length,error:e.message}]})})}),o._newFailedRequest(f,s)}).finally(function(){return n(t,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:if(!e)return[3,2];return this._queue.length>0&&(this._addFailedRequest({events:this._queue,statsigMetadata:r,time:Date.now()}),this._queue=[]),[4,o._saveFailedRequests()];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}},e.prototype.sendSavedRequests=function(){return n(this,void 0,void 0,function(){var e,t,r,n,s,o,c,d,h=this;return i(this,function(i){if(t=!1,null==(e=u.default.getItem(l.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY)))return this._clearLocalStorageRequests(),[2];e.length>1024e3&&(t=!0),r=[];try{for(o=0,r=JSON.parse(e),n=function(e){null!=e&&e.events&&Array.isArray(e.events)&&s._network.postToEndpoint(a.StatsigEndpoint.Rgstr,e).then(function(e){if(!e.ok)throw Error(e.status+"")}).catch(function(r){t||h._addFailedRequest(e)})},s=this,c=r;o<c.length;o++)d=c[o],n(d)}catch(e){}finally{this._clearLocalStorageRequests()}return[2]})})},e.prototype._init=function(){var e=this;if("undefined"!=typeof window&&"function"==typeof window.addEventListener&&(window.addEventListener("blur",function(){return e.flush(!0)}),window.addEventListener("beforeunload",function(){return e.flush(!0)}),window.addEventListener("load",function(){setTimeout(function(){return e.flush()},100),setTimeout(function(){return e.flush()},1e3)})),"undefined"!=typeof document&&"function"==typeof document.addEventListener&&document.addEventListener("visibilitychange",function(){e.flush("visible"!==document.visibilityState)}),(this._options.ignoreWindowUndefined||"undefined"!=typeof window&&null!=window)&&!this._options.localMode){var t=this;this._flushInterval=setInterval(function(){t.flush()},this._options.loggingIntervalMillis),setTimeout(function(){return e.flush()},100),setTimeout(function(){return e.flush()},1e3)}},e.prototype._shouldLogExposure=function(e){var t=this._exposureDedupeKeys[e],r=Date.now();return null==t?(this._exposureDedupeKeys[e]=r,!0):!(t>=r-6e5)&&(this._exposureDedupeKeys[e]=r,!0)},e.prototype._saveFailedRequests=function(){return n(this,void 0,void 0,function(){var e;return i(this,function(t){if(this._failedLogEvents.length>0){if((e=JSON.stringify(this._failedLogEvents)).length>1024e3)return this._clearLocalStorageRequests(),[2];u.default.setItem(l.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY,e)}return[2]})})},e.prototype._addFailedRequest=function(e){if(!(e.time<Date.now()-432e6)&&!(this._failedLogEvents.length>100)){var t=e.events.length;this._failedLogEventCount+t>1e3||(this._failedLogEvents.push(e),this._failedLogEventCount+=t)}},e.prototype._clearLocalStorageRequests=function(){u.default.removeItem(l.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY)},e.prototype._newFailedRequest=function(e,t){this._loggedErrors.has(e)||(this._loggedErrors.add(e),this._failedLogEvents.push({events:t,statsigMetadata:this._identity._statsigMetadata,time:Date.now()}),this._saveFailedRequests().then(function(){}))},e}();t.default=g},"./node_modules/statsig-js-lite/dist/StatsigNetwork.js":function(e,t){"use strict";var r,n,i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(r)throw TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigEndpoint=void 0,(r=n=t.StatsigEndpoint||(t.StatsigEndpoint={})).Initialize="initialize",r.Rgstr="rgstr",r.LogEventBeacon="log_event_beacon";var o=function(){function e(e,t,r){this.retryCodes={408:!0,500:!0,502:!0,503:!0,504:!0,522:!0,524:!0,599:!0},this.canUseKeepalive=!1,this._options=e,this._identity=t,this._errorBoundary=r,this.leakyBucket={},this._init()}return e.prototype.fetchValues=function(e,t,r,i){var s={user:e,statsigMetadata:this._identity._statsigMetadata,sinceTime:null!=t?t:void 0,hash:"djb2",previousDerivedFields:i};return this._postWithTimeout(n.Initialize,s,r,3)},e.prototype.sendLogBeacon=function(e){if(this._options.localMode)return!0;var t=new URL(this._options.eventLoggingApi+n.LogEventBeacon);t.searchParams.append("k",this._identity._sdkKey),e.clientTime=Date.now()+"";var r=null;try{r=JSON.stringify(e)}catch(e){return!1}return navigator.sendBeacon(t.toString(),r)},e.prototype.postToEndpoint=function(e,t,r,o,a,l){return void 0===r&&(r=0),void 0===o&&(o=1e3),void 0===a&&(a=0),void 0===l&&(l=!1),i(this,void 0,void 0,function(){var u,c,d,h,p,f=this;return s(this,function(m){return this._options.localMode?[2,Promise.reject("no network requests in localMode")]:"function"!=typeof fetch?[2,Promise.reject("fetch is not defined")]:"undefined"!=typeof window||this._options.ignoreWindowUndefined?(u=([n.Initialize].includes(e)?this._options.api:a>0?this._options.eventLoggingApiForRetries:this._options.eventLoggingApi)+e,null!=(c=this.leakyBucket[u])&&c>=30)?[2,Promise.reject(Error("Request failed because you are making the same request too frequently."))]:(null==c?this.leakyBucket[u]=1:this.leakyBucket[u]=c+1,d=JSON.stringify(t),h=this._identity._statsigMetadata,p={method:"POST",body:d,headers:{"Content-type":"application/json; charset=UTF-8","STATSIG-API-KEY":this._identity._sdkKey,"STATSIG-CLIENT-TIME":Date.now()+"","STATSIG-SDK-TYPE":h.sdkType,"STATSIG-SDK-VERSION":h.sdkVersion}},this.canUseKeepalive&&l&&(p.keepalive=!0),[2,fetch(u,p).then(function(e){return i(f,void 0,void 0,function(){var t,n,i;return s(this,function(s){switch(s.label){case 0:if(!e.ok)return[3,4];if(t=e,204!==e.status)return[3,1];return t.data={has_updates:!1,is_no_content:!0},[3,3];case 1:return[4,e.text()];case 2:n=s.sent(),t.data=JSON.parse(n),s.label=3;case 3:return[2,Promise.resolve(t)];case 4:return this.retryCodes[e.status]||(r=0),[4,e.text()];case 5:return i=s.sent(),[2,Promise.reject(Error("".concat(e.status,": ").concat(i)))]}})})}).catch(function(n){return r>0?new Promise(function(n,i){setTimeout(function(){f.leakyBucket[u]=Math.max(f.leakyBucket[u]-1,0),f.postToEndpoint(e,t,r-1,2*o,a+1,l).then(n).catch(i)},o)}):Promise.reject(n)}).finally(function(){f.leakyBucket[u]=Math.max(f.leakyBucket[u]-1,0)})]):[2,Promise.reject("window is not defined")]})})},e.prototype.supportsKeepalive=function(){return this.canUseKeepalive},e.prototype._init=function(){if(!this._options.disableNetworkKeepalive)try{this.canUseKeepalive="keepalive"in new Request("")}catch(e){}},e.prototype._postWithTimeout=function(e,t,r,n,o){var a=this;void 0===r&&(r=0),void 0===n&&(n=0),void 0===o&&(o=1e3);var l=!1,u=null,c=null,d=[];0!=r&&(u=new Promise(function(e,t){setTimeout(function(){l=!0,t(Error("The initialization timeout of ".concat(r,"ms has been hit before the network request has completed.")))},r)}));var h=this.postToEndpoint(e,t,n,o).then(function(r){if(!r.ok)return Promise.reject(Error("Request to ".concat(e," failed with status ").concat(r.status)));if("object"!=typeof r.data){var u=Error("Request to ".concat(e," received invalid response type. Expected 'object' but got '").concat(typeof r.data,"'"));return a._errorBoundary._logError("postWithTimeoutInvalidRes",u,function(){return i(a,void 0,void 0,function(){return s(this,function(i){return[2,this._getErrorData(e,t,n,o,r)]})})}),Promise.reject(u)}var h=r.data;return a._errorBoundary._capture("postWithTimeout",function(){return i(a,void 0,void 0,function(){return s(this,function(e){return c=h,l&&(d.forEach(function(e){return e(h)}),d=[]),[2,Promise.resolve(h)]})})},function(){return Promise.resolve({})},function(){return i(a,void 0,void 0,function(){return s(this,function(i){return[2,this._getErrorData(e,t,n,o,r)]})})})}).catch(function(e){return Promise.reject(e)}),p=u?Promise.race([h,u]):h;return p.eventually=function(e){return l&&c?e(c):d.push(e),p},p},e.prototype._getErrorData=function(e,t,r,n,o){var a;return i(this,void 0,void 0,function(){var i;return s(this,function(s){try{return i={},(null!==(a=o.headers)&&void 0!==a?a:[]).forEach(function(e,t){i[t]=e}),[2,{responseInfo:{headers:i,status:o.status,statusText:o.statusText,type:o.type,url:o.url,redirected:o.redirected,bodySnippet:o.data?JSON.stringify(o.data).slice(0,500):null},requestInfo:{endpointName:e,bodySnippet:JSON.stringify(t).slice(0,500),retries:r,backoff:n}}]}catch(e){return[2,{statusText:"statsig::failed to extract extra data"}]}return[2]})})},e}();t.default=o},"./node_modules/statsig-js-lite/dist/StatsigSDKOptions.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INIT_TIMEOUT_DEFAULT_MS=void 0,t.INIT_TIMEOUT_DEFAULT_MS=3e3;var r=function(){function e(e){null==e&&(e={});var r,n,i,s,o,a,l,u,c,d,h,p,f,m,g,y,v=null!==(r=e.api)&&void 0!==r?r:"https://featuregates.org/v1/";this.api=v.endsWith("/")?v:v+"/",this.disableCurrentPageLogging=null!==(n=e.disableCurrentPageLogging)&&void 0!==n&&n,this.environment=null!==(i=e.environment)&&void 0!==i?i:null,this.loggingIntervalMillis=this.normalizeNumberInput(e.loggingIntervalMillis,{default:1e4,min:1e3,max:6e4}),this.loggingBufferMaxSize=this.normalizeNumberInput(e.loggingBufferMaxSize,{default:100,min:2,max:500}),this.disableNetworkKeepalive=null!==(s=e.disableNetworkKeepalive)&&void 0!==s&&s,this.overrideStableID=null!==(o=e.overrideStableID)&&void 0!==o?o:null,this.localMode=null!==(a=e.localMode)&&void 0!==a&&a,this.initTimeoutMs=e.initTimeoutMs&&e.initTimeoutMs>=0?e.initTimeoutMs:t.INIT_TIMEOUT_DEFAULT_MS,this.disableErrorLogging=null!==(l=e.disableErrorLogging)&&void 0!==l&&l,this.disableAutoMetricsLogging=null!==(u=e.disableAutoMetricsLogging)&&void 0!==u&&u,this.initializeValues=null!==(c=e.initializeValues)&&void 0!==c?c:null;var b=null!==(h=null!==(d=e.eventLoggingApi)&&void 0!==d?d:e.api)&&void 0!==h?h:"https://events.statsigapi.net/v1/";this.eventLoggingApi=b.endsWith("/")?b:b+"/";var _=null!==(p=e.eventLoggingApiForRetries)&&void 0!==p?p:b;this.eventLoggingApiForRetries=_.endsWith("/")?_:_+"/",this.disableLocalStorage=null!==(f=e.disableLocalStorage)&&void 0!==f&&f,this.ignoreWindowUndefined=null!==(m=null==e?void 0:e.ignoreWindowUndefined)&&void 0!==m&&m,this.updateUserCompletionCallback=null!==(g=null==e?void 0:e.updateUserCompletionCallback)&&void 0!==g?g:null,this.disableAllLogging=null!==(y=null==e?void 0:e.disableAllLogging)&&void 0!==y&&y}return e.prototype.normalizeNumberInput=function(e,t){return null==e?t.default:Math.max(Math.min(e,t.max),t.min)},e}();t.default=r},"./node_modules/statsig-js-lite/dist/StatsigStore.js":function(e,t,r){"use strict";var n,i,s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(r)throw TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EvaluationReason=void 0;var l=a(r("./node_modules/statsig-js-lite/dist/DynamicConfig.js")),u=a(r("./node_modules/statsig-js-lite/dist/Layer.js")),c=a(r("./node_modules/statsig-js-lite/dist/utils/BootstrapValidator.js")),d=r("./node_modules/statsig-js-lite/dist/utils/Constants.js"),h=r("./node_modules/statsig-js-lite/dist/utils/Hashing.js"),p=a(r("./node_modules/statsig-js-lite/dist/utils/StatsigLocalStorage.js"));(n=i=t.EvaluationReason||(t.EvaluationReason={})).Network="Network",n.Bootstrap="Bootstrap",n.InvalidBootstrap="InvalidBootstrap",n.Cache="Cache",n.Unrecognized="Unrecognized",n.Uninitialized="Uninitialized",n.Error="Error",n.NetworkNotModified="NetworkNotModified",n.LocalOverride="LocalOverride";var f=function(){function e(e,t,r){this._identity=e,this._onDefaultValueFallback=t,this._userCacheKey=this._identity.getUserCacheKey(),this._values={},this._userValues=this._getDefaultUserCacheValues(),this._loaded=!1,this._reason=i.Uninitialized,r?this.bootstrap(r):this._loadFromLocalStorage()}return e.prototype.updateUser=function(){return this._userCacheKey=this._identity.getUserCacheKey(),this._setUserValueFromCache()},e.prototype.bootstrap=function(e){var t,r,n,s,o,a,l,u=this._identity.getUserCacheKey(),d=this._identity._user,h=c.default.isValid(d,e)?i.Bootstrap:i.InvalidBootstrap;this._loaded=!0;try{this._userValues.feature_gates=null!==(t=e.feature_gates)&&void 0!==t?t:{},this._userValues.dynamic_configs=null!==(r=e.dynamic_configs)&&void 0!==r?r:{},this._userValues.layer_configs=null!==(n=e.layer_configs)&&void 0!==n?n:{},this._userValues.evaluation_time=Date.now(),this._userValues.time=null!==(s=e.time)&&void 0!==s?s:Date.now(),this._userValues.exposures=null!==(o=e.exposures)&&void 0!==o?o:[],this._userValues.hash_used=null!==(a=e.hash_used)&&void 0!==a?a:"djb2",this._values[u]=this._userValues,this._reason=h;var p=null!==(l=e.sdkInfo)&&void 0!==l?l:e.sdk_info;this._userValues.bootstrapMetadata={},null!=p&&(this._userValues.bootstrapMetadata.generatorSDKInfo=p),null!=e.user&&(this._userValues.bootstrapMetadata.user=e.user),null!=e.time&&(this._userValues.bootstrapMetadata.lcut=e.time)}catch(e){return}},e.prototype.getBootstrapMetadata=function(){var e;return null!==(e=this._userValues.bootstrapMetadata)&&void 0!==e?e:null},e.prototype.isLoaded=function(){return this._loaded},e.prototype.getLastUpdateTime=function(e){var t=(0,h.djb2HashForObject)(e);return this._userValues.user_hash==t?this._userValues.time:null},e.prototype.getPreviousDerivedFields=function(e){var t=(0,h.djb2HashForObject)(e);if(this._userValues.user_hash==t)return this._userValues.derived_fields},e.prototype.setEvaluationReason=function(e){this._reason=e},e.prototype.save=function(e,t,r){return void 0===r&&(r=!0),s(this,void 0,void 0,function(){var n,s,a,l;return o(this,function(o){switch(o.label){case 0:return n=(0,h.getUserCacheKey)(e),s=t,this._mergeInitializeResponseIntoUserMap(s,this._values,n,e,function(e){return e}),r&&(a=this._values[n])&&n&&n==this._userCacheKey&&(this._userValues=a,this._reason=i.Network),l=this,[4,this._writeValuesToStorage(this._values)];case 1:return l._values=o.sent(),[2]}})})},e.prototype.checkGate=function(e){var t,r,n=(0,h.getHashValue)(e,this._userValues.hash_used),i={name:e,value:!1,rule_id:"",secondary_exposures:[]},s=null===(t=this._userValues)||void 0===t?void 0:t.feature_gates[n];return s&&(i=s),i.secondary_exposures=this.mapExposures(null!==(r=i.secondary_exposures)&&void 0!==r?r:[]),{evaluationDetails:this._getEvaluationDetails(null!=s),gate:i}},e.prototype.mapExposures=function(e){var t=this;return e.map(function(e){var r;return"string"==typeof e?(null!==(r=t._userValues.exposures)&&void 0!==r?r:{})[e]:e})},e.prototype.getConfig=function(e){var t,r,n,i,s=(0,h.getHashValue)(e,this._userValues.hash_used);if((null===(t=this._userValues)||void 0===t?void 0:t.dynamic_configs[s])!=null){var o=null===(r=this._userValues)||void 0===r?void 0:r.dynamic_configs[s];i=this._getEvaluationDetails(!0),n=this._createDynamicConfig(e,o,i)}else i=this._getEvaluationDetails(!1),n=new l.default(e,{},"",i);return n},e.prototype.getLayer=function(e,t){var r,n,i,s,o,a=this._getLatestValue(t,"layer_configs"),l=this._getEvaluationDetails(null!=a);return u.default._create(t,null!==(r=null==a?void 0:a.value)&&void 0!==r?r:{},null!==(n=null==a?void 0:a.rule_id)&&void 0!==n?n:"",l,e,this.mapExposures(null!==(i=null==a?void 0:a.secondary_exposures)&&void 0!==i?i:[]),this.mapExposures(null!==(s=null==a?void 0:a.undelegated_secondary_exposures)&&void 0!==s?s:[]),null!==(o=null==a?void 0:a.allocated_experiment_name)&&void 0!==o?o:"",null==a?void 0:a.explicit_parameters)},e.prototype.getGlobalEvaluationDetails=function(){var e,t;return{reason:null!==(e=this._reason)&&void 0!==e?e:i.Uninitialized,time:null!==(t=this._userValues.evaluation_time)&&void 0!==t?t:0}},e.prototype._loadFromLocalStorage=function(){this._parseCachedValues(p.default.getItem(d.INTERNAL_STORE_KEY)),this._loaded=!0},e.prototype._parseCachedValues=function(e){try{this._values=e?JSON.parse(e):this._values,this._setUserValueFromCache()}catch(e){this._removeFromStorage(d.INTERNAL_STORE_KEY)}},e.prototype._setUserValueFromCache=function(){var e,t=this._values[this._userCacheKey];return null==t?(this._resetUserValues(),this._reason=i.Uninitialized,null):(this._userValues=t,this._reason=i.Cache,null!==(e=t.evaluation_time)&&void 0!==e?e:0)},e.prototype._removeFromStorage=function(e){p.default.removeItem(e)},e.prototype._mergeInitializeResponseIntoUserMap=function(e,t,r,n,i){if(r){var s=this._convertAPIDataToCacheValues(e,r);if(e.has_updates&&e.time){var o=(0,h.djb2HashForObject)(n);s.user_hash=o}t[r]=i(s,r)}},e.prototype._getDefaultUserCacheValues=function(){return{feature_gates:{},layer_configs:{},dynamic_configs:{},time:0,evaluation_time:0,has_updates:!1}},e.prototype._writeValuesToStorage=function(e){return s(this,void 0,void 0,function(){return o(this,function(t){return e=Object.fromEntries(Object.entries(e).sort(function(e,t){var r,n,i=e[1],s=t[1];return null==i?1:null==s?-1:(null!==(r=null==s?void 0:s.evaluation_time)&&void 0!==r?r:null==s?void 0:s.time)-(null!==(n=null==i?void 0:i.evaluation_time)&&void 0!==n?n:null==i?void 0:i.time)}).slice(0,10)),p.default.setItem(d.INTERNAL_STORE_KEY,JSON.stringify(e)),[2,e]})})},e.prototype._getLatestValue=function(e,t){var r,n,i,s,o,a=(0,h.getHashValue)(e,this._userValues.hash_used);return null!==(i=null===(n=null===(r=this._userValues)||void 0===r?void 0:r[t])||void 0===n?void 0:n[a])&&void 0!==i?i:null===(o=null===(s=this._userValues)||void 0===s?void 0:s[t])||void 0===o?void 0:o[e]},e.prototype._createDynamicConfig=function(e,t,r){var n,i,s,o;return new l.default(e,null!==(n=null==t?void 0:t.value)&&void 0!==n?n:{},null!==(i=null==t?void 0:t.rule_id)&&void 0!==i?i:"",r,this.mapExposures(null!==(s=null==t?void 0:t.secondary_exposures)&&void 0!==s?s:[]),null!==(o=null==t?void 0:t.allocated_experiment_name)&&void 0!==o?o:"",this._makeOnConfigDefaultValueFallback(this._identity._user))},e.prototype._getEvaluationDetails=function(e,t){var r;return e?{reason:this._reason,time:null!==(r=this._userValues.evaluation_time)&&void 0!==r?r:Date.now()}:{reason:null!=t?t:this._reason==i.Uninitialized?i.Uninitialized:i.Unrecognized,time:Date.now()}},e.prototype._resetUserValues=function(){this._userValues=this._getDefaultUserCacheValues()},e.prototype._convertAPIDataToCacheValues=function(e,t){return{feature_gates:e.feature_gates,layer_configs:e.layer_configs,dynamic_configs:e.dynamic_configs,time:null==e.time||isNaN(e.time)?0:e.time,evaluation_time:Date.now(),derived_fields:e.derived_fields,hash_used:e.hash_used}},e.prototype._makeOnConfigDefaultValueFallback=function(e){var t=this;return function(r,n,i,s){t.isLoaded()&&t._onDefaultValueFallback(e,"Parameter ".concat(n," is a value of type ").concat(s,".\n          Returning requested defaultValue type ").concat(i),{name:r._name,ruleID:r._ruleID,parameter:n,defaultValueType:i,valueType:s})}},e}();t.default=f},"./node_modules/statsig-js-lite/dist/index.js":function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(r)throw TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EvaluationReason=t.Layer=t.DynamicConfig=void 0;var o=r("./node_modules/statsig-js-lite/dist/Errors.js"),a=s(r("./node_modules/statsig-js-lite/dist/StatsigClient.js")),l=r("./node_modules/statsig-js-lite/dist/StatsigStore.js"),u=r("./node_modules/statsig-js-lite/dist/DynamicConfig.js");Object.defineProperty(t,"DynamicConfig",{enumerable:!0,get:function(){return s(u).default}});var c=r("./node_modules/statsig-js-lite/dist/Layer.js");Object.defineProperty(t,"Layer",{enumerable:!0,get:function(){return s(c).default}});var d=r("./node_modules/statsig-js-lite/dist/StatsigStore.js");Object.defineProperty(t,"EvaluationReason",{enumerable:!0,get:function(){return d.EvaluationReason}});var h=function(){function e(){}return e.initialize=function(t,r,s){var o;return n(this,void 0,void 0,function(){var n;return i(this,function(i){return n=null!==(o=e.instance)&&void 0!==o?o:new a.default(t,r,s),e.instance||(e.instance=n),[2,n.initializeAsync()]})})},e.setInitializeValues=function(t){e._getClientX().setInitializeValues(t)},e.checkGate=function(t){return e._getClientX().checkGate(t)},e.checkGateWithExposureLoggingDisabled=function(t){return e._getClientX().checkGateWithExposureLoggingDisabled(t)},e.manuallyLogGateExposure=function(t){e._getClientX().logGateExposure(t)},e.getConfig=function(t){return e._getClientX().getConfig(t)},e.getConfigWithExposureLoggingDisabled=function(t){return e._getClientX().getConfigWithExposureLoggingDisabled(t)},e.manuallyLogConfigExposure=function(t){e._getClientX().logConfigExposure(t)},e.getExperiment=function(t){return e._getClientX().getExperiment(t)},e.getExperimentWithExposureLoggingDisabled=function(t){return e._getClientX().getExperimentWithExposureLoggingDisabled(t)},e.manuallyLogExperimentExposure=function(t){e._getClientX().logExperimentExposure(t)},e.getLayer=function(t){return e._getClientX().getLayer(t)},e.getLayerWithExposureLoggingDisabled=function(t){return e._getClientX().getLayerWithExposureLoggingDisabled(t)},e.manuallyLogLayerParameterExposure=function(t,r){e._getClientX().logLayerParameterExposure(t,r)},e.logEvent=function(t,r,n){return void 0===r&&(r=null),void 0===n&&(n=null),e._getClientX().logEvent(t,r,n)},e.updateUser=function(t){return e._getClientX().updateUser(t)},e.updateUserWithValues=function(t,r){return e._getClientX().updateUserWithValues(t,r)},e.shutdown=function(){e._getClientX().shutdown(),e.instance=null},e.overrideGate=function(t,r){e._getClientX().overrideGate(t,r)},e.overrideConfig=function(t,r){e._getClientX().overrideConfig(t,r)},e.overrideLayer=function(t,r){e._getClientX().overrideLayer(t,r)},e.setOverrides=function(t){e._getClientX().setOverrides(t)},e.getOverrides=function(){return e._getClientX().getOverrides()},e.getStableID=function(){return e._getClientX().getStableID()},e.getEvaluationDetails=function(){var t,r;return null!==(r=null===(t=e.instance)||void 0===t?void 0:t.getEvaluationDetails())&&void 0!==r?r:{reason:l.EvaluationReason.Uninitialized,time:0}},e.initializeCalled=function(){return null!=e.instance&&e.instance.initializeCalled()},e._getClientX=function(){if(!e.instance)throw new o.StatsigUninitializedError;return e.instance},e.instance=null,e}();t.default=h},"./node_modules/statsig-js-lite/dist/utils/BootstrapValidator.js":function(e,t){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.isValid=function(t,r){try{var n=r.evaluated_keys;if(!n){var i=r.user;i&&((n={}).userID=i.userID,i.customIDs&&(n.customIDs=i.customIDs))}if(!n||"object"!=typeof n)return!0;var s=this.copyObject(n),o=null==t?null:this.copyObject(t);return e.validate(s,o)&&e.validate(o,s)}catch(e){}return!0},e.validate=function(e,t){if(null==e)return null==t;if(null==t)return!1;for(var r=0,n=Object.entries(e);r<n.length;r++){var i=n[r],s=i[0],o=i[1];if("stableID"!==s){if(typeof o!=typeof t[s])return!1;if("string"==typeof o){if(o!==t[s])return!1}else if("object"==typeof o)return this.validate(o,t[s]);else return!1}}return!0},e.copyObject=function(e){if(null==e)return null;var t={};if((null==e?void 0:e.userID)&&(t.userID=null==e?void 0:e.userID),null==e?void 0:e.customIDs){var n=r({},e.customIDs);delete n.stableID,0!==Object.keys(n).length&&(t.customIDs=n)}return t},e}();t.default=n},"./node_modules/statsig-js-lite/dist/utils/Constants.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LOCAL_STORAGE_KEYS=t.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY=t.STATSIG_STABLE_ID_KEY=t.INTERNAL_STORE_KEY=void 0,t.INTERNAL_STORE_KEY="STATSIG_STORE",t.STATSIG_STABLE_ID_KEY="STATSIG_STABLE_ID",t.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY="STATSIG_LOGS",t.LOCAL_STORAGE_KEYS={INTERNAL_STORE_KEY:!0,STATSIG_STABLE_ID_KEY:!0,STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY:!0}},"./node_modules/statsig-js-lite/dist/utils/Hashing.js":(e,t)=>{"use strict";function r(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;return String(t>>>0)}function n(e){if(null==e)return null;var t=Object.keys(e).sort(),r={};return t.forEach(function(t){var i=e[t];i instanceof Object&&(i=n(i)),r[t]=i}),r}Object.defineProperty(t,"__esModule",{value:!0}),t.getUserCacheKey=t.getSortedObject=t.djb2HashForObject=t.getHashValue=t.SimpleHash=void 0,t.SimpleHash=r,t.getHashValue=function(e,t){return"none"===t?e:r(e)},t.djb2HashForObject=function(e){return r(JSON.stringify(n(e)))},t.getSortedObject=n,t.getUserCacheKey=function(e){var t,n="userID:".concat(String(null!==(t=null==e?void 0:e.userID)&&void 0!==t?t:"")),i=null==e?void 0:e.customIDs;if(null!=i)for(var s=0,o=Object.entries(i);s<o.length;s++){var a=o[s],l=a[0],u=a[1];n+=";".concat(l,":").concat(u)}return r(n)}},"./node_modules/statsig-js-lite/dist/utils/ResponseVerification.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.verifySDKKeyUsed=void 0;var n=r("./node_modules/statsig-js-lite/dist/Errors.js"),i=r("./node_modules/statsig-js-lite/dist/utils/Hashing.js");t.verifySDKKeyUsed=function(e,t,r){var s=null==e?void 0:e.hashed_sdk_key_used;return null==s||s===(0,i.SimpleHash)(null!=t?t:"")||(r._logError("fetchAndSaveValues",new n.StatsigSDKKeyMismatchError("The SDK key provided does not match the one used to generate values.")),!1)}},"./node_modules/statsig-js-lite/dist/utils/StatsigLocalStorage.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.getItem=function(e){var t;try{if(this.isStorageAccessible())return window.localStorage.getItem(e)}catch(e){}return null!==(t=this.fallbackSessionCache[e])&&void 0!==t?t:null},e.setItem=function(e,t){try{if(this.isStorageAccessible()){window.localStorage.setItem(e,t);return}}catch(e){}this.fallbackSessionCache[e]=t},e.removeItem=function(e){try{if(this.isStorageAccessible()){window.localStorage.removeItem(e);return}}catch(e){}delete this.fallbackSessionCache[e]},e.isStorageAccessible=function(e){void 0===e&&(e=!1),null==this.canAccessStorageAccessible&&(this.canAccessStorageAccessible="undefined"!=typeof Storage&&"undefined"!=typeof window&&null!=window&&null!=window.localStorage);var t=this.canAccessStorageAccessible;return e?t:!this.disabled&&t},e.disabled=!1,e.fallbackSessionCache={},e.canAccessStorageAccessible=null,e}();t.default=r},"./node_modules/statsig-js-lite/dist/utils/Timing.js":(e,t)=>{"use strict";function r(){return"undefined"!=typeof performance&&performance?0|performance.now():Date.now()}Object.defineProperty(t,"__esModule",{value:!0}),t.difference=t.now=void 0,t.now=r,t.difference=function(e){return r()-e}},"./node_modules/strict-uri-encode/index.js":e=>{"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)},"./packages/browser/index.ts":(e,t,r)=>{"use strict";r.d(t,{Pi:()=>K,oJ:()=>d,IO:()=>a,eO:()=>u,fm:()=>F,Z0:()=>I,ft:()=>V,m0:()=>w,zC:()=>G,H8:()=>g,xl:()=>S,F3:()=>m,oi:()=>D,Ab:()=>U,Cr:()=>M,gm:()=>p,mc:()=>L,lT:()=>h,mU:()=>A,N1:()=>E,aR:()=>O,j9:()=>_,cX:()=>b,nr:()=>y,CI:()=>k,uF:()=>v,ME:()=>c,E4:()=>N,SQ:()=>R});var n=r("./packages/config/index.ts");let i="unknown-browser-version",s=(e,t)=>{let{userAgent:r}=t,n=r.indexOf(e);if(-1!==n){let t=r.substring(n+e.length+1);return t.includes(".")?parseFloat(t.split(".").slice(0,2).join(".")):parseInt(t,10)}return i},o=e=>{if(!e.userAgent.includes("CriOS"))return s("Version",e);{let t=e.userAgent.match(/OS ([0-9]+)_[0-9]+(_[0-9]+)? like Mac OS X/);return t?+t[1]:i}},a=((e,t)=>{let{userAgent:r}=e,n=!!t.documentMode,i=r.includes("Edg/"),s=r.includes("Edge"),o=r.includes("Opera")||r.includes("OPR"),a=r.includes("Vivaldi"),l=r.includes("Firefox"),u=r.includes("UCBrowser"),c=r.includes("SamsungBrowser"),d=r.includes("YaBrowser"),h=r.includes("Chrom")&&!i&&!s&&!o&&!d&&!a&&!c&&!u,p=r.includes("CriOS")||r.includes("Safari")&&!h&&!i&&!s&&!o&&!c&&!u&&!a&&!d;switch(!0){case h:return"chrome";case l:return"firefox";case p:return"safari";case i:return"edg";case s:return"edge-legacy";case n:return"explorer";case o:return"opera";case d:return"yandex";case a:return"vivaldi";case u:return"ucbrowser";case c:return"samsung";default:return"unknown-browser"}})(navigator,document),l=((e,t)=>{switch(e){case"chrome":{let e=s("Chrome",t);return e!==i?e:s("CriOS",t)}case"firefox":return s("Firefox",t);case"safari":return o(t);case"edg":return s("Edg",t);case"edge-legacy":return s("Edge",t);case"opera":return s("OPR",t);case"explorer":{let e=s("MSIE",t);return e!==i?e:s("rv",t)}case"yandex":return s("YaBrowser",t);case"vivaldi":return s("Vivaldi",t);case"samsung":return s("SamsungBrowser",t);case"ucbrowser":return s("UCBrowser",t);default:return i}})(a,navigator),u=`${a}-${l}`,c=(e=>{let{userAgent:t,platform:r}=e,n=r.includes("Win"),i=r.includes("Mac"),s=r.includes("Linux"),o=t.includes("Android"),a=t.includes("iPad"),l=t.includes("iPod"),u=t.includes("iPhone");switch(!0){case n:return"windows";case i:return"mac";case a:return"ipad";case l:return"ipod";case u:return"iphone";case o:return"android";case s:return"linux";default:return"unknown-os"}})(navigator),d=`${a} ${u} ${c}`,h=()=>"explorer"===a,p=()=>"firefox"===a,f=()=>"edg"===a,m=()=>"edge-legacy"===a,g=()=>"chrome"===a,y=()=>"safari"===a,v=()=>"windows"===c,b=()=>"mac"===c,_=()=>"linux"===c,w=()=>"android"===c,C=()=>"ipad"===c,E=()=>"ipod"===c,A=()=>"iphone"===c,O=()=>C()||A()||E(),k=()=>C()||A()||E()||w(),S=()=>n.R0===n.l0.Desktop,I=()=>navigator.language||navigator.browserLanguage||"unknown";var j=r("./node_modules/memoize-one/dist/memoize-one.esm.js"),x=r("./packages/cookies/src/cookies.ts");let T=(0,j.A)(e=>"true"===x.W.get("force_atlassian_embeddedDocument")),P=(0,j.A)(e=>"true"===x.W.get("force_embeddedDocument")||T(e));function D(){return P(document.cookie)||window.top!==window.self}let L=()=>window.devicePixelRatio>1,N=()=>g()||p()||f(),R=()=>g()||p()||y(),M=()=>{if(!D())return!1;let e=new URLSearchParams(window.location.search);return e.has("iframeSource")&&"msteams"===e.get("iframeSource")},U=()=>{if(T(document.cookie))return!0;if(!D())return!1;let e=new URLSearchParams(window.location.search);return e.has("iframeSource")&&"atlassian-smart-link"===e.get("iframeSource")},F=()=>S()||M()||U();function V(){return"ResizeObserver"in window}let B={chrome:125,firefox:115,edg:125,safari:16,opera:109,vivaldi:3};function G(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;return t!==i&&!!Object.prototype.hasOwnProperty.call(B,e)&&t>=B[e]}class K{disconnect(){}observe(){}unobserve(){}}},"./packages/config/index.ts":(e,t,r)=>{"use strict";var n,i;r.d(t,{l0:()=>s,$8:()=>F,qV:()=>L,ad:()=>N,fg:()=>D,R0:()=>a,Nc:()=>R,Jr:()=>et,Xj:()=>C,R4:()=>E,Pf:()=>ei,PI:()=>w,ac:()=>x,Sn:()=>Z,Ov:()=>ee,JR:()=>g,$B:()=>u,CT:()=>l,cZ:()=>j,vT:()=>q,iD:()=>Q,cA:()=>M,lk:()=>y,A5:()=>W,kO:()=>z,Gw:()=>k,_Y:()=>S,dq:()=>I,oO:()=>P,tp:()=>d,l$:()=>h,Jt:()=>U,jg:()=>f,So:()=>J,Mf:()=>V,qT:()=>b,Hg:()=>er,Qq:()=>A,Eu:()=>_,qX:()=>G,U$:()=>K,Zz:()=>O,kJ:()=>Y,Q7:()=>v,tx:()=>B,Yq:()=>$,mx:()=>en,rX:()=>p,xZ:()=>T,mW:()=>m,w0:()=>H});let s={Desktop:"desktop"},o=window.init_config||{},a=o.appId||null,l=o.dontDismissNotifications||null;o.limitMemoryUsage;let u=o.desktopVersion||"0";function c(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let d="chlg06CfblVj204fihGEqA",h="env-8",p="https://trello-slack.services.atlassian.com",f=!1,m="https://p.trellocdn.com",g="56d5e249a98895a9797bebb9",y="5a999cd36066c584c097f193",v="5f4ff6881ce8e97c81d2f605",b="5c2462c384ab8949b1724a20",_="5ad892c30b141641d32919bf",w="588a331cc86ffbe08f5d2c67",C="https://trello-attachments.s3.amazonaws.com",E="https://trello-backgrounds.s3.amazonaws.com",A="https://trello-logos.s3.amazonaws.com",O="f7936f71-2186-4c33-8553-134e287aefdf",k="330642982326-o2b8p0glj3m1o0sgllrpas2m8j9hjn7i.apps.googleusercontent.com",S="AIzaSyAvSBSs9sIV0S5wf4ivvDrwYp6Q20e7jGE",I="122616814543-k4q6th338f4j05dkv1qgvcbutlpa0voe.apps.googleusercontent.com",j="36ipz29apw2svq8",x="zclwcvudmddhz0cscz3w6awtcfs8bne3",T="pk_live_51IaUVrBgOoA7vC4WlHhHNjTeOOqbF7d56Ge0Vvju0qbrBJGLdBmpeGQntGWaCgVKPk3c2itZOuTuFjcxmMyC6g4m00DL5aSU1K",P="AIzaSyBGuM0ku7LVKH0l45qQsvvUnG2H2jUX0GU",D="PROD",L="trello.com/gateway/api/gasv3/api/v1",N="https",R="1f24403e-f053-43de-b063-e20b357a8f63",M="prod",U="https://id.atlassian.com",F="https://admin.atlassian.com",V="https://janus.prod.atl-paas.net",B="https://1609e814bfa14a3db09f984e6426cfd3@o55978.ingest.sentry.io/5988847",G="6052d130068a8c0de7b022b4",K="https://appsource.microsoft.com/en-us/product/office/WA200002592?tab=Overview",W="6052d16c340ed23e9da083ed",z="https://workspace.google.com/marketplace/app/trello_for_gmail/710372432947",q="6052d0bb1b3c162630f54230",$=!0,H="https://trello-server.us-east-1.prod.atl-paas.net",Q="inbox@app.trello.com",Y="8f9e7052-1437-463f-ae39-e3db0930a4a5",J=!1,X=null!==(n=null===(i=window)||void 0===i?void 0:i.trelloVersion)&&void 0!==n?n:"dev-0",Z=new class{constructor(e){c(this,"head",void 0),c(this,"patch",0),c(this,"version",void 0);let t=e.split("-");this.head=t.slice(0,-1).join("-"),this.version=parseFloat(t.slice(-1)[0])}toString(){return`${this.head}-${this.fullVersion()}`}toJSON(){return this.toString()}fullVersion(){return[this.version,this.patch].filter(e=>e).join(".")||0}}(X),ee=Z.toString(),et=["538627f73cbb44d1bfbb58f0","58adea146fcdb5f4e50bebf2"],er=window.locale||"en",en=location.origin||/^[^/]+?[/]{2}[^/]+/.exec(location.href)[0],ei=window.__bifrost_track__},"./packages/cookies/src/cookies.ts":(e,t,r)=>{"use strict";r.d(t,{W:()=>u});var n=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/initialize-controls/index.js"),i=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/set-strictly-necessary-cookie/index.js"),s=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/set-cookie/index.js"),o=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/get-cookie/index.js"),a=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/delete-cookie/index.js"),l=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/third-party-controls/check-third-party/index.js");class u{static initialize(){(0,n.bX)({product:"Trello"})}static async set(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"use_preferences";return"necessary"===n?((0,i.G)(e,t,r),Promise.resolve(!0)):await (0,s.T)(e,t,r)==="SUCCESS"}static get(e){return e?(0,o.R)(e):(0,o.R)()}static remove(e,t){(0,a.Y)(e,t)}static async checkThirdParty(e,t,r){await (0,l.W)(e,t,r)}}},"./packages/developer-console-state/index.ts":(e,t,r)=>{"use strict";r.d(t,{t:()=>n});let n=new(r("./packages/shared-state/index.ts")).oQ({lastActiveTab:0,developerConsoleOpen:!1,developerConsoleEnabled:!1,plainTextEditor:!1,showModelIds:!1,useTrelloTimingHeader:!1,logConnectionInformation:void 0,operationNameInUrl:void 0},{storageKey:"developerConsoleState"})},"./packages/dynamic-config/src/dangerouslyGetDynamicConfigSync.ts":(e,t,r)=>{"use strict";r.d(t,{a:()=>l});var n=r("./packages/storage/index.ts"),i=r("./packages/dynamic-config/src/data/dynamicConfigFlags.ts"),s=r("./packages/dynamic-config/src/dynamicConfig.constants.ts");let o=["trello_web_native_current_board_info"],a={},l=e=>{var t,r,l;let u=JSON.parse(null!==(r=(null!==(t=n._q.get(s.KK))&&void 0!==t?t:{}).config)&&void 0!==r?r:"{}"),c=n._q.get(s.Wu)||{},d=u[e],h=c[e],p=i.l[e].defaultValue,f=null!==(l=null!=h?h:d)&&void 0!==l?l:p;return o.includes(e)?(void 0===a[e]&&(a[e]=f),a[e]):f}},"./packages/dynamic-config/src/data/dynamicConfigFlags.ts":(e,t,r)=>{"use strict";r.d(t,{l:()=>n});let n={butler_ent_admin_only_allowlist:{createdOn:"2024-11-18",defaultValue:[""],owner:"ssilber"},trello_web_apollo_cache_hydrator_metrics:{createdOn:"2024-11-20",defaultValue:!1,owner:"koduche"},trello_web_apollo_read_write_metrics:{createdOn:"2024-11-18",defaultValue:!1,owner:"cilleyd"},trello_web_atlassian_team:{createdOn:"2024-11-13",defaultValue:!1,owner:"mfaith"},trello_web_billing_down_for_maintenance:{createdOn:"2024-11-08",defaultValue:!1,owner:"jmatthews"},trello_web_disconnect_active_clients:{createdOn:"2024-11-07",defaultValue:!1,owner:"mfaith"},trello_web_error_handling_rrs:{createdOn:"2024-11-20",defaultValue:!1,owner:"dcilley"},trello_web_forcefully_reload_to_exact_version:{createdOn:"2024-11-18",defaultValue:0,owner:"mfaith"},trello_web_google_tag_manager:{createdOn:"2024-11-04",defaultValue:!0,owner:"mfaith"},trello_web_inbox_native_graphql_provisioning:{createdOn:"2025-02-11",defaultValue:!1,owner:"greznicov"},trello_web_max_first_active_delay:{createdOn:"2024-11-20",defaultValue:2e3,owner:"mfaith"},trello_web_max_first_idle_delay:{createdOn:"2024-11-20",defaultValue:6e4,owner:"mfaith"},trello_web_native_current_board_info:{createdOn:"2024-11-20",defaultValue:!0,owner:"koduche"},trello_web_passively_reload_to_minimum_version:{createdOn:"2024-11-18",defaultValue:0,owner:"mfaith"},trello_web_somethings_wrong:{createdOn:"2024-11-07",defaultValue:!1,owner:"mfaith"},trello_web_take_trello_offline:{createdOn:"2024-11-07",defaultValue:!1,owner:"mfaith"}}},"./packages/dynamic-config/src/dynamicConfig.constants.ts":(e,t,r)=>{"use strict";r.d(t,{KK:()=>s,Wu:()=>o,e_:()=>i,iD:()=>n});let n=864e5,i="dynamicConfigUserData",s="dynamicConfigClient",o="dynamicConfigOverrides"},"./packages/id-cache/index.ts":(e,t,r)=>{"use strict";r.d(t,{ij:()=>i,qv:()=>p,g$:()=>f,x2:()=>o});let n=RegExp("^[a-f0-9]*$");function i(e){return(null!=e?e.constructor.name:void 0)==="ObjectID"||(null!=e?e.length:void 0)===24&&n.test(e)}let s=RegExp("ari:cloud:trello::[^/]+/(.+/)?[a-z0-9]{24}$");function o(e){return"string"==typeof e&&/^[a-zA-Z0-9]{8}$/.test(e)}function a(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let l={Card:{isValid:o,getErrorMsg:e=>`Invalid card shortLink: ${e}`},Board:{isValid:o,getErrorMsg:e=>`Invalid board shortLink: ${e}`},Member:{isValid:e=>!0,getErrorMsg:e=>`Invalid member username: ${e}`},Workspace:{isValid:e=>!0,getErrorMsg:e=>`Invalid workspace name: ${e}`}},u={ari:{isValid:function(e){return s.test(e)},getErrorMsg:e=>`Invalid ARI: ${e}`},id:{isValid:i,getErrorMsg:e=>`Invalid id: ${e}`}},c=()=>({Card:{},Board:{},Member:{},Workspace:{}});var d=new WeakSet;function h(e){return Object.keys(e).reduce((t,r)=>(t[e[r]]=r,t),{})}let p=new class{constructor(){!function(e,t){(function(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}(this,d),a(this,"idMap",c()),a(this,"ariMap",c())}reset(){this.idMap=c(),this.ariMap=c()}getId(e,t){if(l[e].isValid(t))return this.idMap[e][t]}setId(e,t,r){if(!u.id.isValid(r))throw Error(u.id.getErrorMsg(r));if(!l[e].isValid(t))throw Error(l[e].getErrorMsg(t));this.idMap[e][t]=r}getAri(e,t){if(l[e].isValid(t))return this.ariMap[e][t]}setAri(e,t,r){if(!u.ari.isValid(r))throw Error(u.ari.getErrorMsg(r));if(!l[e].isValid(t))throw Error(l[e].getErrorMsg(t));this.ariMap[e][t]=r}setCardId(e,t){return this.setId("Card",e,t)}setBoardId(e,t){return this.setId("Board",e,t)}setMemberId(e,t){return this.setId("Member",e,t)}setWorkspaceId(e,t){return this.setId("Workspace",e,t)}getCardId(e){return this.getId("Card",e)}getBoardId(e){return this.getId("Board",e)}getMemberId(e){return this.getId("Member",e)}getWorkspaceId(e){return this.getId("Workspace",e)}setCardAri(e,t){return this.setAri("Card",e,t)}setBoardAri(e,t){return this.setAri("Board",e,t)}setMemberAri(e,t){return this.setAri("Member",e,t)}setWorkspaceAri(e,t){return this.setAri("Workspace",e,t)}getCardAri(e){return this.getAri("Card",e)}getBoardAri(e){return this.getAri("Board",e)}getMemberAri(e){return this.getAri("Member",e)}getWorkspaceAri(e){return this.getAri("Workspace",e)}__getBoardShortLinkById__DO_NOT_USE(e){if(i(e))return(function(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw TypeError("Private element is not present on this object")})(d,this,h).call(this,this.idMap.Board)[e]}};function f(e){return/^[0-9]{1,8}$/.test(e.toString())}},"./packages/invitation-tokens/src/getInvitationTokens.ts":(e,t,r)=>{"use strict";r.d(t,{Q:()=>n});let n=()=>{let e;let t=[],r=/invite-token-[-a-f0-9]*=([^;]+)/g;for(;e=null===(n=r.exec(document.cookie))||void 0===n?void 0:n[1];){var n;t.push(unescape(e))}if(t.length>0)return t.join(",")}},"./packages/objects/index.ts":(e,t,r)=>{"use strict";r.d(t,{X3:()=>s,bD:()=>i,CN:()=>o,Qd:()=>a});var n=r("./node_modules/fast-deep-equal/index.js");let i=r.n(n)();function s(e,t){let r=Object.keys(e).reduce((e,r)=>(e[r]=t[r],e),{});return i(e,r)}let o=e=>e;function a(e){return!!e&&"object"==typeof e&&[null,Object.prototype].includes(Object.getPrototypeOf(e))}},"./packages/quickload/src/cleanPreload.ts":(e,t,r)=>{"use strict";r.d(t,{l:()=>n});let n=e=>({isLoading:e.isLoading,start:e.start,used:e.used,url:e.url})},"./packages/quickload/src/formatUrl.ts":(e,t,r)=>{"use strict";r.d(t,{J:()=>i});var n=r("./packages/invitation-tokens/src/getInvitationTokens.ts");let i=(e,t)=>{var r,i;let{rootId:s,idModel:o}=t,a=e.replace(s,o),l=null===(r=window)||void 0===r||null===(r=r.document)||void 0===r?void 0:r.cookie;if(RegExp("^/1/search").test(e)){let e=null===(i=/dsc=([^;]+)/.exec(l))||void 0===i?void 0:i[1];a+=`&dsc=${null!=e?e:"undefined"}`}let u=(0,n.Q)(),c=a.includes("?");return a+(u?`${c?"&":"?"}invitationTokens=${u}`:"")}},"./packages/quickload/src/getPreloadsFromPath.ts":(e,t,r)=>{"use strict";r.d(t,{m:()=>c});var n=r("./packages/dynamic-config/src/dangerouslyGetDynamicConfigSync.ts"),i=r("./packages/id-cache/index.ts"),s=r("./packages/quickload/src/formatUrl.ts");let o={header:{taskName:null,requests:[{url:"/1/member/:idMember?fields=id%2CaaBlockSyncUntil%2CaaEmail%2CaaId%2CactivityBlocked%2CavatarHash%2CavatarUrl%2Cbio%2CbioData%2Cconfirmed%2CcredentialsRemovedCount%2CdomainClaimed%2Cemail%2CfullName%2CidBoards%2CidEnterprise%2CidEnterprisesAdmin%2CidEnterprisesDeactivated%2CidEnterprisesImplicitAdmin%2CidMemberReferrer%2CidOrganizations%2CidPremOrgsAdmin%2Cinitials%2CisAaMastered%2CixUpdate%2Climits%2CloginTypes%2CmarketingOptIn%2CmemberType%2CmessagesDismissed%2CnodeId%2CnonPublic%2CnonPublicAvailable%2ConeTimeMessagesDismissed%2Cprefs%2CpremiumFeatures%2Cproducts%2CrequiresAaOnboarding%2CsessionType%2Cstatus%2Ctrophies%2Curl%2Cusername&campaigns=true&cohorts=true&enterpriseLicenses=true&enterprises=true&enterprise_filter=saml%2Cmember%2Cmember-unconfirmed%2Cowned&enterprise_fields=id%2CdisplayName%2CidAdmins%2ClogoUrl%2Cname%2Coffering%2CorganizationPrefs%2Cprefs%2Csandbox%2CsandboxExpiry&enterpriseWithRequiredConversion=true&logins=true&organizations=all&organization_fields=id%2CcreationMethod%2CdisplayName%2CenterpriseJoinRequest%2CidEnterprise%2CidEntitlement%2CjwmLink%2ClogoHash%2Cname%2Coffering%2CpremiumFeatures%2Cproducts&organization_enterprise=true&organization_paidAccount=true&organization_paidAccount_fields=billingDates%2CcanRenew%2CcardLast4%2CcardType%2CcontactEmail%2CcontactFullName%2CcontactLocale%2Ccountry%2CdateFirstSubscription%2CdatePendingDisabled%2CexpirationDates%2CinvoiceDetails%2CixSubscriber%2CneedsCreditCardUpdate%2CpaidProduct%2CpreviousSubscription%2CproductOverride%2Cproducts%2CscheduledChange%2Cstanding%2CstateTaxId%2CtaxId%2CtrialExpiration%2CtrialType%2Czip&paidAccount=true&paidAccount_fields=billingDates%2CcanRenew%2CcardLast4%2CcardType%2CcontactEmail%2CcontactFullName%2CcontactLocale%2Ccountry%2CdateFirstSubscription%2CdatePendingDisabled%2CexpirationDates%2CinvoiceDetails%2CixSubscriber%2CneedsCreditCardUpdate%2CpaidProduct%2CpreviousSubscription%2CproductOverride%2Cproducts%2CscheduledChange%2Cstanding%2CstateTaxId%2CtaxId%2CtrialExpiration%2CtrialType%2Czip&pluginData=true&savedSearches=true&teamify=true",rootId:":idMember",operationName:"quickload:MemberHeader",modelName:"Member"},{url:"/1/member/:idMember?fields=id&boards=open%2Cstarred&board_fields=id%2Cclosed%2CcreationMethod%2CdateLastActivity%2CdateLastView%2CdatePluginDisable%2CenterpriseOwned%2CidEnterprise%2CidOrganization%2Cname%2CnodeId%2Cprefs%2CpremiumFeatures%2CshortLink%2CshortUrl%2Cstarred%2Csubscribed%2Curl&board_memberships=me&boardStars=true&credits=invitation%2CpromoCode&organizations=all&organization_fields=id%2Ccredits%2CdisplayName%2CidEnterprise%2Climits%2ClogoHash%2Cname%2Coffering%2Cprefs%2CpremiumFeatures%2Cproducts",rootId:":idMember",operationName:"quickload:MemberBoards",modelName:"Member"}]},"^/b/([^/]+)":{taskName:"view-board",requests:[{url:"/1/board/:idBoard?fields=id%2Cclosed%2CcreationMethod%2CdateLastActivity%2CdateLastView%2CdatePluginDisable%2Cdesc%2CdescData%2CenterpriseOwned%2CidEnterprise%2CidMemberCreator%2CidOrganization%2CidTags%2ClabelNames%2Climits%2Cmemberships%2Cname%2CnodeId%2CpowerUps%2Cprefs%2CpremiumFeatures%2CshortLink%2CshortUrl%2Csubscribed%2CtemplateGallery%2Curl&organization_disable_mock=true&boardPlugins=true&customFields=true&enterprise=true&enterprise_fields=id%2CaiPrefs%2CdisplayName&labels=all&label_fields=id%2Ccolor%2CidBoard%2Cname&labels_limit=1000&members=all&member_fields=id%2CactivityBlocked%2CavatarUrl%2Cbio%2CbioData%2Cconfirmed%2CfullName%2CidEnterprise%2CidMemberReferrer%2CidPremOrgsAdmin%2Cinitials%2CmemberType%2CnonPublic%2Curl%2Cusername&memberships_orgMemberType=true&myPrefs=true&organization=true&organization_fields=id%2Cdesc%2CdisplayName%2CidEnterprise%2Climits%2ClogoHash%2Cmemberships%2Cname%2Coffering%2Cprefs%2CpremiumFeatures%2Cproducts%2Curl%2Cwebsite&organization_enterprise=true&organization_memberships=all&organization_pluginData=true&organization_tags=true&pluginData=true",rootId:":idBoard",operationName:"quickload:CurrentBoardInfo",modelName:"Board"},{url:"/1/board/:idBoard?fields=id&cards=visible&card_fields=id%2Caddress%2Cbadges%2CcardRole%2Cclosed%2Ccoordinates%2Ccover%2CcreationMethod%2CcreationMethodError%2CcreationMethodLoadingStartedAt%2CdateLastActivity%2Cdesc%2CdescData%2Cdue%2CdueComplete%2CdueReminder%2CidAttachmentCover%2CidBoard%2CidLabels%2CidList%2CidMembers%2CidShort%2CisTemplate%2Clabels%2Climits%2ClocationName%2CmirrorSourceId%2Cname%2CnodeId%2Cpinned%2Cpos%2CshortLink%2CshortUrl%2Cstart%2Csubscribed%2Curl&card_attachments=true&card_attachment_fields=id%2Cbytes%2Cdate%2CedgeColor%2CfileName%2CidMember%2CisUpload%2CmimeType%2Cname%2Cpos%2Curl&card_checklists=all&card_checklist_fields=id%2CidBoard%2CidCard%2Cname%2Cpos&card_checklist_checkItems=none&card_customFieldItems=true&card_pluginData=true&card_stickers=true&lists=open&list_fields=id%2Cclosed%2Ccolor%2CcreationMethod%2Cdatasource%2CidBoard%2Climits%2Cname%2Cpos%2CsoftLimit%2Csubscribed%2Ctype",rootId:":idBoard",operationName:"quickload:CurrentBoardListsCards",modelName:"Board"},{url:"/gateway/api/graphql",rootId:":idBoard",operationName:"quickload:TrelloCurrentBoardInfo",modelName:"TrelloBoard",dynamicConfig:{key:"trello_web_native_current_board_info",value:!0},graphQLPayload:{query:'query TrelloCurrentBoardInfo($id:TrelloShortLink!){trello{boardByShortLink(shortLink:$id)@optIn(to:"TrelloBoard"){id __typename closed creationMethod creator{id __typename objectId}customFields{__typename edges{node{__typename display{__typename cardFront}name objectId options{__typename color objectId position value{__typename text}}position type}}}description{__typename text}enterprise{id __typename displayName objectId}enterpriseOwned galleryInfo{id __typename avatarShape avatarUrl blurb byline category{__typename key}featured language{__typename description enabled language locale localizedDescription}precedence stats{__typename copyCount viewCount}}labels(first:-1){__typename edges{node{id __typename color name objectId}}}lastActivityAt limits{__typename attachments{__typename perBoard{__typename disableAt status warnAt}perCard{__typename disableAt status warnAt}}boards{__typename totalMembersPerBoard{__typename disableAt status warnAt}}cards{__typename openPerBoard{__typename disableAt status warnAt}openPerList{__typename disableAt status warnAt}totalPerBoard{__typename disableAt status warnAt}totalPerList{__typename disableAt status warnAt}}checkItems{__typename perChecklist{__typename disableAt status warnAt}}checklists{__typename perBoard{__typename disableAt status warnAt}perCard{__typename disableAt status warnAt}}customFieldOptions{__typename perField{__typename disableAt status warnAt}}customFields{__typename perBoard{__typename disableAt status warnAt}}labels{__typename perBoard{__typename disableAt status warnAt}}lists{__typename openPerBoard{__typename disableAt status warnAt}totalPerBoard{__typename disableAt status warnAt}}reactions{__typename perAction{__typename disableAt status warnAt}uniquePerAction{__typename disableAt status warnAt}}stickers{__typename perCard{__typename disableAt status warnAt}}}members(first:-1){__typename edges{__typename membership{__typename deactivated objectId type unconfirmed workspaceMemberType}node{id __typename activityBlocked avatarUrl bio bioData confirmed enterprise{id __typename objectId}fullName initials nonPublicData{__typename avatarUrl fullName initials}objectId url username}}}name objectId powerUpData(first:-1){__typename edges{node{__typename access objectId powerUp{objectId}scope value}}}powerUps(filter:{access:"enabled"},first:-1){edges{__typename node{__typename objectId}objectId}}prefs{__typename background{__typename bottomColor brightness color image imageScaled{height url width}tile topColor}calendarFeedEnabled canInvite cardAging cardCovers comments hiddenPowerUpBoardButtons{__typename objectId}hideVotes invitations isTemplate permissionLevel selfJoin showCompleteStatus switcherViews{__typename enabled viewType}voting}premiumFeatures shortLink shortUrl tags(first:-1){__typename edges{node{__typename objectId}}}url viewer{__typename calendarKey email{__typename key list{id __typename objectId}position}lastSeenAt sidebar{__typename show}subscribed}workspace{id __typename description displayName enterprise{id __typename displayName objectId}limits{__typename freeBoards{__typename disableAt status warnAt}freeCollaborators{__typename disableAt status warnAt}totalMembers{__typename disableAt status warnAt}}logoHash members(first:-1){__typename edges{__typename membership{__typename deactivated objectId type unconfirmed}node{id __typename objectId}}}name objectId offering prefs{__typename associatedDomain attachmentRestrictions boardDeleteRestrict{__typename enterprise org private public}boardInviteRestrict boardVisibilityRestrict{__typename enterprise org private public}externalMembersDisabled orgInviteRestrict permissionLevel}tags(first:-1){__typename edges{node{__typename name objectId}}}url website}}}}',variables:{id:":idBoard"},operationName:"TrelloCurrentBoardInfo"}}]},"^//([^/]*([^/]+))$":{taskName:null,requests:[{url:"/1/member/:idMember?fields=id&boards=open%2Cstarred&board_fields=id%2Cclosed%2CcreationMethod%2CdateLastActivity%2CdateLastView%2CdatePluginDisable%2CenterpriseOwned%2CidEnterprise%2CidOrganization%2Cname%2Cprefs%2CpremiumFeatures%2CshortLink%2CshortUrl%2Curl&boardStars=true",rootId:":idMember",operationName:"quickload:MemberQuickBoards",modelName:"Member"},{url:"/1/search?query=:searchTerm&partial=true&modelTypes=boards&board_fields=id%2Cclosed%2CcreationMethod%2CdateLastActivity%2CdateLastView%2CdatePluginDisable%2CenterpriseOwned%2CidEnterprise%2CidOrganization%2Cname%2Cprefs%2CpremiumFeatures%2CshortLink%2CshortUrl%2Curl",rootId:":searchTerm",operationName:"quickload:QuickBoardsSearch",modelName:"Search"}]},"^/search":{taskName:null,requests:[{url:"/1/member/:idMember?fields=id&boards=open%2Cstarred&board_fields=id%2Cclosed%2CcreationMethod%2CdateLastActivity%2CdateLastView%2CdatePluginDisable%2CenterpriseOwned%2CidEnterprise%2CidOrganization%2Cname%2Cprefs%2CpremiumFeatures%2CshortLink%2CshortUrl%2Curl&boardStars=true",rootId:":idMember",operationName:"quickload:MemberQuickBoards",modelName:"Member"}]},"^//$":{taskName:null,requests:[{url:"/1/member/:idMember?fields=id&boards=open%2Cstarred&board_fields=id%2Cclosed%2CcreationMethod%2CdateLastActivity%2CdateLastView%2CdatePluginDisable%2CenterpriseOwned%2CidEnterprise%2CidOrganization%2Cname%2Cprefs%2CpremiumFeatures%2CshortLink%2CshortUrl%2Curl&boardStars=true",rootId:":idMember",operationName:"quickload:MemberQuickBoards",modelName:"Member"}]},"^/c/([^/]+)":{taskName:"view-board",requests:[{url:"/1/card/:idCard?fields=id%2Cbadges%2CcardRole%2Cclosed%2Ccover%2CcreationMethod%2CcreationMethodError%2CcreationMethodLoadingStartedAt%2CdateLastActivity%2Cdesc%2CdescData%2Cdue%2CdueComplete%2CdueReminder%2Cemail%2CidAttachmentCover%2CidBoard%2CidChecklists%2CidLabels%2CidList%2CidMemberCreator%2CidMembers%2CidMembersVoted%2CidShort%2CisTemplate%2Clabels%2Climits%2CmanualCoverAttachment%2CmirrorSourceId%2Cname%2Cpinned%2Cpos%2CshortLink%2CshortUrl%2Cstart%2Csubscribed%2Curl&attachments=true&attachment_fields=id%2Cbytes%2Cdate%2CedgeColor%2CfileName%2CidMember%2CisUpload%2CmimeType%2Cname%2Cpos%2Cpreviews%2Curl&customFieldItems=true&pluginData=true&stickers=true&sticker_fields=id%2Cimage%2CimageScaled%2CimageUrl%2Cleft%2Crotate%2Ctop%2CzIndex",rootId:":idCard",operationName:"quickload:PreloadCard",modelName:"Card"}],deferredPreloads:["CurrentBoardInfo","CurrentBoardListsCards"]},"^/w/([^/]+)/billing$":{taskName:null,requests:[{url:"/1/organization/:idOrganization?fields=id%2Ccredits%2CdisplayName%2CidEnterprise%2Cmemberships%2Cname%2Coffering%2Cprefs%2Cproducts&enterprise=true&memberships=active",rootId:":idOrganization",operationName:"quickload:OrganizationBillingPage",modelName:"Organization"}]},"^/([^/]+)/billing$":{taskName:null,requests:[{url:"/1/organization/:idOrganization?fields=id%2Ccredits%2CdisplayName%2CidEnterprise%2Cmemberships%2Cname%2Coffering%2Cprefs%2Cproducts&enterprise=true&memberships=active",rootId:":idOrganization",operationName:"quickload:OrganizationBillingPage",modelName:"Organization"}]},"^/w/(?!search)(?!create-first-team)(?!blank)(?!shortcuts)(?!templates)(?!redeem)([^/]+)$":{taskName:null,requests:[{url:"/1/organization/:idOrganization?fields=id%2CbillableCollaboratorCount%2Ccredits%2Cdesc%2CdescData%2CdisplayName%2CidEnterprise%2Climits%2ClogoHash%2Cmemberships%2Cname%2Coffering%2Cprefs%2CpremiumFeatures%2Cproducts%2Cwebsite&boards=open&boards_count=29&board_fields=id%2Cclosed%2CcreationMethod%2CdateLastActivity%2CdatePluginDisable%2CenterpriseOwned%2CidEnterprise%2CidOrganization%2CidTags%2Cname%2Cprefs%2CpremiumFeatures%2CshortLink%2CshortUrl%2Curl&boards_sortBy=dateLastActivity&boards_sortOrder=desc&enterprise=true&memberships=active&paidAccount=true&paidAccount_fields=billingDates%2CcanRenew%2CcardLast4%2CcardType%2CcontactEmail%2CcontactFullName%2CcontactLocale%2Ccountry%2CdateFirstSubscription%2CexpirationDates%2CinvoiceDetails%2CixSubscriber%2CneedsCreditCardUpdate%2CpaidProduct%2CpreviousSubscription%2CproductOverride%2Cproducts%2CscheduledChange%2Cstanding%2CstateTaxId%2CtaxId%2CtrialExpiration%2CtrialType%2Czip&tags=true",rootId:":idOrganization",operationName:"quickload:WorkspaceBoardsPageMinimal",modelName:"Organization"}]},"^/(?!search)(?!create-first-team)(?!blank)(?!shortcuts)(?!templates)(?!redeem)([^/]+)$":{taskName:null,requests:[{url:"/1/organization/:idOrganization?fields=id%2CbillableCollaboratorCount%2Ccredits%2Cdesc%2CdescData%2CdisplayName%2CidEnterprise%2Climits%2ClogoHash%2Cmemberships%2Cname%2Coffering%2Cprefs%2CpremiumFeatures%2Cproducts%2Cwebsite&boards=open&boards_count=29&board_fields=id%2Cclosed%2CcreationMethod%2CdateLastActivity%2CdatePluginDisable%2CenterpriseOwned%2CidEnterprise%2CidOrganization%2CidTags%2Cname%2Cprefs%2CpremiumFeatures%2CshortLink%2CshortUrl%2Curl&boards_sortBy=dateLastActivity&boards_sortOrder=desc&enterprise=true&memberships=active&paidAccount=true&paidAccount_fields=billingDates%2CcanRenew%2CcardLast4%2CcardType%2CcontactEmail%2CcontactFullName%2CcontactLocale%2Ccountry%2CdateFirstSubscription%2CexpirationDates%2CinvoiceDetails%2CixSubscriber%2CneedsCreditCardUpdate%2CpaidProduct%2CpreviousSubscription%2CproductOverride%2Cproducts%2CscheduledChange%2Cstanding%2CstateTaxId%2CtaxId%2CtrialExpiration%2CtrialType%2Czip&tags=true",rootId:":idOrganization",operationName:"quickload:WorkspaceBoardsPageMinimal",modelName:"Organization"}]},"^/w/([^/]+)/home$":{taskName:null,requests:[{url:"/1/organization/:idOrganization?fields=id%2CbillableCollaboratorCount%2Ccredits%2Cdesc%2CdescData%2CdisplayName%2CidEnterprise%2Climits%2ClogoHash%2Cmemberships%2Cname%2Coffering%2Cprefs%2CpremiumFeatures%2Cproducts%2Cwebsite&boards=open&boards_count=100&board_fields=id%2Cclosed%2CcreationMethod%2CdateLastActivity%2CdateLastView%2CdatePluginDisable%2CenterpriseOwned%2CidEnterprise%2CidOrganization%2CidTags%2Cname%2Cprefs%2CpremiumFeatures%2CshortLink%2CshortUrl%2Curl&boards_sortBy=dateLastActivity&boards_sortOrder=desc&board_membershipCounts=active&board_starCounts=organization&enterprise=true&members=all&member_fields=id&memberships=active&paidAccount=true&paidAccount_fields=billingDates%2CcanRenew%2CcardLast4%2CcardType%2CcontactEmail%2CcontactFullName%2CcontactLocale%2Ccountry%2CdateFirstSubscription%2CexpirationDates%2CinvoiceDetails%2CixSubscriber%2CneedsCreditCardUpdate%2CpaidProduct%2CpreviousSubscription%2CproductOverride%2Cproducts%2CscheduledChange%2Cstanding%2CstateTaxId%2CtaxId%2CtrialExpiration%2CtrialType%2Czip&tags=true",rootId:":idOrganization",operationName:"quickload:WorkspaceHomePageMinimal",modelName:"Organization"}]},"^/([^/]+)/home$":{taskName:null,requests:[{url:"/1/organization/:idOrganization?fields=id%2CbillableCollaboratorCount%2Ccredits%2Cdesc%2CdescData%2CdisplayName%2CidEnterprise%2Climits%2ClogoHash%2Cmemberships%2Cname%2Coffering%2Cprefs%2CpremiumFeatures%2Cproducts%2Cwebsite&boards=open&boards_count=100&board_fields=id%2Cclosed%2CcreationMethod%2CdateLastActivity%2CdateLastView%2CdatePluginDisable%2CenterpriseOwned%2CidEnterprise%2CidOrganization%2CidTags%2Cname%2Cprefs%2CpremiumFeatures%2CshortLink%2CshortUrl%2Curl&boards_sortBy=dateLastActivity&boards_sortOrder=desc&board_membershipCounts=active&board_starCounts=organization&enterprise=true&members=all&member_fields=id&memberships=active&paidAccount=true&paidAccount_fields=billingDates%2CcanRenew%2CcardLast4%2CcardType%2CcontactEmail%2CcontactFullName%2CcontactLocale%2Ccountry%2CdateFirstSubscription%2CexpirationDates%2CinvoiceDetails%2CixSubscriber%2CneedsCreditCardUpdate%2CpaidProduct%2CpreviousSubscription%2CproductOverride%2Cproducts%2CscheduledChange%2Cstanding%2CstateTaxId%2CtaxId%2CtrialExpiration%2CtrialType%2Czip&tags=true",rootId:":idOrganization",operationName:"quickload:WorkspaceHomePageMinimal",modelName:"Organization"}]},"^/u/([^/]+)/boards$":{taskName:null,requests:[{url:"/1/member/:idMember?fields=id&boards=open%2Cstarred&board_fields=id%2Cclosed%2CcreationMethod%2CdateLastActivity%2CdateLastView%2CdatePluginDisable%2CenterpriseOwned%2CidEnterprise%2CidOrganization%2Cname%2CnodeId%2Cprefs%2CpremiumFeatures%2CshortLink%2CshortUrl%2Csubscribed%2Curl&board_memberships=me&board_organization=true&board_organization_fields=id%2Ccredits%2CdisplayName%2CidEnterprise%2Climits%2ClogoHash%2Cname%2Coffering%2Cprefs%2CpremiumFeatures%2Cproducts&boardStars=true&credits=invitation%2CpromoCode&organizations=all&organization_fields=id%2Ccredits%2Climits%2Cprefs%2CpremiumFeatures&organization_memberships=all",rootId:":idMember",operationName:"quickload:MemberBoardsHome",modelName:"Member"}]}};function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let u=e=>!e.dynamicConfig||(0,n.a)(e.dynamicConfig.key)===e.dynamicConfig.value,c=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.pathname,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.search;arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.document.cookie;let n=t.replace(/\?(.*)$/,""),a=Object.keys(o).find(e=>{if("header"===e)return!1;let t=o[e].requests,r=new RegExp(e);return!!t.find(u)&&r.test(n)}),c=a&&o[a].requests.filter(u),d=a&&o[a].deferredPreloads?o[a].deferredPreloads:[],h=a&&o[a].taskName||null,p=(null===(e=new RegExp(a||"").exec(n))||void 0===e?void 0:e[1])||"";RegExp("^/search$").test(t)&&(p=new URLSearchParams(r).get("q")||"");let f=(0,i.x2)(p);return{path:n,preloads:o.header.requests.filter(u).concat(c||[]).filter(e=>{let{graphQLPayload:t}=e;return!t||f}).map(e=>{let{url:t,rootId:r,operationName:n,modelName:i,graphQLPayload:o}=e,a={url:(0,s.J)(t,{rootId:r,idModel:":idMember"===r?"me":p}),operationName:n,modelName:i,queryName:n.replace("quickload:",""),taskName:h};return o&&(a.graphQLPayload=l(l({},o),{},{variables:{id:":idMember"===r?"me":p}})),a}),deferredPreloads:d,param:p}}},"./packages/quickload/src/preloadsHash.ts":(e,t,r)=>{"use strict";r.d(t,{P:()=>i,x:()=>n});let n=e=>{let{url:t,graphQLPayload:r}=e;if(!r)return t;{let{operationName:e,variables:t}=r;return`${e}:${JSON.stringify(t)}`}},i={}},"./packages/quickload/src/quickload.ts":(e,t,r)=>{"use strict";r.d(t,{I:()=>g});var n=r("./packages/developer-console-state/index.ts"),i=r("./packages/quickload/src/cleanPreload.ts"),s=r("./packages/quickload/src/getPreloadsFromPath.ts");let o=()=>{let e="";for(let t=0;t<16;t+=1)e+="0123456789abcdef"[Math.floor(16*Math.random())];return e},a=()=>Math.floor(Date.now()/1e3).toString(16)+(o().slice(8)+o());function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var u=r("./packages/quickload/src/preloadsHash.ts");let c=function(e){try{return JSON.parse(e)}catch(e){return null}},d=function(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unknown",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"quickload",a=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,u=new Headers;u.append("Content-Type","application/json; charset=utf-8"),u.append("Accept","application/json"),u.append("X-Trello-Client-Version",window.trelloVersion||"dev-0"),u.append("X-Trello-Operation-Source",s),u.append("X-Trello-Operation-Name",i),a&&(u.append("X-Trello-TraceId",a),u.append("X-B3-TraceId",a),u.append("X-B3-SpanId",o()),u.append("X-Trello-Task",l||"not-implemented")),(async()=>{try{let s=n.t.value.operationNameInUrl,o=await fetch(s&&i?`${e}?operationName=${i}`:e,{method:"POST",headers:u,body:JSON.stringify(t)});if(o.ok){let e=await o.json();r(null,[e,null])}else r([o.status,await o.text()])}catch(e){r([0,"failed to fetch"])}})()},h=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unknown",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"model-loader",s=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,l=new XMLHttpRequest,u=n.t.value.operationNameInUrl;l.open("GET",u&&r?`${e}&operationName=${r}`:e,!0),l.setRequestHeader("Accept","application/json,text/plain"),l.setRequestHeader("X-Trello-Client-Version",window.trelloVersion||"dev-0"),l.setRequestHeader("X-Trello-Operation-Source",i),l.setRequestHeader("X-Trello-Operation-Name",r),s&&(l.setRequestHeader("X-Trello-TraceId",s),l.setRequestHeader("X-B3-TraceId",s),l.setRequestHeader("X-B3-SpanId",o()),l.setRequestHeader("X-Trello-Task",a||"not-implemented")),l.onreadystatechange=function(){4===l.readyState&&(200!==l.status?t([l.status,l.responseText]):t(null,[c(l.responseText),l]))},l.send(null)},p=function(e){e in u.P&&delete u.P[e]},f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"preload",r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(!e)return;let s={isLoading:!0,callbacks:[],start:Date.now(),used:!1,url:e,traceId:n},o=(0,u.x)({url:e,graphQLPayload:r});if(u.P[o]=s,r){d(e,r,function(e,t){if(s.isLoading=!1,e){for(let t of(s.error=e,Array.from(s.callbacks)))t(e);return}for(let e of(s.data=t,Array.from(s.callbacks)))e(null,t)},t,"quickload",n,i);return}h(e,function(e,t){let r;if(s.isLoading=!1,e){for(r of(s.error=e,Array.from(s.callbacks)))r(e);return}for(r of(s.data=t,Array.from(s.callbacks)))r(null,t)},t,"quickload",n,i)},m={init(){let e=a(),{preloads:t}=(0,s.m)();for(let{url:r,operationName:n,graphQLPayload:i,taskName:s}of t)f(r,n,i,e,s)},getPreloadsFromPath:s.m,makeUrl:function(e,t){var r,n;let i,s;s=void 0===t?{}:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t);let o=[],a=/invite-token-[-a-f0-9]*=([^;]+)/g;for(;void 0!==(i=null===(r=a.exec(document.cookie))||void 0===r?void 0:r[1]);)o.push(unescape(i));if(o.length>0&&(s.invitationTokens=o.join(",")),RegExp("^/1/search(/|$)").test(e)){let e=null===(n=/dsc=([^;]+)/.exec(document.cookie))||void 0===n?void 0:n[1];e&&(s.dsc=e)}let u=[];for(let e in s){let t=s[e];u.push([e,encodeURIComponent(t)].join("="))}return[e,u.join("&")].join("?")},load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,a=(0,u.x)({url:e}),l=u.P[a];if(void 0!==l)return l.used=!0,l.isLoading?l.callbacks.push(t):t(l.error,l.data),(0,i.l)(l);h(e,t,r,n,s,o)},getPreloadTraceId(){let{preloads:e}=(0,s.m)();for(let{url:t,graphQLPayload:r}of e){let e=(0,u.x)({url:t,graphQLPayload:r});if(e in u.P)return u.P[e].traceId}},clear(){for(let e in u.P)p(e)},markComplete(){this.status="complete"},status:"pending"};m.init();let g=window.QuickLoad=m},"./packages/shared-state/index.ts":(e,t,r)=>{"use strict";r.d(t,{oQ:()=>v,B:()=>f,QY:()=>_,r2:()=>w});var n=r("./packages/storage/index.ts"),i=r("./packages/objects/index.ts");function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){l(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function a(e,t,r){(function(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,r)}function l(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){return e.get(d(e,t))}function c(e,t,r){return e.set(d(e,t),r),r}function d(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw TypeError("Private element is not present on this object")}var h=new WeakMap,p=new WeakMap;class f{constructor(e){l(this,"value",void 0),a(this,h,void 0),a(this,p,new Set),this.value=e,c(h,this,e)}setValue(e){let t=this.value;for(let r of("function"==typeof e?this.value=e(this.value):(0,i.Qd)(e)?this.value=o(o({},this.value),e):this.value=e,u(p,this)))r(this.value,t)}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(r,n)=>{let s=!0;t.onlyUpdateIfChanged&&((null===r?0:"object"==typeof r||"function"==typeof r?1:0)?(0,i.Qd)(r)&&(s=!(0,i.X3)(r,n)):s=r!==n),s&&e(r,n)};return u(p,this).add(r),()=>{u(p,this).delete(r)}}reset(){this.value=u(h,this),c(p,this,new Set)}}function m(e,t,r){return e.set(g(e,t),r),r}function g(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw TypeError("Private element is not present on this object")}var y=new WeakMap;class v extends f{constructor(e,t){let{storageKey:r,session:i=!1,syncAcrossBrowser:s=!0}=t;super(e),function(e,t,r){(function(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,r)}(this,y,!1);let o=i?n.Y6:n._q,a="function"==typeof r?r():r,l=o.get(a);null!==l&&l!==e&&this.setValue(l),this.subscribe(e=>{!function(e,t){return e.get(g(e,t))}(y,this)&&o.set(a,e)}),s&&o.listenSyncedAcrossBrowser(t=>{let{key:r,newValue:n}=t;if(r!==a)return;let i=null!==n?JSON.parse(n):e;m(y,this,!0),this.setValue(i),m(y,this,!1)})}}var b=r("./node_modules/react/index.js");function _(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},[r,n]=(0,b.useState)(e.value),i=(0,b.useMemo)(()=>e.value,[e.value]);return(0,b.useEffect)(()=>{let r=e.subscribe(n,t);return i!==e.value&&n(e.value),r},[i,e,n,t]),[r,(0,b.useMemo)(()=>e.setValue.bind(e),[e])]}function w(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},[n,s]=(0,b.useState)(()=>t(e.value)),o=(0,b.useRef)(n),a=(0,b.useRef)(!1),l=(0,b.useCallback)((e,r)=>{a.current=a.current||void 0!==r;let n=t(e);(0,i.bD)(n,o.current)||(o.current=n,s(n))},[t]);return(0,b.useEffect)(()=>{a.current&&l(e.value)},[l]),(0,b.useEffect)(()=>{let t=e.subscribe(l,r);return a.current||l(e.value),t},[e,r,l]),n}},"./packages/storage/index.ts":(e,t,r)=>{"use strict";r.d(t,{Y6:()=>u,_q:()=>l,yR:()=>d});var n=r("./packages/browser/index.ts");class i{constructor(){!function(e,t,r){var n;(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"storage",void 0),this.storage={}}get length(){return Object.keys(this.storage).length}clear(){this.storage={}}getItem(e){return this.storage[e]||null}key(e){return Object.keys(this.storage)[e]||null}removeItem(e){delete this.storage[e]}setItem(e,t){this.storage[e]=t||""}}let s={LOCAL_STORAGE_KEY:"localStorage",SESSION_STORAGE_KEY:"sessionStorage"};function o(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class a{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.LOCAL_STORAGE_KEY;o(this,"storage",void 0),o(this,"listeners",void 0),o(this,"errorListeners",void 0),o(this,"listenersSyncedAcrossBrowser",void 0),o(this,"LISTENER_IGNORABLE_KEY_PREFIXES",/^(awc\.)/),o(this,"onStorage",e=>{let{key:t,oldValue:r,newValue:n}=e;!t||t.match(this.LISTENER_IGNORABLE_KEY_PREFIXES)||this.broadcastChangeFromOtherInstance({key:t,oldValue:r,newValue:n})}),o(this,"getAllKeys",()=>this.storage?Object.keys(this.storage):[]),this.listeners=new Set,this.errorListeners=new Set,this.listenersSyncedAcrossBrowser=new Set,(0,n.oi)()&&!function(e){let t;try{t=window[e];let r="__storage_test__";return t.setItem(r,r),t.removeItem(r),!0}catch(e){return!!(e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length)}}(e)?this.storage=new i:this.storage=window[e],window.addEventListener("storage",this.onStorage)}listen(e){this.listeners.add(e)}addErrorListener(e){this.errorListeners.add(e)}removeErrorListener(e){this.errorListeners.delete(e)}listenSyncedAcrossBrowser(e){this.listenersSyncedAcrossBrowser.add(e),this.listen(e)}unlisten(e){this.listeners.delete(e),this.listenersSyncedAcrossBrowser.delete(e)}broadcastLocalChange(e){this.listeners.forEach(t=>{t(e)})}broadcastError(e){this.errorListeners.forEach(t=>{t(e)})}broadcastChangeFromOtherInstance(e){this.listenersSyncedAcrossBrowser.forEach(t=>{t(e)})}isEnabled(){return!!this.storage}set(e,t){try{if(this.storage){let r=this.getRaw(e),n=JSON.stringify(t);this.storage.setItem(e,n),this.broadcastLocalChange({key:e,oldValue:r,newValue:n})}}catch(t){console.warn(t),this.broadcastError({key:e,error:t})}}get(e){let t=null,r=this.getRaw(e);if(r)try{t=JSON.parse(r)}catch(e){console.warn(e)}return t}getRaw(e){return this.storage?this.storage.getItem(e):null}unset(e){this.storage&&null!==this.getRaw(e)&&this.storage.removeItem(e)}}let l=new a(s.LOCAL_STORAGE_KEY),u=new a(s.SESSION_STORAGE_KEY);var c=r("./node_modules/react/index.js");let d=(e,t)=>{let[r,n]=(0,c.useState)(t),i=(0,c.useCallback)(t=>{n(t),null===t?l.unset(e):l.set(e,t)},[e]);return(0,c.useEffect)(()=>{let t=l.get(e);n(null!=t?t:r)},[]),[r,i]}},"./node_modules/@babel/runtime/helpers/regeneratorRuntime.js":(e,t,r)=>{var n=r("./node_modules/@babel/runtime/helpers/typeof.js").default;function i(){"use strict";e.exports=i=function(){return r},e.exports.__esModule=!0,e.exports.default=e.exports;var t,r={},s=Object.prototype,o=s.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function h(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{h({},"")}catch(e){h=function(e,t,r){return e[t]=r}}function p(e,r,n,i){var s,o,l=Object.create((r&&r.prototype instanceof b?r:b).prototype);return a(l,"_invoke",{value:(s=new x(i||[]),o=m,function(r,i){if(o===g)throw Error("Generator is already running");if(o===y){if("throw"===r)throw i;return{value:t,done:!0}}for(s.method=r,s.arg=i;;){var a=s.delegate;if(a){var l=function e(r,n){var i=n.method,s=r.iterator[i];if(s===t)return n.delegate=null,"throw"===i&&r.iterator.return&&(n.method="return",n.arg=t,e(r,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+i+"' method")),v;var o=f(s,r.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var a=o.arg;return a?a.done?(n[r.resultName]=a.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,v)}(a,s);if(l){if(l===v)continue;return l}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(o===m)throw o=y,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);o=g;var u=f(e,n,s);if("normal"===u.type){if(o=s.done?y:"suspendedYield",u.arg===v)continue;return{value:u.arg,done:s.done}}"throw"===u.type&&(o=y,s.method="throw",s.arg=u.arg)}})}),l}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}r.wrap=p;var m="suspendedStart",g="executing",y="completed",v={};function b(){}function _(){}function w(){}var C={};h(C,u,function(){return this});var E=Object.getPrototypeOf,A=E&&E(E(T([])));A&&A!==s&&o.call(A,u)&&(C=A);var O=w.prototype=b.prototype=Object.create(C);function k(e){["next","throw","return"].forEach(function(t){h(e,t,function(e){return this._invoke(t,e)})})}function S(e,t){var r;a(this,"_invoke",{value:function(i,s){function a(){return new t(function(r,a){!function r(i,s,a,l){var u=f(e[i],e,s);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==n(d)&&o.call(d,"__await")?t.resolve(d.__await).then(function(e){r("next",e,a,l)},function(e){r("throw",e,a,l)}):t.resolve(d).then(function(e){c.value=e,a(c)},function(e){return r("throw",e,a,l)})}l(u.arg)}(i,s,r,a)})}return r=r?r.then(a,a):a()}})}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function T(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function r(){for(;++i<e.length;)if(o.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return s.next=s}}throw TypeError(n(e)+" is not iterable")}return _.prototype=w,a(O,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:_,configurable:!0}),_.displayName=h(w,d,"GeneratorFunction"),r.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,h(e,d,"GeneratorFunction")),e.prototype=Object.create(O),e},r.awrap=function(e){return{__await:e}},k(S.prototype),h(S.prototype,c,function(){return this}),r.AsyncIterator=S,r.async=function(e,t,n,i,s){void 0===s&&(s=Promise);var o=new S(p(e,t,n,i),s);return r.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},k(O),h(O,d,"Generator"),h(O,u,function(){return this}),h(O,"toString",function(){return"[object Generator]"}),r.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},r.values=T,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,i){return a.type="throw",a.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var l=o.call(s,"catchLoc"),u=o.call(s,"finallyLoc");if(l&&u){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;j(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:T(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},r}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/typeof.js":e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/regenerator/index.js":(e,t,r)=>{var n=r("./node_modules/@babel/runtime/helpers/regeneratorRuntime.js")();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},"./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js":(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{A:()=>n})},"./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js":(e,t,r)=>{"use strict";function n(e){if(Array.isArray(e))return e}r.d(t,{A:()=>n})},"./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js":(e,t,r)=>{"use strict";function n(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,{A:()=>n})},"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js":(e,t,r)=>{"use strict";function n(e,t,r,n,i,s,o){try{var a=e[s](o),l=a.value}catch(e){return void r(e)}a.done?t(l):Promise.resolve(l).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(i,s){var o=e.apply(t,r);function a(e){n(o,i,s,a,l,"next",e)}function l(e){n(o,i,s,a,l,"throw",e)}a(void 0)})}}r.d(t,{A:()=>i})},"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js":(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}r.d(t,{A:()=>n})},"./node_modules/@babel/runtime/helpers/esm/construct.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r("./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js"),i=r("./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js");function s(e,t,r){if((0,n.A)())return Reflect.construct.apply(null,arguments);var s=[null];s.push.apply(s,t);var o=new(e.bind.apply(e,s));return r&&(0,i.A)(o,r.prototype),o}},"./node_modules/@babel/runtime/helpers/esm/createClass.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r("./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js");function i(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,n.A)(i.key),i)}}function s(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}},"./node_modules/@babel/runtime/helpers/esm/defineProperty.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r("./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js");function i(e,t,r){return(t=(0,n.A)(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js":(e,t,r)=>{"use strict";function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r.d(t,{A:()=>n})},"./node_modules/@babel/runtime/helpers/esm/inherits.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r("./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js");function i(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,n.A)(e,t)}},"./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js":(e,t,r)=>{"use strict";function n(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(n=function(){return!!e})()}r.d(t,{A:()=>n})},"./node_modules/@babel/runtime/helpers/esm/iterableToArray.js":(e,t,r)=>{"use strict";function n(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}r.d(t,{A:()=>n})},"./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js":(e,t,r)=>{"use strict";function n(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}r.d(t,{A:()=>n})},"./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js");function i(e,t){if(null==e)return{};var r,i,s=(0,n.A)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],t.includes(r)||({}).propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}},"./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js":(e,t,r)=>{"use strict";function n(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}r.d(t,{A:()=>n})},"./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r("./node_modules/@babel/runtime/helpers/esm/typeof.js"),i=r("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");function s(e,t){if(t&&("object"==(0,n.A)(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return(0,i.A)(e)}},"./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js":(e,t,r)=>{"use strict";function n(e,t){return(n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}r.d(t,{A:()=>n})},"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r("./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js"),i=r("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js"),s=r("./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js");function o(e,t){return(0,n.A)(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,s,o,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}(e,t)||(0,i.A)(e,t)||(0,s.A)()}},"./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js"),i=r("./node_modules/@babel/runtime/helpers/esm/iterableToArray.js"),s=r("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js");function o(e){return function(e){if(Array.isArray(e))return(0,n.A)(e)}(e)||(0,i.A)(e)||(0,s.A)(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},"./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r("./node_modules/@babel/runtime/helpers/esm/typeof.js");function i(e){var t=function(e,t){if("object"!=(0,n.A)(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=(0,n.A)(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,n.A)(t)?t:t+""}},"./node_modules/@babel/runtime/helpers/esm/typeof.js":(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.d(t,{A:()=>n})},"./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");function i(e,t){if(e){if("string"==typeof e)return(0,n.A)(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,n.A)(e,t):void 0}}},"./node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),i=r("./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js"),s=r("./node_modules/@babel/runtime/helpers/esm/construct.js");function o(e){var t="function"==typeof Map?new Map:void 0;return(o=function(e){if(null===e||!function(e){try{return -1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return(0,s.A)(e,arguments,(0,n.A)(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),(0,i.A)(r,e)})(e)}}},e=>{e(e.s="./packages/quickload/src/quickload.ts")}]);
//# sourceMappingURL=quickload.e3d7f8964a48539ed5db.js.map